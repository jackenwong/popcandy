System.register("chunks:///_virtual/App.ts",["cc","./AppRes.ts","./AppHelper.ts","./AppNative.ts","./AppAudio.ts","./AppData.ts","./AppUser.ts","./PopData.ts","./AppViewMgr.ts","./AppUI.ts","./AppAdHelper.ts","./AppStoreHelper.ts","./AppRemoteConfig.ts","./AppHotUpdate.ts","./AppDirector.ts","./AppResolution.ts","./LanguageData.ts"],(function(p){var t,e,n,o,A,d,i,l,a,s,u,r,c,g,f,C,m,H,R,U,D,v;return{setters:[function(p){t=p.cclegacy,e=p.Component,n=p.Node,o=p.director,A=p._decorator,d=p.sys},function(p){i=p.AppRes},function(p){l=p.AppHelper},function(p){a=p.AppNative},function(p){s=p.AppAudio},function(p){u=p.AppDataCtl},function(p){r=p.AppUser},function(p){c=p.PopDataCtl},function(p){g=p.AppViewMgr},function(p){f=p.AppUI},function(p){C=p.AppAdHelper},function(p){m=p.AppStoreHelper},function(p){H=p.AppRemoteConfig},function(p){R=p.AppHotUpdate},function(p){U=p.AppDirector},function(p){D=p.AppResolution},function(t){v=t.init,p("i18n",t)}],execute:function(){var h;t._RF.push({},"f39fdwhJ9lMkLbJ00uMsLKA","App",void 0);const{ccclass:w,property:M}=A;let N=p("gAppHelper",null),S=p("gAppRes",null),y=p("gAppAudio",null),I=p("gAppNative",null),L=p("gAppResolution",null),V=p("gAppViewMgr",null),_=p("gAppUI",null),P=p("gAppDirector",null),k=p("gAppAdHelper",null),x=p("gAppStoreHelper",null),F=p("gAppHotUpdate",null);p("App",w("App")(h=class t extends e{static init(){if(!J){let p=new n("App");p.addComponent(t),o.getScene().addChild(p)}}onLoad(){J||(J=p("gApp",this),o.addPersistRootNode(this.node),v(d.language),N=p("gAppHelper",J.addComponent(l)),S=p("gAppRes",J.addComponent(i)),y=p("gAppAudio",J.addComponent(s)),I=p("gAppNative",J.addComponent(a)),L=p("gAppResolution",J.addComponent(D)),V=p("gAppViewMgr",J.addComponent(g)),_=p("gAppUI",J.addComponent(f)),P=p("gAppDirector",J.addComponent(U)),k=p("gAppAdHelper",J.addComponent(C)),x=p("gAppStoreHelper",J.addComponent(m)),F=p("gAppHotUpdate",J.addComponent(R)),J.addComponent(H),J.addComponent(u),J.addComponent(r),J.addComponent(c))}})||h);let J=p("gApp",null);t._RF.pop()}}}));

System.register("chunks:///_virtual/AppAboutUsUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./gAppConfig.ts"],(function(t){var e,i,n,o,s,r,l,a,p,u,c,b,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,o=t.TextAsset,s=t.RichText,r=t.Label,l=t.Node,a=t._decorator,p=t.Component,u=t.sys},function(t){c=t.gAppHelper,b=t.gAppHotUpdate},function(t){h=t.gAppConfig}],execute:function(){var f,g,A,d,y,v,U,x,C,m,w;n._RF.push({},"bafaaTLMbZFvbHSE2fO4rIp","AppAboutUsUI",void 0);const{ccclass:z,property:I}=a;t("AppAboutUsUI",(f=z("AppAboutUsUI"),g=I(o),A=I(s),d=I(r),y=I(l),f((x=e((U=class extends p{constructor(...t){super(...t),i(this,"txtAsset",x,this),i(this,"labelContent",C,this),i(this,"labelVersion",m,this),i(this,"loading",w,this)}start(){c.showPanel(this),this.scheduleOnce((()=>{this.labelContent.string=this.txtAsset.text,this.loading.active=!1}),.2),this.labelVersion.string="v"+(u.isNative?b.getLocalVersion():h.version)}onCloseClick(){c.closePanel(this)}}).prototype,"txtAsset",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(U.prototype,"labelContent",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=e(U.prototype,"labelVersion",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(U.prototype,"loading",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=U))||v));n._RF.pop()}}}));

System.register("chunks:///_virtual/AppAdHelper.ts",["cc","./App.ts","./AppUser.ts","./AppData.ts","./gAppConfig.ts"],(function(e){var t,d,i,s,n,a,r,A,o,h,R;return{setters:[function(e){t=e.cclegacy,d=e.Component,i=e.sys,s=e.randomRangeInt,n=e._decorator},function(e){a=e.gAppNative,r=e.gAppUI,A=e.gAppHelper},function(e){o=e.gUserData},function(e){h=e.gAppData},function(e){R=e.gAppConfig}],execute:function(){var p;t._RF.push({},"9de03e1NpFHqpsEdldKfY+Q","AppAdHelper",void 0);const{ccclass:l,property:w}=n;e("AppAdHelper",l("AppAdHelper")(p=class extends d{constructor(...e){super(...e),this._isRewardedAdReady=!1,this.RewardedAdShowedTime=0,this._isInterstitialAdReady=!1,this.interstitialAdShowedTime=0,this.bannerAdShowing=!1}start(){a.node.on(a.MSG_INTERSTITIAL_AD_READY,(e=>{this._isInterstitialAdReady="1"==e}),this),a.node.on(a.MSG_REWARDED_AD_READY,(e=>{this._isRewardedAdReady="1"==e}),this),a.node.on(a.MSG_REWARDED_AD_BONUS,this.onRewardedAdBonus,this),this.schedule((()=>{this.canLoadAd()&&!this.isRewardedAdReady()&&a.requestRewardedAd()}),60,1e3,60),this.schedule((()=>{o.adRemoved||this.canLoadAd()&&!this.isInterstitialAdReady()&&a.requestInterstitialAd()}),60,1e3,60)}canLoadAd(){return h.appDuration>1800||R.testing}isRewardedAdReady(){let e=!1;return e=i.os===i.OS.ANDROID?this._isRewardedAdReady:a.isRewardedAdReady(),console.log("isRewardedAdReady():",e),e}showRewardedAd(){this.isRewardedAdReady()&&(this.RewardedAdShowedTime=i.now(),a.showRewardedAd())}onRewardedAdBonus(){r.showRewardMessage(s(5,10),(()=>{}))}isInterstitialAdReady(){let e=!1;return e=i.os===i.OS.ANDROID?this._isInterstitialAdReady:a.isInterstitialAdReady(),console.log("isInterstitialAdReady():",e),e}isTimeToShowInterstitialAd(){let e=1e3*R.interstitial_ad_interval;return i.now()-this.interstitialAdShowedTime>e&&i.now()-this.RewardedAdShowedTime>e}showInterstitialAd(){this.isInterstitialAdReady()&&this.isTimeToShowInterstitialAd()&&(this.interstitialAdShowedTime=i.now(),a.showInterstitialAd())}isBannerAdEnabled(){return!(!(A.isChannelApproved()||h.launchCount>5&&h.appDuration>10800)||o.adRemoved)}isBannerAdShowing(){return this.bannerAdShowing}showBannerAd(){this.isBannerAdEnabled()&&(this.bannerAdShowing=!0,a.showBannerAd())}hideBannerAd(){this.bannerAdShowing=!1,a.hideBannerAd()}})||p);t._RF.pop()}}}));

System.register("chunks:///_virtual/AppAudio.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AppData.ts","./gAppUtils.ts"],(function(u){var o,i,e,s,t,c,n,l,r;return{setters:[function(u){o=u.applyDecoratedDescriptor,i=u.initializerDefineProperty},function(u){e=u.cclegacy,s=u.AudioSource,t=u._decorator,c=u.Component,n=u.clamp01},function(u){l=u.gAppData},function(u){r=u.gAppUtils}],execute:function(){var d,p,a,m,h,A,S;e._RF.push({},"da0b3BIJdFBp4tjGTZOhZUB","AppAudio",void 0);const{ccclass:y,property:g}=t;u("AppAudio",(d=y("AppAudio"),p=g(s),a=g(s),d((A=o((h=class extends c{constructor(...u){super(...u),i(this,"musicAudioSource",A,this),i(this,"soundAudioSource",S,this),this.curPlayingMusic=null}onLoad(){this.musicAudioSource=r.addComponentNodeTo(s,this.node),this.soundAudioSource=r.addComponentNodeTo(s,this.node)}start(){console.log("AppAudio.start()"),this.musicAudioSource.volume=l.musicVolume,this.soundAudioSource.volume=l.soundVolume}pauseMusic(){this.musicAudioSource.pause()}playMusic(u,o){this.musicAudioSource.volume<.5||(u?this.curPlayingMusic!=u&&(this.musicAudioSource.stop(),this.musicAudioSource.clip=null,this.scheduleOnce((()=>{this.musicAudioSource.loop=!0,this.musicAudioSource.clip=u,this.musicAudioSource.play(),this.curPlayingMusic=u}))):console.warn("clip is null"))}playSound(u){this.soundAudioSource.volume<.5||(u?this.soundAudioSource.playOneShot(u,1):console.warn("clip is null"))}setMusicVolume(u){u=n(u),l.musicVolume=u,this.musicAudioSource.volume=u}setSoundVolume(u){l.soundVolume=u,this.soundAudioSource.volume=u}openMusic(){this.setMusicVolume(1)}closeMusic(){this.setMusicVolume(0)}openSound(){this.setSoundVolume(1)}closeSound(){this.setSoundVolume(0)}}).prototype,"musicAudioSource",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=o(h.prototype,"soundAudioSource",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=h))||m));e._RF.pop()}}}));

System.register("chunks:///_virtual/AppAudioSounds.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,t,o,n,r,l,u,a,b,s;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){o=e.cclegacy,n=e.AudioClip,r=e._decorator,l=e.Component,u=e.log,a=e.js,b=e.warn,s=e.assetManager}],execute:function(){var c,p,m,f,h,d,g,y,w,C,z,G,S,J,v,B,A,M,D,R,L,I,P,E,H,N,F,O,_,j,k,x,T,Z,$,q,K,Q,U,V,W,X,Y,ee,ie,te,oe,ne,re,le,ue,ae,be,se,ce,pe,me,fe,he,de,ge,ye,we,Ce,ze,Ge,Se,Je,ve,Be,Ae,Me,De,Re,Le,Ie,Pe,Ee,He,Ne,Fe,Oe,_e,je,ke,xe,Te,Ze,$e,qe,Ke,Qe,Ue,Ve;o._RF.push({},"e40d9+RpidMZ7sJmBrjRyl3","AppAudioSounds",void 0);const{ccclass:We,property:Xe}=r;let Ye=e("AppAudioSounds",(c=We("AppAudioSounds"),p=Xe(n),m=Xe(n),f=Xe(n),h=Xe(n),d=Xe(n),g=Xe(n),y=Xe(n),w=Xe(n),C=Xe(n),z=Xe(n),G=Xe(n),S=Xe(n),J=Xe(n),v=Xe(n),B=Xe(n),A=Xe(n),M=Xe(n),D=Xe(n),R=Xe(n),L=Xe(n),I=Xe(n),P=Xe(n),E=Xe(n),H=Xe(n),N=Xe(n),F=Xe(n),O=Xe(n),_=Xe(n),j=Xe(n),k=Xe(n),x=Xe(n),T=Xe(n),Z=Xe(n),$=Xe(n),q=Xe(n),K=Xe(n),Q=Xe(n),U=Xe(n),V=Xe(n),W=Xe(n),X=Xe(n),Y=Xe(n),ee=Xe(n),ie=Xe({type:n}),te=Xe({type:n}),c(((Ve=class extends l{constructor(...e){super(...e),t(this,"BuyMagics",re,this),t(this,"CalcRemaining",le,this),t(this,"CalcRemainingEnd",ue,this),t(this,"Hit",ae,this),t(this,"PopStar",be,this),t(this,"Firework",se,this),t(this,"GainBonus",ce,this),t(this,"GameOver",pe,this),t(this,"LevelEnd",me,this),t(this,"MainMenuBg",fe,this),t(this,"GamePlayBg",he,this),t(this,"MoveDown",de,this),t(this,"MoveDown2",ge,this),t(this,"NewHighScore",ye,this),t(this,"ReplaceGem",we,this),t(this,"Select",Ce,this),t(this,"SelectGem",ze,this),t(this,"StageIntroIn",Ge,this),t(this,"StageIntroOut",Se,this),t(this,"StartGame",Je,this),t(this,"TargetClear",ve,this),t(this,"Bomb",Be,this),t(this,"Shuffle",Ae,this),t(this,"AddGold",Me,this),t(this,"ReduceGold",De,this),t(this,"GoodJob",Re,this),t(this,"GoodJob1",Le,this),t(this,"GoodJob2",Ie,this),t(this,"GoodJob3",Pe,this),t(this,"GoodJob4",Ee,this),t(this,"GoodJob5",He,this),t(this,"Combo1",Ne,this),t(this,"Combo2",Fe,this),t(this,"Combo3",Oe,this),t(this,"Combo4",_e,this),t(this,"Combo5",je,this),t(this,"Combo6",ke,this),t(this,"Combo7",xe,this),t(this,"Combo8",Te,this),t(this,"Combo9",Ze,this),t(this,"Combo10",$e,this),t(this,"Combo11",qe,this),t(this,"Combo12",Ke,this),t(this,"GoodJobs",Qe,this),t(this,"Combos",Ue,this)}onLoad(){u(`${a.getClassName(this)}.onLoad()`),ei=e("SND",this)}static loadClips(e){if(u("AppAudioSounds.loadClips()"),this.bLoaded)return void b("bLoaded already loaded.");let i="audio";s.loadBundle(i,((i,t)=>{if(i)return void b("loadBundle(audio) error!");let o=t,n="./";u("loadDir(./)"),o.loadDir(n,((i,t)=>{i?u("loadDir(./) error!"):(t.forEach((e=>{ei[e.name]=e})),ei.GoodJobs=[ei.GoodJob1,ei.GoodJob2,ei.GoodJob3,ei.GoodJob4,ei.GoodJob5],ei.Combos=[ei.Combo1,ei.Combo2,ei.Combo3,ei.Combo4,ei.Combo5,ei.Combo6,ei.Combo7,ei.Combo8,ei.Combo9,ei.Combo10,ei.Combo11,ei.Combo12],this.bLoaded=!0,e&&e())}))}))}}).bLoaded=!1,re=i((ne=Ve).prototype,"BuyMagics",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=i(ne.prototype,"CalcRemaining",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=i(ne.prototype,"CalcRemainingEnd",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=i(ne.prototype,"Hit",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=i(ne.prototype,"PopStar",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=i(ne.prototype,"Firework",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=i(ne.prototype,"GainBonus",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=i(ne.prototype,"GameOver",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=i(ne.prototype,"LevelEnd",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=i(ne.prototype,"MainMenuBg",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=i(ne.prototype,"GamePlayBg",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=i(ne.prototype,"MoveDown",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=i(ne.prototype,"MoveDown2",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=i(ne.prototype,"NewHighScore",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),we=i(ne.prototype,"ReplaceGem",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=i(ne.prototype,"Select",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ze=i(ne.prototype,"SelectGem",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ge=i(ne.prototype,"StageIntroIn",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=i(ne.prototype,"StageIntroOut",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Je=i(ne.prototype,"StartGame",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=i(ne.prototype,"TargetClear",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Be=i(ne.prototype,"Bomb",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ae=i(ne.prototype,"Shuffle",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Me=i(ne.prototype,"AddGold",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),De=i(ne.prototype,"ReduceGold",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Re=i(ne.prototype,"GoodJob",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=i(ne.prototype,"GoodJob1",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ie=i(ne.prototype,"GoodJob2",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pe=i(ne.prototype,"GoodJob3",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ee=i(ne.prototype,"GoodJob4",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),He=i(ne.prototype,"GoodJob5",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=i(ne.prototype,"Combo1",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fe=i(ne.prototype,"Combo2",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oe=i(ne.prototype,"Combo3",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=i(ne.prototype,"Combo4",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),je=i(ne.prototype,"Combo5",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ke=i(ne.prototype,"Combo6",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xe=i(ne.prototype,"Combo7",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Te=i(ne.prototype,"Combo8",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ze=i(ne.prototype,"Combo9",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$e=i(ne.prototype,"Combo10",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qe=i(ne.prototype,"Combo11",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ke=i(ne.prototype,"Combo12",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qe=i(ne.prototype,"GoodJobs",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ue=i(ne.prototype,"Combos",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),oe=ne))||oe)),ei=e("SND",new Ye);o._RF.pop()}}}));

System.register("chunks:///_virtual/AppBlockerUI.ts",["cc"],(function(c){var e,t,r;return{setters:[function(c){e=c.cclegacy,t=c.Component,r=c._decorator}],execute:function(){var o;e._RF.push({},"da6cefnN2RMXpm9tLQHPl1z","AppBlockerUI",void 0);const{ccclass:p,property:s}=r;c("AppBlockerUI",p("AppBlockerUI")(o=class extends t{start(){}})||o);e._RF.pop()}}}));

System.register("chunks:///_virtual/AppCanvasBg.ts",["cc","./App.ts","./AppResolution.ts"],(function(t){var e,s,i,n,o,h,p;return{setters:[function(t){e=t.cclegacy,s=t.Component,i=t.size,n=t.UITransform,o=t._decorator},function(t){h=t.gAppResolution},function(t){p=t.AppResolution}],execute:function(){var g;e._RF.push({},"a3d20aJgbhFvoTfYwPOWu8W","AppCanvasBg",void 0);const{ccclass:a,property:r}=o;t("AppCanvasBg",a("AppCanvasBg")(g=class extends s{constructor(...t){super(...t),this.sizeBgOrg=i(0,0)}onLoad(){this.sizeBgOrg=this.node.getComponent(n).contentSize,h.node.on(p.EVT_SIZE_CHANGED,(()=>{this.updateBg()}),this)}start(){this.updateBg()}updateBg(){let t=h.size.width,e=h.size.height,s=this.sizeBgOrg.width,i=this.sizeBgOrg.height,o=this.node.getComponent(n);o.width=t,o.height=o.width/s*i,o.height<e&&(o.height=e,o.width=o.height/i*s)}})||g);e._RF.pop()}}}));

System.register("chunks:///_virtual/AppCoinInfo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AppUser.ts","./App.ts","./gAppConfig.ts","./gAppConstant.ts","./LanguageData.ts"],(function(e){var t,o,n,i,l,a,r,s,p,d,u,c,h,b,C,g,f,w,y,A,m,I;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.initializerDefineProperty},function(e){n=e.cclegacy,i=e.Label,l=e.Node,a=e.v3,r=e._decorator,s=e.Component,p=e.find,d=e.instantiate,u=e.Widget,c=e.UIOpacity,h=e.tween,b=e.log},function(e){C=e.gUserData,g=e.gAppUser,f=e.AppUser},function(e){w=e.gAppUI,y=e.gAppAdHelper},function(e){A=e.gAppConfig},function(e){m=e.LAYER_FG2},function(e){I=e.t}],execute:function(){var T,v,O,P,L,S,R,V,_,z,D,U,N,W;n._RF.push({},"3a6cboYSqNJMriulId73y4m","AppCoinInfo",void 0);const{ccclass:E,property:$}=r;let F=null;e("AppCoinInfo",(T=E("AppCoinInfo"),v=$(i),O=$(l),P=$(l),L=$(i),S=$(i),T(((W=class e extends s{constructor(...e){super(...e),o(this,"labelCoinValue",_,this),o(this,"nodeSymbolAdd",z,this),o(this,"nodeCoinIcon",D,this),o(this,"labelAdd",U,this),o(this,"labelSubtract",N,this)}onLoad(){p(m)!=this.node.parent&&(e.instance=this)}start(){if(!F){let t=d(this.node);F=t.getComponent(e),F.getComponent(u).enabled=!1,F.node.parent=p(m),F.node.active=!1}this.labelCoinValue.string=C.coin.toString(),g.node.on(f.EVT_COIN_CHANGED,(e=>{this.updateCoin(e)}),this),this.scheduleOnce((()=>{if(e.coinWorldPos=a(this.nodeCoinIcon.worldPosition),F&&this!=F){let e=a(this.node.worldPosition);F.node.setWorldPosition(e)}})),F&&this!=F&&(this.getComponent(c).opacity=0,h(this.getComponent(c)).to(.5,{opacity:255}).start())}updateCoin(t){if(this.node.active||(this.node.active=!0),this.labelCoinValue.string=C.coin.toString(),e.showOnTopLayer(t),this==F);else{let e=a(this.node.worldPosition);F.node.setWorldPosition(e)}}static showOnTopLayer(t){b(`AppCoinInfo.showOnTopLayer(), topTweenCount:${e.topTweenCount}`),F.node.active=!0,h(F.labelCoinValue.node).to(.1,{scale:a(1.2,1.2,1.2)}).to(.1,{scale:a(1,1,1)}).delay(1.5).call((()=>{e.showOnOriginLayer()})).start(),e.topTweenCount++;let o=d(t>0?F.labelAdd.node:F.labelSubtract.node);o.getComponent(i).string=t>0?`+${t}`:`${t}`,o.parent=F.node.parent;let n=a(F.labelCoinValue.node.worldPosition);n.y-=30,o.worldPosition=n,o.active=!0,h(o).by(1,{worldPosition:a(0,60)}).destroySelf().start()}static showOnOriginLayer(){b(`AppCoinInfo.showOnOriginLayer(), topTweenCount:${e.topTweenCount}`),e.topTweenCount--,e.topTweenCount<=0&&(F.node.active=!1)}onAddClick(){A.storeEnabled?w.showStore():w.showVideoAdMessage((()=>{y.isRewardedAdReady()?y.showRewardedAd():w.showTips(I("videoAdRewardNotReady"))}))}}).instance=null,W.coinWorldPos=a(),W.topTweenCount=0,_=t((V=W).prototype,"labelCoinValue",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(V.prototype,"nodeSymbolAdd",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(V.prototype,"nodeCoinIcon",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(V.prototype,"labelAdd",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(V.prototype,"labelSubtract",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=V))||R));n._RF.pop()}}}));

System.register("chunks:///_virtual/AppData.ts",["cc","./ViewModel.ts","./gAppConfig.ts","./gAppUtils.ts"],(function(t){var a,e,o,p,s,i,n,c;return{setters:[function(t){a=t.cclegacy,e=t.Component,o=t.log,p=t.macro,s=t._decorator},function(t){i=t.VM},function(t){n=t.gAppConfig},function(t){c=t.gAppUtils}],execute:function(){var l;a._RF.push({},"9e145cP+2pFOpxwWcS0W4Ed","AppData",void 0);const{ccclass:r,property:u}=s;const h=t("gAppData",new class{constructor(){this.version=n.version,this.launchCount=0,this.appDuration=0,this.musicVolume=.8,this.soundVolume=1,this.privacyPolicyAccepted=!1,this.ratedVersion="0.1",this.inAppRatingFirstShowTime=0,this.inAppRatingShowedCount=0,this.dataImportedFrom=""}}),d="AppDataV2",g="gAppData";let D=h,A=(t("AppDataCtl",r("AppDataCtl")(l=class extends e{onLoad(){o("AppDataCtl.onLoad()"),A||(A=t("gAppDataCtl",this),this.loadData(),this.bindVM()),localStorage.setItem("version",n.version),D.launchCount++,this.schedule(this.updateAppStats,5,p.REPEAT_FOREVER,1)}updateAppStats(t){D.appDuration+=t,D.appDuration=Math.floor(D.appDuration)}bindVM(){i.add(D,g,!0),i.bindPath(g,((t,a,e)=>{this.scheduleOnce((()=>{this.saveData()}))}),this)}loadData(){const t="DataApp";let a=localStorage.getItem(t);if(a&&a.length>0){o(`Loading previous data of DataApp, ${a}`);let e=localStorage.getItem(t);if(e){let t=JSON.parse(e);t&&t.screenDuration>0&&(D.appDuration=t.screenDuration)}c.loadObject(t,D),localStorage.removeItem(t);let p="AppStats",s=localStorage.getItem(p);return s&&s.length>0&&(c.loadObject(p,D),localStorage.removeItem(p)),void this.saveData()}c.loadObject(d,D)}saveData(){c.saveObject(d,D)}})||l),t("gAppDataCtl",null));a._RF.pop()}}}));

System.register("chunks:///_virtual/AppDebugBg.ts",["cc","./gAppConfig.ts"],(function(t){var e,c,n,p,o;return{setters:[function(t){e=t.cclegacy,c=t.Component,n=t.UIOpacity,p=t._decorator},function(t){o=t.gAppConfig}],execute:function(){var s;e._RF.push({},"71fa5Fk2TtDLLADgUwXNe0K","AppDebugBg",void 0);const{ccclass:g,property:i,executeInEditMode:u}=p;t("AppDebugBg",g("AppDebugBg")(s=u(!0)(s=class extends c{start(){this.getComponent(n).opacity=0,this.node.children[0].active=o.testing}update(t){}})||s)||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/AppDebugUI.ts",["cc","./App.ts","./gAppCommon.ts","./gAppUtils.ts","./gAppConfig.ts"],(function(e){var t,n,s,i,a,o,l,p,c,r,g,d;return{setters:[function(e){t=e.cclegacy,n=e.Component,s=e.find,i=e.instantiate,a=e.Label,o=e.game,l=e._decorator},function(e){p=e.gAppHelper,c=e.gAppHotUpdate},function(e){r=e.setObjKeysAsValues},function(e){g=e.gAppUtils},function(e){d=e.gAppConfig}],execute:function(){var h;t._RF.push({},"5e1f5jjR2FC6oy+akTBhHaN","AppDebugUI",void 0);const{ccclass:u,property:m}=l;var C=function(e){return e.testing="",e.storeEnabled="",e.isVideoAdEnabled="",e.clearHotUpdateCache="",e}(C||{});r(C);e("AppDebugUI",u("AppDebugUI")(h=class extends n{start(){let e=s("Panel/Configs",this.node),t=Object.getOwnPropertyNames(C);for(let n=0;n<t.length;n++){const s=t[n];let a=n<e.children.length?e.children[n]:i(e.children[0]);a.parent=e,a.name=s,g.bindClick(a,this.onItemClick,this,s)}this.updateItems(),p.showPanel(this)}updateItems(){s("Panel/Configs",this.node).children.forEach((e=>{e.getChildByName("LabelTitle").getComponent(a).string=e.name,e.getChildByName("LabelValue").getComponent(a).string=d[e.name]}))}onItemClick(e){e==C.testing?d.testing=!d.testing:e==C.storeEnabled?d.storeEnabled=!d.storeEnabled:e==C.clearHotUpdateCache&&(c.clearAssetsDir(),o.restart()),this.updateItems()}onOKClick(){p.closePanel(this)}})||h);t._RF.pop()}}}));

System.register("chunks:///_virtual/AppDirector.ts",["cc","./App.ts","./gAppConstant.ts"],(function(e){var t,n,r,c,o,a,p,i;return{setters:[function(e){t=e.cclegacy,n=e._decorator,r=e.Component,c=e.log,o=e.find,a=e.instantiate},function(e){p=e.gAppRes},function(e){i=e.SCENE_BUNDLE}],execute:function(){var d,l;t._RF.push({},"d1b56eniHhM4p7xYxbg7kXJ","AppDirector",void 0);const{ccclass:s,property:f}=n;function u(e){return`${e}View`}e("AppDirector",s("AppDirector")(((l=class extends r{preloadScene(e,t){c(`AppDirector.preloadScene(${e})`);let n=u(e);p.loadBundlePrefabs(i[e],(()=>{p.getPrefab(n)&&t&&t()}))}loadScene(e,t){c(`AppDirector.loadScene(${e})`);let n=u(e),r=p.getPrefab(n);if(r){let e=o("Canvas/LayerView");for(let t=0;t<e.children.length;t++){e.children[t].destroy()}let n=a(r);e.addChild(n),t&&t()}else p.loadBundlePrefabs(i[e],(()=>{p.getPrefab(n)&&this.loadScene(e,t)}))}}).EVT_SceneLoaded="EVT_SceneLoaded",d=l))||d);t._RF.pop()}}}));

System.register("chunks:///_virtual/AppFadeOutUI.ts",["cc"],(function(t){var e,c,p,r,s;return{setters:[function(t){e=t.cclegacy,c=t.Component,p=t.UIOpacity,r=t.tween,s=t._decorator}],execute:function(){var a;e._RF.push({},"722ebr1z/VDKpYFkvYWjQw5","AppFadeOutUI",void 0);const{ccclass:n,property:o}=s;t("AppFadeOutUI",n("AppFadeOutUI")(a=class extends c{constructor(...t){super(...t),this.interval=.6}start(){let t=this.getComponent(p);t.opacity=255,r(t).to(this.interval,{opacity:0}).start()}})||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/AppGrid.ts",["cc"],(function(t){var n,i,r,s,e,a,h;return{setters:[function(t){n=t.cclegacy,i=t.Component,r=t.size,s=t.UITransform,e=t.log,a=t.Layout,h=t._decorator}],execute:function(){var o;n._RF.push({},"c27a0zNCclLF6YUWY0yXurM","AppGrid",void 0);const{ccclass:c,property:p}=h;t("AppGrid",c("AppGrid")(o=class extends i{constructor(...t){super(...t),this.trans=null,this.transContainer=null,this.transContainerSize=r(0,0)}start(){this.trans=this.getComponent(s),this.transContainer=this.node.parent.getComponent(s),this.transContainerSize=r(this.transContainer.width,this.transContainer.height)}update(t){if(this.transContainer.width==this.transContainerSize.width&&this.transContainer.height==this.transContainerSize.height)return;this.transContainerSize=r(this.transContainer.width,this.transContainer.height),e("AppGrid.update(), new grid container size:",Math.floor(this.transContainerSize.width),Math.floor(this.transContainerSize.height));let n=Math.floor(Math.min(this.transContainerSize.width,this.transContainerSize.height));this.trans.width=this.trans.height=n,e("new grid size:",Math.floor(this.trans.width),Math.floor(this.trans.height));let i=this.getComponent(a);i&&i.constraintNum&&(i.cellSize=r(n/i.constraintNum,n/i.constraintNum))}})||o);n._RF.pop()}}}));

System.register("chunks:///_virtual/AppHelper.ts",["cc","./AppData.ts","./App.ts","./AppHotUpdate.ts","./gAppConfig.ts"],(function(e){var t,n,a,o,s,i,r,p,l,c,d,g,h,u,C,f,A,m,N;return{setters:[function(e){t=e.cclegacy,n=e.Component,a=e.log,o=e.js,s=e.error,i=e.v3,r=e.tween,p=e.UIOpacity,l=e.instantiate,c=e.find,d=e.rect,g=e.view,h=e.size,u=e.sys},function(e){C=e.gAppData},function(e){f=e.gAppHotUpdate,A=e.gAppUI},function(e){m=e.AppHotUpdate},function(e){N=e.gAppConfig}],execute:function(){t._RF.push({},"3b8ffWEH7ZA0oqNs4C+Aa2k","AppHelper",void 0);e("AppHelper",class extends n{start(){window.addEventListener("storage",(e=>{N.testing||localStorage.setItem(e.key,e.oldValue)})),f.node.on(m.EVT_NEW_VERSION_FOUND,(()=>{a(`${o.getClassName(this)},on:EVT_NEW_VERSION_FOUND`),f.updateNow()}),this),this.scheduleOnce((()=>{f.checkUpdate()}),1)}showPanel(e){let t=e.node.getChildByName("Panel");t?(t.setScale(i(0,0,1)),r(t).to(.1,{scale:i(1,1,1)}).start()):s(`${o.getClassName(e)}.Can't find Panel node.`)}closePanel(e,t){A.antiDoubleClicks();let n=e.node.getChildByName("Panel");if(!n)return void s(`${o.getClassName(e)}.Can't find Panel node.`);let a=n.getComponent(p);a&&r(a).to(.1,{opacity:0}).start(),r(n).to(.2,{scale:i(0,0,1)}).call((()=>{t&&t(),e.node.destroy()})).start()}instantiateComponent(e,t){a("AppHelper.instantiateComponent()");let n=o.getClassName(t);a("getClassName(classConstructor):",n);let i=l(e);if(!i)return s(`instantiate error! ${n}`),null;let r=i.getComponent(t);return r||(s(`getComponent(${n}) error!`),null)}showComponentPrefab(e,t,n,a){let o=this.instantiateComponent(e,t);n&&n(o),o.node.parent=a||c("Canvas")}isChannelApproved(){if(C.launchCount>=10&&C.appDuration>=10800)return!0;let e=parseFloat(N.channel_approved_version)>=parseFloat(N.channel_version);return e||a("approved:",e),e}isVersionRated(){return C.ratedVersion==N.channel_version}getSafeArea(){let e=d(),t=g.getScaleX(),n=g.getScaleY(),a=g.getViewportRect(),o=h(a.width/t,a.height/n);if(u.isNative){let t=u.getSafeAreaRect();e=o.width>o.height?d(t.x,0,t.width,o.height):t}else e=d(10/t,10/n,o.width-20/t,o.height-20/n);return e}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/AppHotUpdate.ts",["cc"],(function(e){var t,s,a,n,i,r;return{setters:[function(e){t=e.cclegacy,s=e._decorator,a=e.Component,n=e.log,i=e.sys,r=e.native}],execute:function(){var c,o;t._RF.push({},"4f9a9uH7btNhpp1oWom3Yug","AppHotUpdate",void 0);const{ccclass:l,property:_}=s,E="project.manifest",d="hotupdate_assets";e("AppHotUpdate",l("AppHotUpdate")(((o=class e extends a{constructor(...e){super(...e),this._assetsManager=null,this._checking=!1,this._updateCallbackCalled=!1,this.newVersionFound=!1,this._updating=!1,this._checkUpdateCallbackCalled=!1,this.newVersionDownloaded=!1,this._retryCount=0}start(){n("AppHotUpdate.start()"),this.initHotUpdate()}initHotUpdate(){if(!i.isNative)return;n("AppHotUpdate.initHotUpdate()");const e=r.fileUtils.getWritablePath();console.log("WritablePath:",JSON.stringify(e));const t=e+d+"/"+E;let s=r.fileUtils.isFileExist(t)?t:E;this._assetsManager=new r.AssetsManager(s,""+(e+"hotupdate_storage")),this._assetsManager.setVerifyCallback(((e,t)=>{var s=t.compressed,a=t.md5,i=t.path,c=t.size;return s?(n("Verification passed : "+i),!0):(n("Verification passed : "+i+" ("+a+")"),!r.fileUtils.getFileSize(e)!=c)})),this.scheduleOnce((()=>{}),1)}getLocalVersion(){return this._assetsManager.getLocalManifest().getVersion()}getRemoteVersion(){return this._assetsManager.getRemoteManifest().getVersion()}getProgress(){let e=this._assetsManager.getTotalBytes(),t=this._assetsManager.getDownloadedBytes();return e>0?t/e:0}clearAssetsDir(){const e=r.fileUtils.getWritablePath();r.fileUtils.removeDirectory(`${e}/hotupdate_assets`)}funcCheckCb(t){let s=this;n("AppHotUpdate.funcCheckCb().Code: "+t.getEventCode());let a=t.getEventCode();switch(a){case r.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:case r.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:case r.EventAssetsManager.ERROR_PARSE_MANIFEST:n(`Error code:${a}`);break;case r.EventAssetsManager.ALREADY_UP_TO_DATE:n("Already up to date with the latest remote version."),s.node.emit(e.EVT_ALREADY_UP_TO_DATE);break;case r.EventAssetsManager.NEW_VERSION_FOUND:n(`New version found, please try to update. (${Math.ceil(this._assetsManager.getTotalBytes()/1024)}kb)`);let t=s._assetsManager.getLocalManifest(),l=s._assetsManager.getRemoteManifest(),_=t.getVersion(),E=l.getVersion();n(`localVersion:${_},remoteVersion:${E}`);let d=(i=E,c=_.match(/[0-9]+.[0-9]+/s),o=i.match(/[0-9]+.[0-9]+/s),c.toString()==o.toString());n("versionMatchable:"+d),d&&(s.newVersionFound=!0,s.scheduleOnce((()=>{s.node.emit(e.EVT_NEW_VERSION_FOUND)}),.1));break;default:return}var i,c,o;s._assetsManager.setEventCallback(null),s._checking=!1,this._checkUpdateCallbackCalled=!0}checkUpdate(){i.isNative&&(n("AppHotUpdate.checkUpdate()"),this._checking?n("Already checking or updating ..."):(this.newVersionFound=!1,this._checkUpdateCallbackCalled=!1,this._checking=!0,this._assetsManager.setEventCallback((e=>{this.funcCheckCb(e)})),this._assetsManager.checkUpdate(),this.scheduleOnce((()=>{this._checkUpdateCallbackCalled||(this._checking=!1)}),30)))}funcUpdateCb(t){let s=this,a=t.getEventCode();switch(a){case r.EventAssetsManager.UPDATE_PROGRESSION:break;case r.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:case r.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:case r.EventAssetsManager.ERROR_PARSE_MANIFEST:case r.EventAssetsManager.ERROR_UPDATING:case r.EventAssetsManager.ERROR_DECOMPRESS:n(`error code:${a}, message:${t.getMessage()}`);break;default:n(`default:code:${a}`)}switch(a){case r.EventAssetsManager.ALREADY_UP_TO_DATE:case r.EventAssetsManager.UPDATE_FAILED:case r.EventAssetsManager.UPDATE_FINISHED:a==r.EventAssetsManager.UPDATE_FAILED?(n("code == native.EventAssetsManager.UPDATE_FAILED"),s._retryCount<3&&(s._retryCount++,s.scheduleOnce((()=>{s.updateNow()}),1))):a==r.EventAssetsManager.UPDATE_FINISHED&&(n("code == native.EventAssetsManager.UPDATE_FINISHED"),s.newVersionDownloaded=!0,s.scheduleOnce((()=>{this.node.emit(e.EVT_NEED_RESTART)}),.1)),s._updating=!1,s._assetsManager.setEventCallback(null)}this._updateCallbackCalled=!0}updateNow(){i.isNative&&(n("AppHotUpdate.updateNow()"),this.newVersionFound?this._updating?n("Already checking or updating ..."):(this._updateCallbackCalled=!1,this._updating=!0,this._assetsManager.setEventCallback((e=>{this.funcUpdateCb(e)})),this._assetsManager.update(),this.scheduleOnce((()=>{this._updateCallbackCalled||(this._updating=!1)}),30)):n("this.newVersionFound:"+this.newVersionFound))}}).EVT_ALREADY_UP_TO_DATE="EVT_ALREADY_UP_TO_DATE",o.EVT_NEW_VERSION_FOUND="EVT_NEW_VERSION_FOUND",o.EVT_NEED_RESTART="EVT_NEED_RESTART",c=o))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/AppHotUpdateTestUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./AppHotUpdate.ts"],(function(t){var e,n,i,o,r,s,a,l,u,c,p,h,b,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){i=t.cclegacy,o=t.Button,r=t.Node,s=t.Label,a=t._decorator,l=t.Component,u=t.log,c=t.js,p=t.game},function(t){h=t.gAppHotUpdate,b=t.gAppHelper},function(t){f=t.AppHotUpdate}],execute:function(){var d,g,V,I,_,U,A,E,T,R,m,C,w,D,N,y,H;i._RF.push({},"d8cc3BrAmBMi4fYPNAFr5/g","AppHotUpdateTestUI",void 0);const{ccclass:k,property:v}=a;t("AppHotUpdateTestUI",(d=k("AppHotUpdateTestUI"),g=v(o),V=v(o),I=v(r),_=v(s),U=v(r),A=v(s),E=v(s),d((m=e((R=class extends l{constructor(...t){super(...t),n(this,"buttonUpdate",m,this),n(this,"buttonRelaunch",C,this),n(this,"currentVersionInfo",w,this),n(this,"labelCurrentVersion",D,this),n(this,"latestVersionInfo",N,this),n(this,"labelLatestVersion",y,this),n(this,"labelInfos",H,this)}start(){this.buttonUpdate.interactable=!1,this.buttonRelaunch.interactable=!1,this.currentVersionInfo.active=!1,this.latestVersionInfo.active=!1,h.node.on(f.EVT_ALREADY_UP_TO_DATE,(()=>{u(`${c.getClassName(this)},on:EVT_ALREADY_UP_TO_DATE`),this.updateInfos()}),this),h.node.on(f.EVT_NEW_VERSION_FOUND,(()=>{u(`${c.getClassName(this)},on:EVT_NEW_VERSION_FOUND`),this.updateInfos(),this.buttonUpdate.interactable=!0}),this),h.node.on(f.EVT_NEED_RESTART,(()=>{u(`${c.getClassName(this)},on:EVT_NEED_RESTART`),this.buttonRelaunch.interactable=!0}),this),b.showPanel(this)}updateInfos(){this.currentVersionInfo.active=!0,this.latestVersionInfo.active=!0,this.labelCurrentVersion.string=h.getLocalVersion(),this.labelLatestVersion.string=h.getRemoteVersion(),this.labelInfos.string=`progress:${100*h.getProgress()}%`,this.labelInfos.string+=`, newVersionFound:${h.newVersionFound}`,this.labelInfos.string+=`, Downloaded:${h.newVersionDownloaded}`}onCheckClick(){h.checkUpdate()}onUpdateClick(){h.updateNow()}onRelaunchClick(){p.restart()}onClearCachesClick(){h.clearAssetsDir()}onOKClick(){b.closePanel(this)}}).prototype,"buttonUpdate",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(R.prototype,"buttonRelaunch",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(R.prototype,"currentVersionInfo",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(R.prototype,"labelCurrentVersion",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(R.prototype,"latestVersionInfo",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(R.prototype,"labelLatestVersion",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(R.prototype,"labelInfos",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=R))||T));i._RF.pop()}}}));

System.register("chunks:///_virtual/AppImg.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,h,o,r,s,p,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,h=t.Enum,o=t._decorator,r=t.Component,s=t.size,p=t.UITransform,g=t.Node}],execute:function(){var d,c,u,a,f;n._RF.push({},"2915a5760dMjLNlJm3Nv6R+","AppImg",void 0);const{ccclass:l,property:m}=o;var y=function(t){return t[t.fitAuto=0]="fitAuto",t[t.fitWidth=1]="fitWidth",t[t.fitHeight=2]="fitHeight",t}(y||{});h(y);t("AppImg",(d=l("AppImg"),c=m({type:y}),d((f=e((a=class extends r{constructor(...t){super(...t),i(this,"fitType",f,this),this.sizeBgOrg=s(0,0)}onLoad(){this.sizeBgOrg=s(this.node.getComponent(p).contentSize)}start(){this.scheduleOnce((()=>{this.updateBg()})),this.node.parent.on(g.EventType.SIZE_CHANGED,(()=>{this.updateBg()}),this)}updateBg(){let t=this.node.parent.getComponent(p).width,e=this.node.parent.getComponent(p).height,i=this.sizeBgOrg.width,n=this.sizeBgOrg.height,h=this.node.getComponent(p);h.width=i,h.height=n,this.fitType==y.fitWidth?t>i&&(h.width=t,h.height=h.width/i*n):(h.width=t,h.height=h.width/i*n,h.height<e&&(h.height=e,h.width=h.height/n*i))}}).prototype,"fitType",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y.fitAuto}}),u=a))||u));n._RF.pop()}}}));

System.register("chunks:///_virtual/AppLayout.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,i,r,a,o,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){i=t.cclegacy,r=t.UITransform,a=t._decorator,o=t.Component,s=t.rect}],execute:function(){var l,u,p,c,h,g,b,f,y,d,m,H,M,w,z,L,C,F,R,_,v,A,D;i._RF.push({},"11b662hPcpOyKHeC4MDoGPp","AppLayout",void 0);const{ccclass:P,property:B}=a;t("AppLayout",(l=P("AppLayout"),u=B(r),p=B(r),c=B(r),h=B(r),g=B(r),b=B(r),f=B(r),y=B(r),d=B(r),m=B(r),l((w=e((M=class extends o{constructor(...t){super(...t),n(this,"transHeader",w,this),n(this,"transVCenter",z,this),n(this,"transFooter",L,this),n(this,"transLeft",C,this),n(this,"transContent",F,this),n(this,"transRight",R,this),n(this,"transMarginTop",_,this),n(this,"transMarginLeft",v,this),n(this,"transMarginRight",A,this),n(this,"transMarginBottom",D,this),this.designH=960,this.designW=640,this.designContentW=640,this.designContentH=640,this.designHeaderH=220,this.designFooterH=100,this.designHeaderMinH=20,this.designFooterMinH=20,this._rectView=s(0,0,0,0)}}).prototype,"transHeader",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(M.prototype,"transVCenter",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(M.prototype,"transFooter",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(M.prototype,"transLeft",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(M.prototype,"transContent",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(M.prototype,"transRight",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(M.prototype,"transMarginTop",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(M.prototype,"transMarginLeft",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(M.prototype,"transMarginRight",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(M.prototype,"transMarginBottom",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=M))||H));i._RF.pop()}}}));

System.register("chunks:///_virtual/AppLayout1.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./AppResolution.ts","./gAppConstant.ts"],(function(t){var e,i,r,o,n,h,a,s,l,c,p,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){r=t.cclegacy,o=t.UITransform,n=t.Node,h=t._decorator,a=t.Component,s=t.size},function(t){l=t.gAppResolution},function(t){c=t.AppResolutionPolicy},function(t){p=t.DESIGN_W,u=t.DESIGN_H}],execute:function(){var d,g,f,y,b,z,S,L,O,m,w,A,v,E,P,_,D;r._RF.push({},"6a85actGdhPeKFbyqn3Ji5v","AppLayout1",void 0);const{ccclass:N,property:x}=h;t("AppLayout1",(d=N("AppLayout1"),g=x(o),f=x(o),y=x(o),b=x(o),z=x(o),S=x([n]),L=x([n]),d((w=e((m=class extends a{constructor(...t){super(...t),i(this,"left",w,this),i(this,"right",A,this),i(this,"header",v,this),i(this,"footer",E,this),i(this,"content",P,this),i(this,"arrPortraitOnly",_,this),i(this,"arrLandscapeOnly",D,this),this.headerSizeOrg=s(0,0),this.footerSizeOrg=s(0,0),this.contentSizeOrg=s(0,0)}onLoad(){console.log("AppLayout.onLoad()"),this.headerSizeOrg=s(this.header.contentSize),this.footerSizeOrg=s(this.footer.contentSize),this.contentSizeOrg=s(this.content.contentSize),this.node.parent.on(n.EventType.SIZE_CHANGED,(()=>{this.updateLayout()}),this)}start(){console.log("AppLayout.start()"),this.updateLayout()}updateLayout(){let t=this.node.parent.getComponent(o).height,e=this.node.parent.getComponent(o).width,i=p,r=u,n=this.contentSizeOrg.height;this.left.width=0,this.right.width=0,this.header.height=this.headerSizeOrg.height,this.footer.height=this.footerSizeOrg.height,l.policy==c.fixedWidthPortrait?this.header.height=(t-n)*(this.headerSizeOrg.height/(r-n)):l.policy==c.fixedHeightLandscape&&(this.header.height=(t-n)/2),console.log(`header.height:${this.header.height}`),this.left.width=this.right.width=(e-i)/2,this.footer.height=t-this.header.height-n,this.hideSomeNodes()}hideSomeNodes(){l.policy==c.fixedHeightLandscape?(this.arrLandscapeOnly.forEach((t=>{t.active=!0})),this.arrPortraitOnly.forEach((t=>{t.active=!1}))):(this.arrPortraitOnly.forEach((t=>{t.active=!0})),this.arrLandscapeOnly.forEach((t=>{t.active=!1})))}}).prototype,"left",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(m.prototype,"right",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(m.prototype,"header",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(m.prototype,"footer",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(m.prototype,"content",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(m.prototype,"arrPortraitOnly",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=e(m.prototype,"arrLandscapeOnly",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=m))||O));r._RF.pop()}}}));

System.register("chunks:///_virtual/AppLayoutAdaptor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AppSetterForEditor.ts","./gAppConstant.ts"],(function(t){var e,a,r,i,o,n,s,p,u,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.initializerDefineProperty},function(t){r=t.cclegacy,i=t.Node,o=t._decorator,n=t.Component,s=t.log,p=t.js,u=t.director},null,function(t){l=t.EVT_VIEW_SIZE_CHANGE}],execute:function(){var c,d,h,y,f,A,g,m;r._RF.push({},"3b8485v56JCuqDtO1v6rvHR","AppLayoutAdaptor",void 0);const{ccclass:C,property:E,executeInEditMode:L}=o;t("AppLayoutAdaptor",(c=C("AppLayoutAdaptor"),d=L(!0),h=E(i),y=E(i),c(f=d((g=e((A=class extends n{constructor(...t){super(...t),a(this,"landscapeParent",g,this),a(this,"portraitParent",m,this)}start(){s(`${p.getClassName(this)}.start`),this.updateLayout(),u.on(l,(t=>{s(`${p.getClassName(this)}.VIEW_SIZE_CHANGE`),this.updateLayout()}),this)}updateLayout(){if(s(`${p.getClassName(this)}.updateLayout`),this.landscapeParent&&this.portraitParent){let t=this.portraitParent;if(this.node.parent!=t){let e=t.getChildByName(this.node.name);e&&(e.active=!1),this.node.parent=t}}}}).prototype,"landscapeParent",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=e(A.prototype,"portraitParent",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=A))||f)||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/AppLayoutHelper.ts",["cc","./gAppConstant.ts"],(function(t){var e,i,s,a,r,n,h,o,c,g,p,l,u;return{setters:[function(t){e=t.cclegacy,i=t.Enum,s=t._decorator,a=t.Component,r=t.size,n=t.rect,h=t.view,o=t.sys,c=t.log,g=t.js,p=t.ResolutionPolicy,l=t.director},function(t){u=t.EVT_VIEW_SIZE_CHANGE}],execute:function(){var w,d;e._RF.push({},"9e6c7g4u6ZBsJj1I0qzVmRP","AppLayoutHelper",void 0);const{ccclass:S,property:_}=s;let A=t("AppLayoutHelperOrientation",function(t){return t[t.Unknown=0]="Unknown",t[t.Portrait=1]="Portrait",t[t.Landscape=2]="Landscape",t}({}));i(A);const E=640,V=960;t("AppLayoutHelper",S("AppLayoutHelper")(((d=class t extends a{constructor(...t){super(...t),this.landscapeRatio=1.6,this.canvasSize=r(E,V),this.safeArea=n(0,0,E,V),this.marginTop=20,this.marginBottom=20,this.designOrientation=A.Portrait,this.orientation=A.Unknown,this._rectView=n(0,0,0,0)}get isLandscape(){return this.orientation==A.Landscape}get isPortrait(){return this.orientation==A.Portrait}shouldLandscape(){let t=h.getViewportRect();return t.width/t.height>=this.landscapeRatio}getSafeArea(){let t=n(),e=h.getScaleX(),i=h.getScaleY(),s=r(this._rectView.width/e,this._rectView.height/i);if(o.isNative){let e=o.getSafeAreaRect();t=s.width>s.height?n(e.x,0,e.width,s.height):e}else t=n(10/e,10/i,s.width-20/e,s.height-20/i);return t}updateView(){this._rectView=n(h.getViewportRect()),c(`${g.getClassName(this)}.updateView(), new viewPortRect:`,this._rectView.toString());let e=r(this._rectView.width/h.getScaleX(),this._rectView.height/h.getScaleY()),i=this.getSafeArea();c(`szCanvas size:${e.toString()},safeArea size:${i.toString()}`);let s=e.height-i.height,a=e.width/e.height>E/V,o=a&&this.shouldLandscape(),u=o?V:E,w=o?E:V;w+=o?this.marginTop+this.marginBottom:0,w=s>0?w/(1-s/e.height):w;let d=a?p.FIXED_HEIGHT:p.FIXED_WIDTH;h.setDesignResolutionSize(u,w,d),c(`view.setDesignResolutionSize(dw:${u},dh:${w}, ${d==p.FIXED_HEIGHT?"FIXED_HEIGHT":"FIXED_WIDTH"})`),this.orientation=o?A.Landscape:A.Portrait,this.canvasSize=r(this._rectView.width/h.getScaleX(),this._rectView.height/h.getScaleY()),this.safeArea=this.getSafeArea(),c(`szCanvasNew size:${this.canvasSize.toString()},safeArea size:${this.safeArea.toString()}`),l.emit(t.EVT_SIZE_CHANGE,this,this.canvasSize,this.safeArea)}update(t){}}).EVT_SIZE_CHANGE=u,w=d))||w);e._RF.pop()}}}));

System.register("chunks:///_virtual/AppLayoutItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./AppResolution.ts"],(function(t){var e,a,o,n,i,r,s,p,u,l,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.initializerDefineProperty},function(t){o=t.cclegacy,n=t.Node,i=t._decorator,r=t.Component,s=t.log,p=t.js},function(t){u=t.gAppResolution},function(t){l=t.AppResolution,c=t.AppResolutionPolicy}],execute:function(){var d,h,y,f,L,g,m;o._RF.push({},"87e41v2bUBGX6Qhq3C3ybfz","AppLayoutItem",void 0);const{ccclass:P,property:A}=i;t("AppLayoutItem",(d=P("AppLayoutItem"),h=A(n),y=A(n),d((g=e((L=class extends r{constructor(...t){super(...t),a(this,"landscapeParent",g,this),a(this,"portraitParent",m,this)}onLoad(){s(`${p.getClassName(this)}.onLoad()`),u.node.on(l.EVT_SIZE_CHANGED,(()=>{this.updateLayout()}),this),this.updateLayout()}start(){s(`${p.getClassName(this)}.start()`)}updateLayout(){if(s(`${p.getClassName(this)}.updateLayout`),this.landscapeParent&&this.portraitParent){let t=u.policy==c.fixedHeightLandscape?this.landscapeParent:this.portraitParent;this.node.parent!=t&&(this.node.parent=t)}}}).prototype,"landscapeParent",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=e(L.prototype,"portraitParent",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=L))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/AppLoadingUI.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,s,t,o,i,a,n,p,l,c;return{setters:[function(e){r=e.applyDecoratedDescriptor,s=e.initializerDefineProperty},function(e){t=e.cclegacy,o=e.ProgressBar,i=e.Label,a=e._decorator,n=e.Component,p=e.tween,l=e.UIOpacity,c=e.macro}],execute:function(){var u,g,h,b,d,y,f;t._RF.push({},"c926a3xsYhDQoGZpQeL1kpM","AppLoadingUI",void 0);const{ccclass:L,property:P}=a;e("AppLoadingUI",(u=L("AppLoadingUI"),g=P(o),h=P(i),u((y=r((d=class extends n{constructor(...e){super(...e),s(this,"progressBar",y,this),s(this,"labelProgress",f,this),this.progress=0}start(){this.schedule((()=>{this.progress+=.1,this.progress>=1&&(this.progress=1,p(this.labelProgress.getComponent(l)).to(.2,{opacity:0}).to(.2,{opacity:255}).delay(1).union().repeat(60).start(),this.unscheduleAllCallbacks()),this.progressBar.progress=this.progress}),.1,c.REPEAT_FOREVER)}}).prototype,"progressBar",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=r(d.prototype,"labelProgress",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=d))||b));t._RF.pop()}}}));

System.register("chunks:///_virtual/AppLuckyButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./AppUser.ts","./AppLuckyUI.ts"],(function(t){var e,i,n,o,a,s,c,u,p,l,r,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,o=t.Node,a=t._decorator,s=t.Component,c=t.tween,u=t.v3},function(t){p=t.gAppUI,l=t.gAppHelper},function(t){r=t.gUserData},function(t){y=t.AppLuckyUI}],execute:function(){var h,d,b,A,f,v;n._RF.push({},"ae30fUL4dhBHZaicoPAjioj","AppLuckyButton",void 0);const{ccclass:g,property:w}=a;t("AppLuckyButton",(h=g("AppLuckyButton"),d=w(o),h((f=e((A=class extends s{constructor(...t){super(...t),i(this,"icon",f,this),i(this,"alwaysValid",v,this),this.twAvailable=null}onload(){}start(){this.twAvailable=c(this.icon).delay(1).by(.3,{position:u(0,20,0)},{easing:"bounceInOut"}).by(.3,{position:u(0,-20,0)},{easing:"bounceOut"}).by(2,{angle:360}).delay(1).union().repeatForever(),this.updateIcon(),this.schedule((()=>{this.updateIcon()}),5,100)}onButtonClick(){p.showLuckyCompass()}updateIcon(){if(this.node.active=l.isChannelApproved()&&r.coin<200,this.node.active){y.isLuckyBonusAvailable()?this.twAvailable.start():(this.twAvailable.stop(),this.alwaysValid)}}}).prototype,"icon",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(A.prototype,"alwaysValid",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),b=A))||b));n._RF.pop()}}}));

System.register("chunks:///_virtual/AppLuckyUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AppUser.ts","./App.ts","./gAppConfig.ts"],(function(t){var e,i,o,l,n,s,r,a,u,c,h,p,b,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){o=t.cclegacy,l=t.Label,n=t.Node,s=t.Button,r=t._decorator,a=t.Component,u=t.sys,c=t.math,h=t.tween},function(t){p=t.gUserData},function(t){b=t.gAppHelper},function(t){g=t.gAppConfig}],execute:function(){var d,R,f,m,y,T,B,k,v,A,w;o._RF.push({},"32b10gh3vBLlYKeccgcou1q","AppLuckyUI",void 0);const{ccclass:D,property:I}=r,L=g.testing?10:1800;t("AppLuckyUI",(d=D("AppLuckyUI"),R=I(l),f=I(n),m=I(s),y=I(s),d((k=e((B=class extends a{constructor(...t){super(...t),i(this,"labelTimer",k,this),i(this,"nodeBoard",v,this),i(this,"buttonRoll",A,this),i(this,"buttonRollDisabled",w,this),this.isRolling=!1,this.bonusTime=0,this.cbRollFinished=null}setParams(t){this.cbRollFinished=t}start(){this.bonusTime=p.luckyBonusTime,this.updateTimer(),this.schedule(this.updateTimer,1),b.showPanel(this)}prefixInteger(t,e){return(Array(e).join("0")+t).slice(-e)}updateTimer(){if(this.isRolling)return;let t=(u.now()-this.bonusTime)/1e3;if(t<L){let e=L-t,i=Math.floor(e/60),o=Math.floor(e%60),l=this.prefixInteger(i,2)+":"+this.prefixInteger(o,2);this.labelTimer.string=l,this.buttonRoll.node.active=!1,this.buttonRollDisabled.node.active=!0}else this.labelTimer.string="",this.buttonRollDisabled.node.active=!1,this.buttonRoll.node.active=!0}onCloseClick(){b.closePanel(this)}onRollClick(){if(this.isRolling)return;let t=c.randomRange(5,8),e=2*(360+1440*Math.random());t+=e/360;let i=e;console.log("fRotation:"+i),this.nodeBoard.angle=0,h(this.nodeBoard).by(t,{angle:i},{easing:"backInOut"}).call((()=>{this.onRollingStopped()})).start(),this.buttonRoll.node.active=!1,this.buttonRollDisabled.node.active=!0,this.isRolling=!0}onRollingStopped(){this.isRolling=!1;let t=this.getRollingResult();this.bonusTime=u.now(),p.luckyBonusTime=this.bonusTime,console.log("bonus:"+t),this.cbRollFinished&&this.cbRollFinished(t)}getRollingResult(){let t=this.nodeBoard.angle%360,e=Math.floor(t/30);console.log("fRotation:"+this.nodeBoard.angle),console.log("iMod: "+t),console.log("iNum: "+e);let i=1;return 0==e||6==e?i=1:1==e||7==e?i=2:2==e?i=10:8==e?i=3:3==e||9==e?i=4:4==e||10==e?i=5:5!=e&&11!=e||(i=6),console.log("iBonus: "+i),i}static isLuckyBonusAvailable(){return(u.now()-p.luckyBonusTime)/1e3>=L}}).prototype,"labelTimer",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(B.prototype,"nodeBoard",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(B.prototype,"buttonRoll",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(B.prototype,"buttonRollDisabled",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=B))||T));o._RF.pop()}}}));

System.register("chunks:///_virtual/AppMaskFg.ts",["cc"],(function(t){var e,n,s,a,i;return{setters:[function(t){e=t.cclegacy,n=t._decorator,s=t.Component,a=t.UIOpacity,i=t.tween}],execute:function(){var o,c;e._RF.push({},"295dewaYB5FxIzQhJ3RGSpe","AppMaskFg",void 0);const{ccclass:p,property:u}=n;t("AppMaskFg",p("AppMaskFg")(((c=class t extends s{constructor(...t){super(...t),this._tweenFadeIn=null,this._tweenFadeOut=null}onLoad(){t.instance=this}start(){}update(t){}show(t){this.fadeIn(.5,(()=>{this.fadeOut(.5,t)}))}fadeIn(t,e){this.node.active=!0;let n=this.getComponent(a);this._tweenFadeIn&&this._tweenFadeIn.stop(),this._tweenFadeIn=i(n).set({opacity:0}).to(t||.5,{opacity:255}).call((()=>{e&&e(),this._tweenFadeIn=null})).start()}fadeOut(t,e){let n=this.getComponent(a);this._tweenFadeOut&&this._tweenFadeOut.stop(),this._tweenFadeOut=i(n).set({opacity:255}).to(t||.5,{opacity:0}).call((()=>{e&&e(),this._tweenFadeOut=null,this.node.active=!1})).start()}}).instance=null,o=c))||o);e._RF.pop()}}}));

System.register("chunks:///_virtual/AppMessageBoxUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts"],(function(e){var t,l,n,i,s,o,r;return{setters:[function(e){t=e.applyDecoratedDescriptor,l=e.initializerDefineProperty},function(e){n=e.cclegacy,i=e.Label,s=e._decorator,o=e.Component},function(e){r=e.gAppHelper}],execute:function(){var a,c,u,p,h,b,f,g,C;n._RF.push({},"e75d9MGQRJFvJgXJdkOCELD","AppMessageBoxUI",void 0);const{ccclass:O,property:y}=s;e("AppMessageBoxUI",(a=O("AppMessageBoxUI"),c=y(i),u=y(i),p=y(i),a((f=t((b=class extends o{constructor(...e){super(...e),l(this,"labelTitle",f,this),l(this,"labelContent",g,this),l(this,"labelOK",C,this),this.funcOK=null,this.funcClose=null}setParams(e,t,l,n,i){this.labelTitle.string=e,this.labelContent.string=t,n&&n.length&&(this.labelOK.string=n),this.funcOK=l,this.funcClose=i}start(){r.showPanel(this)}onOKClick(){r.closePanel(this,(()=>{this.funcOK&&this.funcOK()}))}onCloseClick(){r.closePanel(this,(()=>{this.funcClose&&this.funcClose()}))}}).prototype,"labelTitle",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=t(b.prototype,"labelContent",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(b.prototype,"labelOK",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=b))||h));n._RF.pop()}}}));

System.register("chunks:///_virtual/AppMsgBoxUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts"],(function(e){var t,l,n,o,i,r,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,l=e.initializerDefineProperty},function(e){n=e.cclegacy,o=e.Label,i=e._decorator,r=e.Component},function(e){s=e.gAppUI}],execute:function(){var c,p,a,u,f,b,h;n._RF.push({},"72e7cMm+GJIzJtWPKfLl6lY","AppMsgBoxUI",void 0);const{ccclass:g,property:y}=i;e("AppMsgBoxUI",(c=g("AppMsgBoxUI"),p=y(o),a=y(o),c((b=t((f=class extends r{constructor(...e){super(...e),l(this,"labelContent",b,this),l(this,"labelTitle",h,this)}start(){s.runShowPanelEffect(this)}close(){s.runClosePanelEffect(this,(()=>{}))}onOKClick(){this.close()}onCloseClick(){this.close()}}).prototype,"labelContent",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=t(f.prototype,"labelTitle",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=f))||u));n._RF.pop()}}}));

System.register("chunks:///_virtual/AppNative.ts",["cc","./gAppUtils.ts"],(function(t){var e,n,i,s,r,a,o,l;return{setters:[function(t){e=t.cclegacy,n=t.Component,i=t.log,s=t.js,r=t.warn,a=t.sys,o=t.native},function(t){l=t.gAppUtils}],execute:function(){e._RF.push({},"72e77oKpuFJiYIw+l9mMk4u","AppNative",void 0);let c=t("AppNativeF",function(t){return t.isInterstitialAdReady="",t.requestInterstitialAd="",t.showInterstitialAd="",t.isRewardedAdReady="",t.requestRewardedAd="",t.showRewardedAd="",t.isRewardedInterstitialAdReady="",t.requestRewardedInterstitialAd="",t.showRewardedInterstitialAd="",t.setBannerAdMaxHeight="",t.showBannerAd="",t.hideBannerAd="",t.showInAppRating="",t.openAppStoreReview="",t.purchaseProduct="",t.restorePurchase="",t.reportScore="",t.reportMagics="",t.showRank="",t.showShareMenu="",t.getDeviceModel="",t.getSystemVersion="",t.canOpenURL="",t.setupConfigs="",t.loadModule="",t.getInfos="",t}({}));l.enumSetKeysAsValues(c);const A=c;class d extends n{constructor(...t){super(...t),this.MSG_SHARE_COMPLETE="MSG_SHARE_COMPLETE",this.MSG_SYS_SHARE_COMPLETE="MSG_SYS_SHARE_COMPLETE",this.MSG_IAP_PURCHASE_BEGIN="MSG_IAP_PURCHASE_BEGIN",this.MSG_IAP_PURCHASE_FINISHED="MSG_IAP_PURCHASE_FINISHED",this.MSG_IAP_PURCHASE_RESTORED="MSG_IAP_PURCHASE_RESTORED",this.MSG_IAP_PURCHASE_FAILED="MSG_IAP_PURCHASE_FAILED",this.MSG_BANNER_AD_CLOSE_CLICKED="MSG_BANNER_AD_CLOSE_CLICKED",this.MSG_INTERSTITIAL_AD_READY="MSG_INTERSTITIAL_AD_READY",this.MSG_REWARDED_AD_READY="MSG_REWARDED_AD_READY",this.MSG_REWARDED_AD_BONUS="MSG_REWARDED_AD_BONUS",this.MSG_REWARDED_INSTERSTITIAL_AD_READY="MSG_REWARDED_INSTERSTITIAL_AD_READY",this.MSG_REWARDED_INSTERSTITIAL_AD_BONUS="MSG_REWARDED_INSTERSTITIAL_AD_BONUS",this._infos=null}static get instance(){return d._instance}onLoad(){if(i(`${s.getClassName(this)} onLoad()`),d._instance)return r(`${s.getClassName(this)}} instance already existed!`),void(this.node.active=!1);d._instance=this,window.gNative=this,a.isNative&&(o.bridge.onNative=(t,e)=>{this.notify(t,e)})}callFunction(t,e){console.log("AppNative::callFunction():"+t+" param:"+e);let n="";return e=e||"",a.isNative?a.os===a.OS.ANDROID?o.bridge.sendToNative(t,e):a.os!==a.OS.IOS&&a.os!==a.OS.OSX||(n=o.reflection.callStaticMethod("NativeHelper",t+":",e)):(a.platform,a.Platform.WECHAT_GAME),console.log("AppNative::callFunction() typeof(result):"+typeof n),console.log("AppNative::callFunction() return:"+n),n}notify(t,e){console.log("AppNative::notify():"+t+" param:"+e),this.node.emit(t,e)}showBannerAd(){return this.callFunction(A.showBannerAd)}hideBannerAd(){return this.callFunction(A.hideBannerAd)}isInterstitialAdReady(){return"1"==this.callFunction(A.isInterstitialAdReady)}requestInterstitialAd(){return this.callFunction(A.requestInterstitialAd)}showInterstitialAd(){return this.callFunction(A.showInterstitialAd)}isRewardedAdReady(){return"1"==this.callFunction(A.isRewardedAdReady)}requestRewardedAd(){return this.callFunction(A.requestRewardedAd)}showRewardedAd(){return this.callFunction(A.showRewardedAd)}isRewardedInterstitialAdReady(){return"1"==this.callFunction(A.isRewardedInterstitialAdReady)}requestRewardedInterstitialAd(){return this.callFunction(A.requestRewardedInterstitialAd)}showRewardedInterstitialAd(){return this.callFunction(A.showRewardedInterstitialAd)}showInAppRating(){return this.callFunction(A.showInAppRating)}openAppStoreReview(){return this.callFunction(A.openAppStoreReview)}purchaseProduct(t){return this.callFunction(A.purchaseProduct,t)}restorePurchase(){return this.callFunction(A.restorePurchase)}showShareMenu(t,e){return this.callFunction(A.showShareMenu,JSON.stringify({content:t,url:e}))}getDeviceModel(){return this.callFunction(A.getDeviceModel)}getSystemVersion(){return this.callFunction(A.getSystemVersion)}reportScore(t){return this.callFunction(A.reportScore,t.toString())}reportMagics(t){return this.callFunction(A.reportMagics,t.toString())}showRank(){return this.callFunction(A.showRank)}canOpenURL(t){return"1"==this.callFunction(A.canOpenURL,t)}getInfos(){if(!this._infos){let t=this.callFunction(A.getInfos);t&&t.length>0&&(this._infos=JSON.parse(t))}return this._infos}setupConfigs(t){return this.callFunction(A.setupConfigs,t)}loadModule(t){return this.callFunction(A.loadModule,t)}}t("AppNative",d),d._instance=null,e._RF.pop()}}}));

System.register("chunks:///_virtual/AppPrivacyDialogUI.ts",["cc","./App.ts"],(function(c){var s,t,e,o;return{setters:[function(c){s=c.cclegacy,t=c.Component,e=c._decorator},function(c){o=c.gAppHelper}],execute:function(){var i;s._RF.push({},"26e17MkgrFDdId2dZlUDugY","AppPrivacyDialogUI",void 0);const{ccclass:n,property:r}=e;c("AppPrivacyDialogUI",n("AppPrivacyDialogUI")(i=class extends t{constructor(...c){super(...c),this.funcOK=null}start(){this.show()}show(){o.showPanel(this)}close(){o.closePanel(this)}onAcceptClick(){this.funcOK&&this.funcOK(),this.close()}})||i);s._RF.pop()}}}));

System.register("chunks:///_virtual/AppPrivacyPolicy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./LanguageData.ts"],(function(t){var i,e,r,n,o,c,a,l,s;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){r=t.cclegacy,n=t.TextAsset,o=t._decorator,c=t.Component,a=t.sys},function(t){l=t.gAppUI},function(t){s=t.t}],execute:function(){var u,y,p,P,h,x,g,d,v,f,m;r._RF.push({},"8d1287GlERPIo30TYtiKAKt","AppPrivacyPolicy",void 0);const{ccclass:C,property:b}=o;t("AppPrivacyPolicy",(u=C("AppPrivacyPolicy"),y=b(n),p=b(n),P=b(n),h=b(n),u((d=i((g=class extends c{constructor(...t){super(...t),e(this,"txtPrivacyPolicy",d,this),e(this,"txtTermsCondition",v,this),e(this,"txtPrivacyPolicyZh",f,this),e(this,"txtTermsConditionZh",m,this)}start(){}onPrivacyPolicyClick(){a.Language.CHINESE==a.language?l.showTextViewer(this.txtPrivacyPolicyZh.text,s("privacyPolicy")):l.showTextViewer(this.txtPrivacyPolicy.text,s("privacyPolicy"))}onTermsConditionClick(){a.Language.CHINESE==a.language?l.showTextViewer(this.txtTermsConditionZh.text,s("termsAndConditions")):l.showTextViewer(this.txtTermsCondition.text,s("termsAndConditions"))}}).prototype,"txtPrivacyPolicy",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=i(g.prototype,"txtTermsCondition",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=i(g.prototype,"txtPrivacyPolicyZh",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=i(g.prototype,"txtTermsConditionZh",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=g))||x));r._RF.pop()}}}));

System.register("chunks:///_virtual/AppRatingBoxUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./AppData.ts","./gAppConfig.ts"],(function(e){var t,n,i,o,s,r,a,l,c,p,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){i=e.cclegacy,o=e.Node,s=e._decorator,r=e.Component},function(e){a=e.gAppHelper,l=e.gAppUI,c=e.gAppNative},function(e){p=e.gAppData},function(e){h=e.gAppConfig}],execute:function(){var u,g,d,f,A,C,R;i._RF.push({},"518e4YdwaJDcqexFhoGsroi","AppRatingBoxUI",void 0);const{ccclass:S,property:I}=s;e("AppRatingBoxUI",(u=S("AppRatingBoxUI"),g=I(o),d=I(o),u((C=t((A=class extends r{constructor(...e){super(...e),n(this,"coinInfo",C,this),n(this,"stars",R,this),this.cbOK=null,this.selectedStar=5}start(){this.coinInfo.active=a.isChannelApproved(),a.showPanel(this)}onRatingClick(){a.isVersionRated()||(p.ratedVersion=h.channel_version,a.scheduleOnce((()=>{l.showRewardCollect(this.selectedStar+5,(()=>{}))}),10)),p.inAppRatingShowedCount++,p.inAppRatingShowedCount<4?c.showInAppRating():c.openAppStoreReview(),this.cbOK&&this.cbOK(this.selectedStar),this.onCloseClick()}onCloseClick(){a.closePanel(this)}onStarClick(e){let t=e.target;if(t&&(console.log("onStarClick(), type:",t.name),this.selectedStar=parseInt(t.name),this.selectedStar>0)){let e=this.stars.children;for(let t=0;t<e.length;t++){let n=e[t];if(n.children.length>0){let e=n.children[0],t=parseInt(n.name);e.active=t<=this.selectedStar}}}}}).prototype,"coinInfo",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(A.prototype,"stars",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=A))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/AppRatingButton.ts",["cc","./App.ts"],(function(t){var n,e,p,o,c;return{setters:[function(t){n=t.cclegacy,e=t.Component,p=t._decorator},function(t){o=t.gAppHelper,c=t.gAppUI}],execute:function(){var s;n._RF.push({},"1110cbEl9tOdaJaF8pZYr0A","AppRatingButton",void 0);const{ccclass:i,property:a}=p;t("AppRatingButton",i("AppRatingButton")(s=class extends e{start(){o.isChannelApproved()?o.isVersionRated()&&(this.node.active=!1):this.node.active=!1}onClick(){c.showRatingBox((t=>{}))}})||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/AppRemoteConfig.ts",["cc","./gAppConfig.ts","./gAppUtils.ts"],(function(o){var e,t,n,s,c;return{setters:[function(o){e=o.cclegacy,t=o._decorator,n=o.Component},function(o){s=o.gAppConfig},function(o){c=o.gAppUtils}],execute:function(){var i,l;e._RF.push({},"415edTcpihJUbJRhAQEdujR","AppRemoteConfig",void 0);const{ccclass:p,property:a}=t,d="AppRemoteConfig",g=s;o("AppRemoteConfig",p("AppRemoteConfig")(((l=class o extends n{constructor(...o){super(...o),this.downloaded=!1}onLoad(){console.log("AppRemoteConfigCtl onLoad()"),this.loadData(),console.log("RemoteConfig:",g),this.schedule((()=>{this.downloaded||this.downloadRemote()}),60,3,1)}start(){console.log("AppRemoteConfigCtl start()")}loadData(){c.loadObject(d,g)}saveData(){}downloadRemote(){let e=g.remote_config_url;c.request(e,((e,t)=>{if(console.log(t),!e){let e=t;try{e=JSON.parse(t)}catch(o){console.error(t)}"good"==e.secrect_code?(console.log("AppRemoteConfig:good!"),c.saveObject(d,e),this.loadData(),this.downloaded=!0,this.node.emit(o.EVT_UPDATED)):console.log("AppRemoteConfig: no valid secrect.")}}))}}).EVT_UPDATED="EVT_UPDATED",i=l))||i);e._RF.pop()}}}));

System.register("chunks:///_virtual/AppRes.ts",["cc","./gAppConstant.ts"],(function(e){var s,t,a,r,l,n,d,o,p,u,i,B,c;return{setters:[function(e){s=e.cclegacy,t=e.Component,a=e.log,r=e.resources,l=e.Prefab,n=e.warn,d=e.assetManager,o=e.error,p=e._decorator},function(e){u=e.BUNDLE_APP,i=e.EVT_PREFAB_LOADED,B=e.BUNDLE_HOME,c=e.PREFAB_DIR}],execute:function(){var h;s._RF.push({},"4daaba2wvBNcozRYTWNz5ba","AppRes",void 0);const{ccclass:f,property:b}=p,P=[u,B];e("AppRes",f("AppRes")(h=class extends t{constructor(...e){super(...e),this.mapBundles=new Map,this.mapPrefabs=new Map,this.isPrefabDirLoaded=!1}start(){a("AppRes.start()"),this.mapBundles.set("resources",r),this._loadBundles(0)}_loadBundles(e){e>=P.length||this.loadBundle(P[e],(()=>{this.loadBundlePrefabs(P[e],(()=>{})),this._loadBundles(e+1)}))}loadBundlePrefabs(e,s){a(`AppRes.loadBundlePrefabs(${e})`);const t=c;let r=this.getBundle(e);r?r.loadDir(`${t}`,l,((r,l)=>{if(r)n(`loadDir(${t}) error:${r.message}`);else{for(let e=0;e<l.length;e++)a(`prefabs: arrData[i]:${l[e].name}`),this.mapPrefabs.set(l[e].name,l[e]);e==u&&(this.isPrefabDirLoaded=!0,this.node.emit(i,u)),s&&s(l)}})):this.loadBundle(e,(()=>{this.loadBundlePrefabs(e,s)}))}loadBundle(e,s){a(`AppRes.loadBundle(${e})`),d.loadBundle(e,((t,r)=>{t?o(`loadBundle(${e}) error:${t}`):(a(`AppRes bundle loaded:${e}`),this.mapBundles.set(e,r),s&&s(r))}))}getBundle(e){a(`AppRes.getBundle(${e})`);let s=null;return s=this.mapBundles.get(e),s||n(`bundle ${e} not loaded!`),s}getPrefab(e){a(`AppRes.getPrefab(${e})`);let s=null;return s=this.mapPrefabs.get(e),s||n(`getPrefab(${e}) error!`),s}})||h);s._RF.pop()}}}));

System.register("chunks:///_virtual/AppResolution.ts",["cc","./gAppConstant.ts"],(function(i){var t,e,s,o,n,c,l,r,h,a,u;return{setters:[function(i){t=i.cclegacy,e=i._decorator,s=i.Component,o=i.size,n=i.view,c=i.screen,l=i.ResolutionPolicy},function(i){r=i.DESIGN_RATIO_LANDSCAPE,h=i.DESIGN_H,a=i.DESIGN_W,u=i.DESIGN_RATIO_PORTRAIT}],execute:function(){var p,d;t._RF.push({},"4ba73XI1tJFV6v6Y2VfHO4m","AppResolution",void 0);let _=i("AppResolutionPolicy",function(i){return i[i.fixedHeightPortrait=0]="fixedHeightPortrait",i[i.fixedHeightLandscape=1]="fixedHeightLandscape",i[i.fixedWidthPortrait=2]="fixedWidthPortrait",i}({}));const{ccclass:E,property:R}=e;i("AppResolution",E("AppResolution")(((d=class i extends s{constructor(...i){super(...i),this._policy=_.fixedHeightPortrait,this._winSize=o(),this.lastCheckTime=0}get size(){return o(n.getVisibleSize())}get policy(){return this._policy}set policy(i){this._policy=i}start(){this.adjustResolutionPolicy(),window.addEventListener("resize",(()=>{this.adjustResolutionPolicy()}))}update(i){this.lastCheckTime+=i,this.lastCheckTime<.1||(this.lastCheckTime=0,this.adjustResolutionPolicy())}adjustResolutionPolicy(){let t=c.windowSize;if(!this._winSize.equals(t)){let e=t.width/t.height;e>r?(this.policy=_.fixedHeightLandscape,n.setDesignResolutionSize(h,a+50,l.FIXED_HEIGHT)):e>u?(this.policy=_.fixedHeightPortrait,n.setDesignResolutionSize(a,h,l.FIXED_HEIGHT)):(this.policy=_.fixedWidthPortrait,n.setDesignResolutionSize(a,h,l.FIXED_WIDTH)),this._winSize.set(t),this.node.emit(i.EVT_SIZE_CHANGED)}}}).EVT_SIZE_CHANGED="EVT_SIZE_CHANGED",p=d))||p);t._RF.pop()}}}));

System.register("chunks:///_virtual/AppRewardCollectUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./AppCoinInfo.ts","./AppUser.ts","./AppAudioSounds.ts"],(function(t){var o,e,i,n,l,s,c,r,a,p,u,h,d,C,g,f,y,w,b;return{setters:[function(t){o=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){i=t.cclegacy,n=t.Node,l=t.Label,s=t._decorator,c=t.Component,r=t.v3,a=t.tween,p=t.quat,u=t.find,h=t.instantiate,d=t.bezier,C=t.sys},function(t){g=t.gAppHelper,f=t.gAppAudio},function(t){y=t.AppCoinInfo},function(t){w=t.gAppUser},function(t){b=t.SND}],execute:function(){var A,S,I,P,m,v,O,x,U;i._RF.push({},"38dbcTKQupCa7BuY0YeJSmZ","AppRewardCollectUI",void 0);const{ccclass:z,property:R}=s;t("AppRewardCollectUI",(A=z("AppRewardCollectUI"),S=R(n),I=R(n),P=R(l),A((O=o((v=class extends c{constructor(...t){super(...t),e(this,"lighting",O,this),e(this,"coinIcon",x,this),e(this,"labelCount",U,this),this.destroyOnClose=!1,this.onComplete=null,this.count=0,this.coinScaleOrg=r(1,1,1)}setParams(t,o){this.destroyOnClose=!0,this.count=t,this.onComplete=o}onLoad(){this.coinScaleOrg=r(this.coinIcon.scale),this.labelCount.node.active=!1}start(){this.show()}show(){g.showPanel(this),a(this.coinIcon).set({scale:r(0,0,1)}).to(.2,{scale:this.coinScaleOrg}).start(),this.scheduleOnce(this.onGiftClick,.5)}close(){g.closePanel(this)}onGiftClick(){a(this.lighting).by(10,{rotation:p(0,0,1,0)}).repeatForever().start(),this.coinIcon.active=!0;let t=this.collectCoins();this.scheduleOnce((()=>{this.onComplete&&this.onComplete(),this.close()}),t)}collectCoins(){let t=0,o=r(y.coinWorldPos),e=u("Canvas"),i=.1,n=this.count;for(let l=0;l<n;l++){let s=l,c=h(this.coinIcon);c.parent=e;c.worldPosition;a(c).delay(i).call((()=>{this.labelCount.node.active=!0,this.labelCount.string=(l+1).toString()})).to(.5,{scale:r(.1,.1,1)},{onUpdate:(t,e)=>{let i=d(c.worldPosition.x,c.worldPosition.x+20,o.x+20,o.x,e),n=d(c.worldPosition.y,c.worldPosition.y+20,o.y+20,o.y,e);c.worldPosition=r(i,n,c.worldPosition.z)}}).call((()=>{s<n-1?(w.addCoin(1),C.now()-t>=100&&(f.playSound(b.AddGold),t=C.now())):(w.addCoin(1),f.playSound(b.BuyMagics),a(this.coinIcon).to(.1,{scale:r(1.5*this.coinScaleOrg.x,1.5*this.coinScaleOrg.y,1)}).delay(.1).to(.1,{scale:this.coinScaleOrg}).start())})).removeSelf().start(),i+=l<9?.1:.05}return i+=.8,i}}).prototype,"lighting",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=o(v.prototype,"coinIcon",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=o(v.prototype,"labelCount",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=v))||m));i._RF.pop()}}}));

System.register("chunks:///_virtual/AppRewardMessageUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./AppCoinInfo.ts","./AppUser.ts"],(function(e){var t,n,i,o,l,s,r,a,c,u,p,d,h,g,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){i=e.cclegacy,o=e.Label,l=e.Node,s=e.Button,r=e._decorator,a=e.Component,c=e.v3,u=e.tween,p=e.find,d=e.instantiate},function(e){h=e.gAppUI},function(e){g=e.AppCoinInfo},function(e){C=e.gAppUser}],execute:function(){var b,f,w,y,R,I,m,v,A,P,U;i._RF.push({},"0be0eviaolFFJi0XuVBpoZW","AppRewardMessageUI",void 0);const{ccclass:O,property:z}=r;e("AppRewardMessageUI",(b=O("AppRewardMessageUI"),f=z(o),w=z(l),y=z(s),R=z(l),b((v=t((m=class extends a{constructor(...e){super(...e),n(this,"labelRewardCount",v,this),n(this,"nodeCoinIcon",A,this),n(this,"buttonOK",P,this),n(this,"lighting",U,this),this.destroyOnClose=!1,this.funcCollected=null}setParams(e,t){this.destroyOnClose=!0,this.labelRewardCount.string=e.toString(),this.funcCollected=t}start(){this.show()}show(){let e=this.node.getChildByName("Panel");e.setScale(c(0,0,1)),u(e).to(.1,{scale:c(1,1,1)}).start(),u(this.lighting).by(5,{angle:-360}).union().repeatForever().start()}close(){let e=this.node.getChildByName("Panel");u(e).to(.1,{scale:c(0,0,1)}).call((()=>{this.destroyOnClose?this.node.destroy():this.node.active=!1})).start()}onOKClick(){let e=parseInt(this.labelRewardCount.string);h.showRewardCollect(e,this.funcCollected),this.close()}onCloseClick(){h.antiDoubleClicks(),this.close()}collectCoins(){let e=c(g.coinWorldPos),t=p("Canvas"),n=0,i=parseInt(this.labelRewardCount.string);for(let o=0;o<i;o++){let i=d(this.nodeCoinIcon);i.parent=t,u(i).delay(n).call((()=>{this.labelRewardCount.string=(parseInt(this.labelRewardCount.string)-1).toString()})).to(.5,{worldPosition:e,scale:c(.1,.1,1)}).call((()=>{C.addCoin(1)})).removeSelf().start(),n+=.1}return n}}).prototype,"labelRewardCount",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(m.prototype,"nodeCoinIcon",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(m.prototype,"buttonOK",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(m.prototype,"lighting",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=m))||I));i._RF.pop()}}}));

System.register("chunks:///_virtual/AppSceneLoaderUI.ts",["cc","./App.ts"],(function(e){var t,c,n,o,s,r,a,p;return{setters:[function(e){t=e.cclegacy,c=e.Component,n=e.UIOpacity,o=e.tween,s=e.director,r=e.Label,a=e._decorator},function(e){p=e.gAppUI}],execute:function(){var i;t._RF.push({},"caac5sBN5FBRaQDTAWvcO/t","AppSceneLoaderUI",void 0);const{ccclass:l,property:d}=a;e("AppSceneLoaderUI",l("AppSceneLoaderUI")(i=class extends c{constructor(...e){super(...e),this.strScene=""}start(){var e;let t=this.node.getComponent(n);t||console.error("compnent missing: UIOpacity"),t.opacity=0,o(t).to(.3,{opacity:255}).call((()=>{s.loadScene(this.strScene,((e,t)=>{p.showFadeOut()}))})).start();let c=null==(e=this.node.getChildByName("LabelLoading"))?void 0:e.getComponent(r);c&&o(c.node).hide().delay(3).show().call((()=>{let e=c.string,t=0,n=[".","..","..."];this.schedule((()=>{c.string=e+n[t++%n.length]}),.5,100)})).start()}})||i);t._RF.pop()}}}));

System.register("chunks:///_virtual/AppSetterForEditor.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r,i,o,n;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.initializerDefineProperty},function(t){i=t.cclegacy,o=t._decorator,n=t.Component}],execute:function(){var c,a,p,s,u;i._RF.push({},"64f8ciH2c5LkIz8BBAHk9Zq","AppSetterForEditor",void 0);const{ccclass:l,property:d,executeInEditMode:E}=o;t("AppSetterForEditor",l("AppSetterForEditor")(c=E(!0)(((u=class extends n{constructor(...t){super(...t),r(this,"isPortrait",p,this),r(this,"isLandscape",s,this)}start(){}update(t){}}).EVT_SETTING_CHANGE="EVT_SETTING_CHANGE",u.landscaping=!1,u.portraiting=!1,p=e((a=u).prototype,"isPortrait",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),s=e(a.prototype,"isLandscape",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),c=a))||c)||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/AppShareButton.ts",["cc","./App.ts","./PopData.ts","./gAppConfig.ts"],(function(t){var o,e,n,r,a,s,c,p;return{setters:[function(t){o=t.cclegacy,e=t.Component,n=t.log,r=t.sys,a=t._decorator},function(t){s=t.gAppNative},function(t){c=t.gPopData},function(t){p=t.gAppConfig}],execute:function(){var i;o._RF.push({},"028c1csa6xN8bru2DBisTgv","AppShareButton",void 0);const{ccclass:h,property:u}=a;t("AppShareButton",h("AppShareButton")(i=class extends e{start(){}onClick(){n("AppShareButton.onClick()");let t=p.share_url,o=`My HighScore:(${c.highScore}).\n Come play with me in PopCandy Game.`;r.isBrowser?navigator.share&&navigator.share({title:o,url:t}).then((()=>{console.log("Thanks for sharing!")})).catch(console.error):s.showShareMenu(o,t)}})||i);o._RF.pop()}}}));

System.register("chunks:///_virtual/AppSoundButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./AppData.ts"],(function(t){var n,e,o,u,i,s,r,c;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){o=t.cclegacy,u=t.Node,i=t._decorator,s=t.Component},function(t){r=t.gAppAudio},function(t){c=t.gAppData}],execute:function(){var p,a,l,d,f,h,m;o._RF.push({},"ccd241YjN9FT7PenXEdTmLy","AppSoundButton",void 0);const{ccclass:A,property:y}=i;t("AppSoundButton",(p=A("AppSoundButton"),a=y(u),l=y(u),p((h=n((f=class extends s{constructor(...t){super(...t),e(this,"soundOn",h,this),e(this,"soundOff",m,this)}start(){this.updateButtton()}updateButtton(){this.soundOn.active=c.musicVolume>=.5,this.soundOff.active=!this.soundOn.active}onClick(){let t=c.musicVolume>.5?0:1;r.setMusicVolume(t),r.setSoundVolume(t),this.updateButtton()}}).prototype,"soundOn",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=n(f.prototype,"soundOff",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=f))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/AppStoreHelper.ts",["cc","./App.ts","./AppUser.ts","./gAppConfig.ts","./LanguageData.ts"],(function(e){var o,r,c,t,i,n,s,d,u,p;return{setters:[function(e){o=e.cclegacy,r=e.Component,c=e.log,t=e._decorator},function(e){i=e.gAppNative,n=e.gAppUI,s=e.gAppAdHelper},function(e){d=e.gUserData},function(e){u=e.gAppConfig},function(e){p=e.t}],execute:function(){var h;o._RF.push({},"84e49ZktYlMFITaEYqCgy+T","AppStoreHelper",void 0);const{ccclass:a,property:_}=t;e("AppStoreHelper",a("AppStoreHelper")(h=class extends r{constructor(...e){super(...e),this.isPurchasing=!1}getProducts(){return[{id:u.product_rewarded_ad,icon:"coin",xSymbol:"x",count:5,description:"",currency:"",price:p("free"),hot:!1},{id:u.product_buy100,icon:"coin",xSymbol:"x",count:100,description:"",currency:"$",price:"9.99",hot:!0},{id:u.product_buy50,icon:"coin",xSymbol:"x",count:50,description:"",currency:"$",price:"8.99",hot:!1},{id:u.product_buy35,icon:"coin",xSymbol:"x",count:35,description:"",currency:"$",price:"5.99",hot:!1},{id:u.product_buy18,icon:"coin",xSymbol:"x",count:18,description:"",currency:"$",price:"2.99",hot:!1},{id:u.product_buy5,icon:"coin",xSymbol:"x",count:5,description:"",currency:"$",price:"0.99",hot:!1},{id:u.product_remove_ad,icon:"",xSymbol:"",count:1,description:p("noAds"),currency:"$",price:"0.99",hot:!1},{id:u.product_restore_purchased,icon:"",xSymbol:"",count:1,description:p("purchasedItem"),currency:"",price:p("restore"),hot:!1}]}start(){i.node.on(i.MSG_IAP_PURCHASE_BEGIN,(e=>{console.log("MSG_IAP_PURCHASE_BEGIN:"+e),n.showWaiting(),this.isPurchasing=!0})),i.node.on(i.MSG_IAP_PURCHASE_FINISHED,(e=>{console.log("MSG_IAP_PURCHASE_FINISHED:"+e),this.handlePurchaseFinished(e),n.hideWaiting(),this.isPurchasing=!1})),i.node.on(i.MSG_IAP_PURCHASE_FAILED,(e=>{console.log("MSG_IAP_PURCHASE_FAILED:"+e),n.hideWaiting(),e&&e.length>0?"user_canceled"!=e&&n.showTips(`Purchase error:, ${e}`):n.showTips("Purchase error!"),this.isPurchasing=!1})),i.node.on(i.MSG_IAP_PURCHASE_RESTORED,(e=>{console.log("MSG_IAP_PURCHASE_RESTORED:"+e),this.handlePurchasedRestored(e),n.hideWaiting(),this.isPurchasing=!1}))}purchase(e){c(`AppStoreHelper.purchase(${e})`);let o=this.getProducts().find(((o,r,c)=>o.id==e));o||n.showTips(`No product found for:${e}`),i.purchaseProduct(o.id)}restorePurchasedItems(){i.restorePurchase()}coinsOfProduct(e){let o=0,r=this.getProducts().find(((o,r,c)=>o.id==e));return r&&(o=r.count),o}handlePurchaseFinished(e){let o=this.coinsOfProduct(e);o>0?n.showRewardCollect(o,(()=>{})):e==u.product_remove_ad&&(d.adRemoved=!0,s.hideBannerAd())}handlePurchasedRestored(e){e==u.product_remove_ad&&(d.adRemoved=!0,s.hideBannerAd(),n.showTips("Purchased item restoring completed!"))}})||h);o._RF.pop()}}}));

System.register("chunks:///_virtual/AppStoreItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./gAppConfig.ts"],(function(t){var e,i,r,n,l,o,a,s,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){r=t.cclegacy,n=t.Node,l=t.Label,o=t._decorator,a=t.Component,s=t.log},function(t){c=t.gAppConfig}],execute:function(){var u,p,h,b,m,d,I,g,f,y,C,S,w,z,_,v,A,D,x,P;r._RF.push({},"9b0a0DP75lNzb064Qosogds","AppStoreItem",void 0);const{ccclass:E,property:T}=o;t("AppStoreItemInfo",class{constructor(){this.id="",this.icon="coin",this.xSymbol="x",this.count=0,this.description="",this.currency="$",this.price="0.99",this.hot=!1}});t("AppStoreItem",(u=E("AppStoreItem"),p=T(n),h=T(l),b=T(l),m=T(l),d=T(l),I=T(l),g=T(n),f=T(n),u(((P=class t extends a{constructor(...t){super(...t),i(this,"icon",S,this),i(this,"labelX",w,this),i(this,"labelCount",z,this),i(this,"labelDescriptioin",_,this),i(this,"labelCurrency",v,this),i(this,"labelPrice",A,this),i(this,"hotItem",D,this),i(this,"adRewardItem",x,this),this.itemId=""}start(){s("AppStoreItem.start()")}update(t){}updateItem(t){this.itemId=t.id,this.icon.active=t.icon.length>0,this.labelX.string=t.xSymbol,this.labelX.node.active=t.xSymbol.length>0,this.labelCount.string=`${t.count}`,this.labelCount.node.active=t.xSymbol.length>0,this.labelDescriptioin.string=t.description,this.labelDescriptioin.string.length>0&&(this.labelDescriptioin.fontSize=26),this.labelCurrency.string=t.currency,this.labelCurrency.node.active=t.currency.length>0,this.labelPrice.string=t.price,this.labelCurrency.node.active||(this.labelPrice.fontSize=26),this.hotItem.active=t.hot,this.adRewardItem.active=this.itemId==c.product_rewarded_ad}onItemButtonClick(e){s("AppStoreItem.onItemButtonClick()"),s(`itemId: ${this.itemId}`),this.node.emit(t.EVT_ITEM_CLICK,this.itemId)}}).EVT_ITEM_CLICK="EVT_ITEM_CLICK",S=e((C=P).prototype,"icon",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(C.prototype,"labelX",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(C.prototype,"labelCount",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(C.prototype,"labelDescriptioin",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(C.prototype,"labelCurrency",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(C.prototype,"labelPrice",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(C.prototype,"hotItem",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(C.prototype,"adRewardItem",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=C))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/AppStoreUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./AppStoreItem.ts","./gAppConfig.ts","./gAppConstant.ts","./LanguageData.ts"],(function(t){var e,i,n,o,r,s,c,a,l,u,p,h,g,d,f,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,o=t.Node,r=t.Label,s=t._decorator,c=t.Component,a=t.instantiate,l=t.log},function(t){u=t.gAppUI,p=t.gAppStoreHelper,h=t.gAppAdHelper},function(t){g=t.AppStoreItem},function(t){d=t.gAppConfig},function(t){f=t.EFFECT_SLIDE_UP_DOWN},function(t){b=t.t}],execute:function(){var C,w,A,I,m,y,P,_,S,k,R;n._RF.push({},"2418cOEU4JDOLqbYuSUKLnv","AppStoreUI",void 0);const{ccclass:v,property:D}=s;let E=0;t("AppStoreUI",(C=v("AppStoreUI"),w=D(o),A=D(o),I=D(r),m=D(o),C((_=e((P=class extends c{constructor(...t){super(...t),i(this,"content",_,this),i(this,"waiting",S,this),i(this,"labelWaiting",k,this),i(this,"loading",R,this),this.waitingTicks=0,this.strWaitingOrg="Please Wait",this.waitingClickCount=0}start(){this.strWaitingOrg=this.labelWaiting.string,u.runShowPanelEffect(this,f);let t=this.content.children[0];this.content.children.forEach((t=>{t.active=!1})),this.scheduleOnce((()=>{let e=p.getProducts();for(let i=0;i<e.length;i++){const n=e[i];let o=i<this.content.children.length?this.content.children[i]:a(t);o.parent=this.content,o.active=!0,o.getComponent(g).updateItem(n),o.on(g.EVT_ITEM_CLICK,this.onItemButtonClick,this)}this.scheduleOnce((()=>{this.loading.active=!1}))}),E++?.3:1)}onItemButtonClick(t){l(`AppStoreUI.onItemButtonClick(${t})`),u.antiDoubleClicks(),d.product_rewarded_ad==t?h.isRewardedAdReady()?u.showVideoAdMessage((()=>{h.showRewardedAd()})):u.showTips(b("videoAdRewardNotReady")):d.product_restore_purchased==t?this.onRestorePurchasedClick():this.buy(t)}onCloseClick(){u.runClosePanelEffect(this,(()=>{}),f)}buy(t){p.isPurchasing?u.showTips(b("purchasing")):d.testing?u.showRewardCollect(p.coinsOfProduct(t),(()=>{})):p.purchase(t)}onRestorePurchasedClick(){p.isPurchasing?u.showTips(b("purchasing")):(u.antiDoubleClicks(),p.restorePurchasedItems())}}).prototype,"content",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(P.prototype,"waiting",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(P.prototype,"labelWaiting",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(P.prototype,"loading",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=P))||y));n._RF.pop()}}}));

System.register("chunks:///_virtual/AppTextViewerUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts"],(function(e){var t,i,n,l,o,s,r,a,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){n=e.cclegacy,l=e.Label,o=e.RichText,s=e.Node,r=e._decorator,a=e.Component},function(e){c=e.gAppHelper}],execute:function(){var p,u,h,b,f,C,g,d,w;n._RF.push({},"fa59fT21NxKapz0eo1XT8YK","AppTextViewerUI",void 0);const{ccclass:T,property:x}=r;e("AppTextViewerUI",(p=T("AppTextViewerUI"),u=x(l),h=x(o),b=x(s),p((g=t((C=class extends a{constructor(...e){super(...e),i(this,"labelTitle",g,this),i(this,"labelContent",d,this),i(this,"loading",w,this),this.strContent="",this.onClose=null}setParams(e,t,i){this.strContent=e,this.labelTitle.string=t,this.onClose=i}start(){this.show()}show(){c.showPanel(this),this.scheduleOnce((()=>{this.labelContent.string=this.strContent,this.loading.active=!1}),.5)}close(){c.closePanel(this)}onCloseClick(){this.onClose&&this.onClose(),this.close()}}).prototype,"labelTitle",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=t(C.prototype,"labelContent",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(C.prototype,"loading",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=C))||f));n._RF.pop()}}}));

System.register("chunks:///_virtual/AppTipsUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts"],(function(t){var e,n,i,s,r,o,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){i=t.cclegacy,s=t.Label,r=t._decorator,o=t.Component},function(t){p=t.gAppHelper}],execute:function(){var l,a,c,u,h;i._RF.push({},"e5b47hu9+lBB7l10N5DRXNy","AppTipsUI",void 0);const{ccclass:b,property:d}=r;t("AppTipsUI",(l=b("AppTipsUI"),a=d(s),l((h=e((u=class extends o{constructor(...t){super(...t),n(this,"labelContent",h,this),this.duration=3}setPrarams(t,e){this.labelContent.string=t,e&&(this.duration=e)}start(){p.showPanel(this),this.scheduleOnce((()=>{p.closePanel(this)}),this.duration)}}).prototype,"labelContent",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=u))||c));i._RF.pop()}}}));

System.register("chunks:///_virtual/AppUI.ts",["cc","./AppRewardCollectUI.ts","./AppRewardMessageUI.ts","./AppMessageBoxUI.ts","./AppTipsUI.ts","./AppStoreUI.ts","./AppAboutUsUI.ts","./AppBlockerUI.ts","./AppFadeOutUI.ts","./AppPrivacyDialogUI.ts","./AppTextViewerUI.ts","./AppLuckyUI.ts","./App.ts","./AppVideoAdMessageUI.ts","./AppDebugUI.ts","./AppWaitingUI.ts","./AppRatingBoxUI.ts","./AppHotUpdateTestUI.ts","./gAppConstant.ts","./AppMsgBoxUI.ts","./AppLoadingUI.ts"],(function(e){var t,s,o,a,n,i,p,l,r,h,g,c,d,m,C,f,A,u,w,U,I,P,b,N,y,B,x,v,R,M,k,T;return{setters:[function(e){t=e.cclegacy,s=e.Component,o=e.find,a=e.instantiate,n=e.error,i=e.js,p=e.v3,l=e.tween,r=e.view,h=e.UIOpacity,g=e._decorator},function(e){c=e.AppRewardCollectUI},function(e){d=e.AppRewardMessageUI},function(e){m=e.AppMessageBoxUI},function(e){C=e.AppTipsUI},function(e){f=e.AppStoreUI},function(e){A=e.AppAboutUsUI},function(e){u=e.AppBlockerUI},function(e){w=e.AppFadeOutUI},function(e){U=e.AppPrivacyDialogUI},function(e){I=e.AppTextViewerUI},function(e){P=e.AppLuckyUI},function(e){b=e.gAppRes,N=e.gAppAdHelper},function(e){y=e.AppVideoAdMessageUI},function(e){B=e.AppDebugUI},function(e){x=e.AppWaitingUI},function(e){v=e.AppRatingBoxUI},function(e){R=e.AppHotUpdateTestUI},function(e){M=e.PREFAB_AppMsgBoxUI},function(e){k=e.AppMsgBoxUI},function(e){T=e.AppLoadingUI}],execute:function(){var F;t._RF.push({},"03fd28/pahI4KZ2XuVPmlY0","AppUI",void 0);const{ccclass:V,property:D}=g;function L(){return o("Canvas/LayerUI")}e("AppUI",V("AppUI")(F=class extends s{addNode(e){L().addChild(e)}showPrefab(e,t){let s=a(b.getPrefab(`${e}`));return s&&(t&&t(s),this.addNode(s)),s}runShowPanelEffect(e,t){let s=e.node.getChildByName("Panel");if(s)if(t){let e=p(s.position),t=r.getVisibleSize().height;l(s).set({position:p(e.x,e.y+t,e.z)}).by(.2,{position:p(0,-t,0)}).start()}else s.setScale(p(0,0,1)),l(s).to(.1,{scale:p(1,1,1)}).start();else n(`${i.getClassName(e)}.Can't find Panel node.`)}runClosePanelEffect(e,t,s){this.antiDoubleClicks();let o=e.node.getChildByName("Panel");if(!o)return void n(`${i.getClassName(e)}.Can't find Panel node.`);let a=()=>{t&&t(),e.node.destroy()};if(s){let e=r.getVisibleSize().height;l(o).by(.2,{position:p(0,e,0)}).call((()=>{a()})).start()}else{let e=o.getComponent(h);e&&l(e).to(.18,{opacity:0}).start(),l(o).to(.18,{scale:p(.01,.01,1)}).call((()=>{a()})).start()}}showTips(e){this.showPrefab(i.getClassName(C),(t=>{t.getComponent(C).setPrarams(e)}))}showTextViewer(e,t,s){this.showPrefab(i.getClassName(I),(o=>{o.getComponent(I).setParams(e,t,s)}))}showLuckyCompass(){let e=e=>{this.showRewardCollect(e,(()=>{N.showInterstitialAd()}))};this.showPrefab(i.getClassName(P),(t=>{t.getComponent(P).setParams(e)}))}showRewardMessage(e,t){this.showPrefab(i.getClassName(d),(s=>{s.getComponent(d).setParams(e,t)}))}showRewardCollect(e,t){this.showPrefab(i.getClassName(c),(s=>{s.getComponent(c).setParams(e,t)}))}showMessageBox(e,t,s,o){this.showPrefab(i.getClassName(m),(a=>{a.getComponent(m).setParams(e,t,s,o)}))}showStore(){L().getChildByName(`${i.getClassName(f)}`)||this.showPrefab(i.getClassName(f),(e=>{}))}showPrivacyDialog(e){this.showPrefab(i.getClassName(U),(t=>{t.getComponent(U).funcOK=e}))}showAboutUs(){this.showPrefab(i.getClassName(A),(e=>{}))}showVideoAdMessage(e){this.showPrefab(i.getClassName(y),(t=>{let s=t.getComponent(y);e&&(s.cbOK=e)}))}showRatingBox(e){this.showPrefab(i.getClassName(v),(t=>{let s=t.getComponent(v);e&&(s.cbOK=e)}))}showDebug(){this.showPrefab(i.getClassName(B),(e=>{}))}showHotUpdateTest(){this.showPrefab(i.getClassName(R),(e=>{}))}showFadeOut(){this.showPrefab(i.getClassName(w),(e=>{}))}showBlocker(){this.showPrefab(i.getClassName(u),(e=>{}))}hideBlocker(){let e=L().getChildByName(`${i.getClassName(u)}`);e&&(e.destroy(),e.removeFromParent())}showWaiting(e){this.showPrefab(i.getClassName(x),(t=>{let s=t.getComponent(x);e&&(s.maxTouchCount=e)}))}hideWaiting(){let e=L().getChildByName(`${i.getClassName(x)}`);e&&(e.destroy(),e.removeFromParent())}showLoading(){this.showPrefab(i.getClassName(T),(e=>{e.getComponent(T)}))}hideLoading(){let e=L().getChildByName(`${i.getClassName(T)}`);e&&(e.destroy(),e.removeFromParent())}antiDoubleClicks(){this.showBlocker(),this.scheduleOnce((()=>{this.hideBlocker()}),.3)}showMsgBox(e,t){this.showPrefab(M,(s=>{let o=s.getComponent(k);o.labelContent.string=e,t&&(o.labelTitle.string=t)}))}})||F);t._RF.pop()}}}));

System.register("chunks:///_virtual/AppUser.ts",["cc","./ViewModel.ts","./gAppUtils.ts"],(function(t){var e,s,a,o,i,n;return{setters:[function(t){e=t.cclegacy,s=t._decorator,a=t.Component,o=t.log},function(t){i=t.VM},function(t){n=t.gAppUtils}],execute:function(){var r,c;e._RF.push({},"17b89CEjGZEz7deG939ysEa","AppUser",void 0);const{ccclass:d,property:p}=s;const l=t("gUserData",new class{constructor(){this.userId="",this.userName="",this.coin=100,this.purchasedCoin=0,this.adRemoved=!1,this.luckyBonusTime=0}}),h="UserDataV2",u="gUserData";let D=l,g=(t("AppUser",d("AppUser")(((c=class e extends a{onLoad(){o("AppDataCtl.onLoad()"),g||(g=t("gAppUser",this),this.loadData(),this.bindVM())}bindVM(){i.add(D,u,!0),i.bindPath(u,((t,e,s)=>{this.scheduleOnce((()=>{this.saveData()}))}),this)}loadData(){o("AppUser.loadData()");const t="DataUser";let e=localStorage.getItem(t);if(e&&e.length>0)return o(`Loading previous data of DataUser, ${e}`),n.loadObject(t,D),this.saveData(),void localStorage.removeItem(t);n.loadObject(h,D)}saveData(){n.saveObject(h,D)}addCoin(t){D.coin+=t,this.node.emit(e.EVT_COIN_CHANGED,t)}setAdRemoved(){D.adRemoved=!0}}).EVT_COIN_CHANGED="EVT_COIN_CHANGED",r=c))||r),t("gAppUser",null));e._RF.pop()}}}));

System.register("chunks:///_virtual/AppVideoAdButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts"],(function(t){var e,o,i,n,s,d,r,p,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.initializerDefineProperty},function(t){i=t.cclegacy,n=t.Node,s=t._decorator,d=t.Component,r=t.UITransform},function(t){p=t.gAppAdHelper,c=t.gAppUI}],execute:function(){var u,a,l,h,A;i._RF.push({},"dc1beZ8tXdDm6HYXo5WKbNi","AppVideoAdButton",void 0);const{ccclass:y,property:b}=s;t("AppVideoAdButton",(u=y("AppVideoAdButton"),a=b(n),u((A=e((h=class extends d{constructor(...t){super(...t),o(this,"symbol",A,this),this.width=60}start(){this.width=this.node.getComponent(r).width,this.updateButton(),this.schedule(this.updateButton,60,100,10)}updateButton(){this.node.active=p.isRewardedAdReady()}onClick(){this.symbol.active=!1,c.showVideoAdMessage((()=>{p.showRewardedAd(),this.node.active=!1}))}}).prototype,"symbol",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),l=h))||l));i._RF.pop()}}}));

System.register("chunks:///_virtual/AppVideoAdMessageUI.ts",["cc","./App.ts"],(function(e){var s,t,c,o;return{setters:[function(e){s=e.cclegacy,t=e.Component,c=e._decorator},function(e){o=e.gAppHelper}],execute:function(){var n;s._RF.push({},"bdc87M4T65EF5oad3LdS549","AppVideoAdMessageUI",void 0);const{ccclass:p,property:i}=c;e("AppVideoAdMessageUI",p("AppVideoAdMessageUI")(n=class extends t{constructor(...e){super(...e),this.cbOK=null}start(){o.showPanel(this)}onWatchClick(){this.cbOK&&this.cbOK(),o.closePanel(this)}onCloseClick(){o.closePanel(this)}})||n);s._RF.pop()}}}));

System.register("chunks:///_virtual/AppViewMgr.ts",["cc"],(function(e){var i,r,t,n,a,o,l,s,u;return{setters:[function(e){i=e.cclegacy,r=e.Component,t=e.log,n=e.warn,a=e.resources,o=e.assetManager,l=e.instantiate,s=e.find,u=e._decorator}],execute:function(){var d;i._RF.push({},"5c8feWruf1Gt7OwIVmO9x0g","AppViewMgr",void 0);const{ccclass:c,property:w}=u;e("ViewInfo",class{constructor(){this.bundleName="",this.viewName=""}});const V=new Map;e("AppViewMgr",c("AppViewMgr")(d=class extends r{constructor(...e){super(...e),this.curView=null}onLoad(){}_loadView(e,i){t("AppViewMgr._loadView()");let r=V.get(e.viewName);if(!r)return void n(`no view found for ${e.viewName}`);let l=()=>{let e=`${r.viewName}`;r.bundle.load(e,((r,t)=>{r?n(`bundle.load(${e}) error!`):i&&i(t)}))};r.bundle?l():r.bundleName.length<=0?r.bundle=a:o.loadBundle(r.bundleName,((e,i)=>{e?n(`loadBundle(${r.bundleName}), error!`):(r.bundle=i,l())}))}preloadView(e,i){this._loadView(e,i)}loadView(e,i){t("AppViewMgr.loadView()"),this._loadView(e,(e=>{this.curView&&this.curView.isValid&&(this.curView.destroy(),this.curView=null);let r=l(e),t=s("Canvas/LayerView");r.parent=t||s("Canvas"),i&&i(),this.curView=r}))}})||d);i._RF.pop()}}}));

System.register("chunks:///_virtual/AppWaitingUI.ts",["cc"],(function(t){var n,e,o,s,i,c;return{setters:[function(t){n=t.cclegacy,e=t.Component,o=t.find,s=t.Label,i=t.Node,c=t._decorator}],execute:function(){var u;n._RF.push({},"bad78TgmNtDiZ82YEvbcxs7","AppWaitingUI",void 0);const{ccclass:h,property:r}=c;t("AppWaitingUI",h("AppWaitingUI")(u=class extends e{constructor(...t){super(...t),this.maxTouchCount=100,this.touchCount=0}start(){let t=o("Panel/Label",this.node),n=t?t.getComponent(s):null;if(n){let t=0,e=n.string,o=[".","..","...",""];this.schedule((()=>{n.string=e+o[t++%o.length]}),1,100)}o("Bg",this.node).on(i.EventType.TOUCH_START,(()=>{this.touchCount++,this.touchCount>=this.maxTouchCount&&this.node.destroy()}),this)}})||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/AppWidgetMaxWH.ts",["cc","./gAppConstant.ts"],(function(t){var i,e,s,h,o,r,g;return{setters:[function(t){i=t.cclegacy,e=t.Component,s=t.Widget,h=t.view,o=t._decorator},function(t){r=t.MAX_WIDTH,g=t.MAX_HEIGHT}],execute:function(){var p;i._RF.push({},"e9c29+8siBHf799cmQ3oqcH","AppWidgetMaxWH",void 0);const{ccclass:c,property:a}=o;t("AppWidgetMaxWH",c("AppWidgetMaxWH")(p=class extends e{constructor(...t){super(...t),this.maxWidth=r,this.maxHeight=g,this.leftOrg=0,this.rightOrg=0,this.topOrg=0,this.bottomOrg=0}start(){}updateLayout(){let t=this.getComponent(s);t.left=this.leftOrg,t.right=this.rightOrg,t.top=this.topOrg,t.bottom=this.bottomOrg;let i=h.getVisibleSize();i.width>this.maxWidth&&(t.left=t.right=(i.width-this.maxWidth)/2),i.height>this.maxHeight&&(t.top=t.bottom=(i.height-this.maxHeight)/2)}})||p);i._RF.pop()}}}));

System.register("chunks:///_virtual/CandyRopes.ts",["cc","./App.ts","./AppResolution.ts"],(function(e){var t,n,i,s,o,r,h,a,p,l,d,c,g;return{setters:[function(e){t=e.cclegacy,n=e.Component,i=e.UIOpacity,s=e.tween,o=e.randomRange,r=e.v3,h=e.Layout,a=e.UITransform,p=e.instantiate,l=e.randomRangeInt,d=e._decorator},function(e){c=e.gAppResolution},function(e){g=e.AppResolution}],execute:function(){var f;t._RF.push({},"fa4d2gf6btITZeZ9dmMpS7O","CandyRopes",void 0);const{ccclass:u,property:y}=d;e("CandyRopes",u("CandyRopes")(f=class extends n{constructor(...e){super(...e),this.arrItems=[],this.arrDropDowns=[],this.droppingIndex=0,this._arrTweens=[]}onLoad(){for(let e=0;e<this.node.children.length;e++){this.node.children[e];this.arrItems[e]=this.node.children[e]}}onDestroy(){this._arrTweens.forEach((e=>{e.stop()}))}start(){this.updateLayout(),c.node.on(g.EVT_SIZE_CHANGED,(()=>{this.updateLayout()}),this);let e=this.getComponent(i);if(e){let t=e.opacity;e.opacity=0,this.scheduleOnce((()=>{e.opacity=t;for(let e=0;e<this.node.children.length;e++){const t=this.node.children[e];t.position=t.position.add3f(0,200,0),s(t).by(o(.2,.6),{position:r(0,-200,0)}).start()}}))}}updateLayout(){let e=c.size.width,t=0,n=this.getComponent(h).spacingX,i=0;for(let s=0;s<50;s++){for(let s=0;s<this.arrItems.length;s++){if(t+=this.arrItems[s].getComponent(a).width+n,t>=e)break;i++}if(t>=e)break}if(this.node.children.length<=i)for(let e=this.node.children.length;e<i;e++){p(this.arrItems[e%this.arrItems.length]).parent=this.node}else for(let e=this.node.children.length-1;e>=i;e--){this.node.children[e].removeFromParent()}let s=this.node.children.slice();this._arrTweens.forEach((e=>{e.stop()})),this._arrTweens=[],this.scheduleOnce((()=>{s.forEach((e=>{e.position=r(e.position.x,250,e.position.z)})),this.ropeDown()}),3)}ropeDown(){if(this._arrTweens.length>0)return;let e=this.node.children.slice();e=e.sort(((e,t)=>l(-50,50)));for(let t=0;t<1;t++){let n=e[t],i=r(n.position),h=s(n).set({position:r(i.x,250,i.z)}).delay(0==t?1:o(1.5,3)).by(.2,{position:r(0,t>0?0:10,0)},{easing:"linear"}).by(.3,{position:r(0,t>0?0:-20,0)},{easing:"linear"}).by(.2,{position:r(0,t>0?0:10,0)},{easing:"linear"}).by(1,{position:r(0,-100,0)}).by(1,{position:r(0,100,0)}).call((()=>{this._arrTweens.splice(this._arrTweens.indexOf(h),1)})).start();this._arrTweens.push(h),0==t&&this.scheduleOnce((()=>{this.ropeDown()}),7)}}ropeDown1(){if(this._arrTweens.length>0)return;let e=this.node.children,t=[this.droppingIndex],n=l(1,e.length+1);for(;t.length<n;)for(let i=l(0,n);i<e.length;i++)if(t.indexOf(i)<0){t.push(i);break}t=t.sort(((e,t)=>e==this.droppingIndex?1:l(-50,50))),console.log(`arrToDrop:${t.toString()}`);for(let n=0;n<t.length;n++){let i=e[t[n]],h=r(i.position),a=s(i).set({position:r(h.x,0,h.z)}).delay(0==n?1:o(1.5,2)).by(1,{position:r(0,-100,0)}).by(1,{position:r(0,100,0)}).call((()=>{this._arrTweens.splice(this._arrTweens.indexOf(a),1)})).start();this._arrTweens.push(a),0==n&&this.scheduleOnce((()=>{this.droppingIndex=(this.droppingIndex+1)%this.node.children.length,this.ropeDown()}),7)}}})||f);t._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,h,g,a,c,p,C,d,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.initializerDefineProperty},function(t){i=t.cclegacy,n=t.Node,s=t._decorator,l=t.Component,r=t.Color,h=t.Canvas,g=t.UITransform,a=t.instantiate,c=t.Label,p=t.RichText,C=t.Toggle,d=t.Button,m=t.director}],execute:function(){var u,L,M,b,T,f,x,S,E;i._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);const{ccclass:v,property:I}=s;t("DebugViewRuntimeControl",(u=v("internal.DebugViewRuntimeControl"),L=I(n),M=I(n),b=I(n),u((x=e((f=class extends l{constructor(...t){super(...t),o(this,"compositeModeToggle",x,this),o(this,"singleModeToggle",S,this),o(this,"EnableAllCompositeModeButton",E,this),this._single=0,this.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],this.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],this.strMisc=["CSM Layer Coloration","Lighting With Albedo"],this.compositeModeToggleList=[],this.singleModeToggleList=[],this.miscModeToggleList=[],this.textComponentList=[],this.labelComponentList=[],this.textContentList=[],this.hideButtonLabel=void 0,this._currentColorIndex=0,this.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],this.color=[r.WHITE,r.BLACK,r.RED,r.GREEN,r.BLUE]}start(){if(!this.node.parent.getComponent(h))return void console.error("debug-view-runtime-control should be child of Canvas");const t=this.node.parent.getComponent(g),e=.5*t.width,o=.5*t.height;let i=.1*e-e,n=o-.1*o;const s=this.node.getChildByName("MiscMode"),l=a(s);l.parent=this.node,l.name="Buttons";const m=a(s);m.parent=this.node,m.name="Titles";for(let t=0;t<2;t++){const e=a(this.EnableAllCompositeModeButton.getChildByName("Label"));e.setPosition(i+(t>0?450:150),n,0),e.setScale(.75,.75,.75),e.parent=m;const o=e.getComponent(c);o.string=t?"----------Composite Mode----------":"----------Single Mode----------",o.color=r.WHITE,o.overflow=0,this.labelComponentList[this.labelComponentList.length]=o}n-=20;let u=0;for(let t=0;t<this.strSingle.length;t++,u++){t===this.strSingle.length>>1&&(i+=200,u=0);const e=t?a(this.singleModeToggle):this.singleModeToggle;e.setPosition(i,n-20*u,0),e.setScale(.5,.5,.5),e.parent=this.singleModeToggle.parent;const o=e.getComponentInChildren(p);o.string=this.strSingle[t],this.textComponentList[this.textComponentList.length]=o,this.textContentList[this.textContentList.length]=o.string,e.on(C.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[t]=e}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(d.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;let L=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=L;const M=a(this.EnableAllCompositeModeButton);M.setPosition(i+90,n,0),M.setScale(.5,.5,.5),M.on(d.EventType.CLICK,this.changeTextColor,this),M.parent=l,L=M.getComponentInChildren(c),L.string="TextColor",this.labelComponentList[this.labelComponentList.length]=L;const b=a(this.EnableAllCompositeModeButton);b.setPosition(i+200,n,0),b.setScale(.5,.5,.5),b.on(d.EventType.CLICK,this.hideUI,this),b.parent=this.node.parent,L=b.getComponentInChildren(c),L.string="Hide UI",this.labelComponentList[this.labelComponentList.length]=L,this.hideButtonLabel=L,n-=40;for(let t=0;t<this.strMisc.length;t++){const e=a(this.compositeModeToggle);e.setPosition(i,n-20*t,0),e.setScale(.5,.5,.5),e.parent=s;const o=e.getComponentInChildren(p);o.string=this.strMisc[t],this.textComponentList[this.textComponentList.length]=o,this.textContentList[this.textContentList.length]=o.string;e.getComponent(C).isChecked=!!t,e.on(C.EventType.TOGGLE,t?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[t]=e}n-=150;for(let t=0;t<this.strComposite.length;t++){const e=t?a(this.compositeModeToggle):this.compositeModeToggle;e.setPosition(i,n-20*t,0),e.setScale(.5,.5,.5),e.parent=this.compositeModeToggle.parent;const o=e.getComponentInChildren(p);o.string=this.strComposite[t],this.textComponentList[this.textComponentList.length]=o,this.textContentList[this.textContentList.length]=o.string,e.on(C.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[t]=e}}isTextMatched(t,e){let o=new String(t);const i=o.search(">");return-1===i?t===e:(o=o.substr(i+1),o=o.substr(0,o.search("<")),o===e)}toggleSingleMode(t){const e=m.root.debugView,o=t.getComponentInChildren(p);for(let t=0;t<this.strSingle.length;t++)this.isTextMatched(o.string,this.strSingle[t])&&(e.singleMode=t)}toggleCompositeMode(t){const e=m.root.debugView,o=t.getComponentInChildren(p);for(let i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)}toggleLightingWithAlbedo(t){m.root.debugView.lightingWithAlbedo=t.isChecked}toggleCSMColoration(t){m.root.debugView.csmLayerColoration=t.isChecked}enableAllCompositeMode(t){const e=m.root.debugView;e.enableAllCompositeMode(!0);for(let t=0;t<this.compositeModeToggleList.length;t++){this.compositeModeToggleList[t].getComponent(C).isChecked=!0}let o=this.miscModeToggleList[0].getComponent(C);o.isChecked=!1,e.csmLayerColoration=!1,o=this.miscModeToggleList[1].getComponent(C),o.isChecked=!0,e.lightingWithAlbedo=!0}hideUI(t){const e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"}changeTextColor(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(let t=0;t<this.textComponentList.length;t++)this.textComponentList[t].string=this.strColor[this._currentColorIndex]+this.textContentList[t]+"</color>";for(let t=0;t<this.labelComponentList.length;t++)this.labelComponentList[t].color=this.color[this._currentColorIndex]}onLoad(){}update(t){}}).prototype,"compositeModeToggle",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(f.prototype,"singleModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(f.prototype,"EnableAllCompositeModeButton",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=f))||T));i._RF.pop()}}}));

System.register("chunks:///_virtual/FloatingClouds.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,o,s,r,a,l,n,h,c,p,d,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){o=e.cclegacy,s=e._decorator,r=e.Component,a=e.Node,l=e.UITransform,n=e.view,h=e.randomRange,c=e.randomRangeInt,p=e.v3,d=e.instantiate,u=e.tween}],execute:function(){var g,m,C;o._RF.push({},"e6bbcE1pupKQ6yeLp10xf6K","FloatingClouds",void 0);const{ccclass:S,property:f}=s;e("FloatingClouds",S("FloatingClouds")((C=t((m=class extends r{constructor(...e){super(...e),i(this,"speedScale",C,this),this.arrSamples=[]}start(){this.node.children.forEach((e=>{this.arrSamples.push(e),e.active=!1})),this.createClouds(),this.node.on(a.EventType.SIZE_CHANGED,(()=>{this.recreateClouds()}),this)}recreateClouds(){this.removeClouds(),this.createClouds()}removeClouds(){let e=this.node.children;for(let t=0;t<e.length;t++){const i=e[t];i.active&&i.destroy()}}createClouds(){let e=this.arrSamples[0].getComponent(l).width,t=this.arrSamples[0].getComponent(l).height,i=n.getVisibleSize(),o=2*e,s=Math.max(2,Math.ceil(i.width/o)),r=(i.height-320)/2/(1.5*t);r=Math.max(1,Math.floor(r));for(let a=0;a<r;a++)for(let r=0;r<s;r++){let s=o*r+(-i.width/2+e/2+h(-e/2,e)),l=-t*a+i.height/2+-t/2+h(-t/2,0);this.createCloudAt(c(0,this.arrSamples.length),p(s,l))}}createCloudAt(e,t){let i=this.arrSamples[0].getComponent(l).width,o=(this.arrSamples[0].getComponent(l).height,n.getVisibleSize()),s=d(this.arrSamples[e>=0?e:c(0,this.arrSamples.length)]);s.active=!0,s.parent=this.node,s.position=p(t);let r=h(1,3),a=c(-50,-20)*this.speedScale,g=c(-10,10);this.scheduleOnce((()=>{u(s).by(r,{position:p(a,g,0)}).by(r,{position:p(a,-g,0)}).call((()=>{let e=-o.width/2-i/2;s.position.x<e&&(s.destroy(),this.createCloudAt(c(0,this.arrSamples.length),p(o.width/2+i/2,s.position.y+h(-100,100),s.position.z)))})).union().repeatForever().start()}),1)}}).prototype,"speedScale",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),g=m))||g);o._RF.pop()}}}));

System.register("chunks:///_virtual/FloatingSmokes.ts",["cc"],(function(t){var e,i,o,n,s,a,c,l,r,g;return{setters:[function(t){e=t.cclegacy,i=t.Component,o=t.log,n=t.view,s=t.UITransform,a=t.randomRangeInt,c=t.randomRange,l=t.v3,r=t.tween,g=t._decorator}],execute:function(){var p;e._RF.push({},"ac3ddVvx5RM7aNSR0KfnNEG","FloatingSmokes",void 0);const{ccclass:h,property:d}=g;t("FloatingSmokes",h("FloatingSmokes")(p=class extends i{start(){o("FloatingSmokes.start()"),this.scheduleOnce((()=>{let t=n.getVisibleSize(),e=this.node.children,i=e[0].getComponent(s).height,o=[-480,-240,0,240,480],g=[-1*i+i/2,-2*i+i/2,-3*i+i/2,-4*i+i/2,-5*i+i/2];for(let i=0;i<e.length;i++){const p=e[i];let h=a(-200,-100),d=a(-10,10),m=c(3,5),u=o.splice(a(0,o.length),1)[0]+a(-100,100)+n.getVisibleSize().width,S=g.splice(0,1)[0]+a(-30,0);p.position=l(u,S,p.position.z),t.width>t.height&&i<2||-S<this.node.getComponent(s).height?r(p).by(m,{position:l(h,d,1)}).by(m,{position:l(h,-d,1)}).call((()=>{p.position.x<-n.getVisibleSize().width&&(p.position=l(n.getVisibleSize().width,p.position.y,p.position.z))})).union().repeatForever().start():p.active=!1}}),.1)}update(t){}})||p);e._RF.pop()}}}));

System.register("chunks:///_virtual/GameLayout.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AppLayout1.ts","./App.ts","./AppResolution.ts"],(function(e){var t,i,h,r,o,a,s,n,u,g,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){h=e.cclegacy,r=e.UITransform,o=e._decorator,a=e.Component,s=e.Node,n=e.sys},function(e){u=e.AppLayout1},function(e){g=e.gAppResolution},function(e){p=e.AppResolutionPolicy}],execute:function(){var l,d,c,w,y,R,f,b,L,H,m,O,z,D,A,P;h._RF.push({},"ccd15PRPdlLqomc5TD9a1qZ","GameLayout",void 0);const{ccclass:v,property:x}=o;e("GameLayout",(l=v("GameLayout"),d=x(u),c=x(r),w=x(r),y=x(r),R=x(r),f=x(r),l((H=t((L=class extends a{constructor(...e){super(...e),i(this,"appLayout",H,this),i(this,"headerRow0",m,this),i(this,"headerRow1",O,this),i(this,"headerRow2",z,this),i(this,"headerRow3",D,this),i(this,"headerDecorate",A,this),i(this,"headerDecorateHeightOrg",P,this),this.row0HeightOrg=60,this.row1HeightOrg=60,this.row2HeightOrg=80,this.row3HeightOrg=80}onLoad(){this.row0HeightOrg=this.headerRow0.height,this.row1HeightOrg=this.headerRow1.height,this.row2HeightOrg=this.headerRow2.height,this.row3HeightOrg=this.headerRow3.height}start(){this.updateLayout(),this.appLayout.node.on(s.EventType.SIZE_CHANGED,(()=>{this.updateLayout()}),this)}update(e){}updateLayout(){this.headerRow0.height=this.row0HeightOrg,this.headerRow1.height=this.row1HeightOrg,this.headerRow2.height=this.row2HeightOrg,this.headerRow3.height=this.row3HeightOrg;let e=n.getSafeAreaRect();if(g.policy==p.fixedHeightPortrait||g.policy==p.fixedWidthPortrait){if(g.size.width>g.size.height)this.headerRow0.height=20,this.headerRow1.height=0;else if(this.appLayout.header.height-this.appLayout.headerSizeOrg.height>20){let t=Math.min(this.headerDecorateHeightOrg,this.appLayout.header.height-this.appLayout.headerSizeOrg.height);this.headerRow0.height=Math.max(e.y,t)}this.headerRow3.height=this.appLayout.header.height-this.headerRow0.height-this.headerRow1.height-this.headerRow2.height}this.headerDecorate&&(this.headerDecorate.node.active=this.headerRow0.height>=20)}}).prototype,"appLayout",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=t(L.prototype,"headerRow0",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(L.prototype,"headerRow1",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(L.prototype,"headerRow2",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(L.prototype,"headerRow3",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(L.prototype,"headerDecorate",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(L.prototype,"headerDecorateHeightOrg",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 160}}),b=L))||b));h._RF.pop()}}}));

System.register("chunks:///_virtual/gAppCommon.ts",["cc","./gAppConstant.ts"],(function(t){var n,e,o;return{setters:[function(t){n=t.cclegacy,e=t.find},function(t){o=t.CANVAS}],execute:function(){t({findCanvas:function(){return e(o)},setObjKeysAsValues:function(t){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){let e=t[n];("string"!=typeof e||e.trim().length<=0)&&isNaN(Number(n))&&(t[n]=n)}}}),n._RF.push({},"6ea82GJ2EJE8YPYWmusSLV1","gAppCommon",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/gAppConfig.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"2d717OtshRGPZVmPL45lZP5","gAppConfig",void 0);var a=function(e){return e[e.PopCandyIOS=0]="PopCandyIOS",e[e.PengPengTangIOS=1]="PengPengTangIOS",e}(a||{});const o=a.PopCandyIOS,r={version:"2.0",channel_version:"2.0",share_url:"https://popcandy.cc",remote_config_url:"https://popcandy.cc/api/pengpengtang/ios/app_config.json",storeEnabled:!1,rankEnabled:!1},c=e("gAppConfig",{testing:!1,version:"5.1",channel_version:"5.1",channel_approved_version:"1.0",share_url:"https://popcandy.cc",remote_config_url:"https://popcandy.cc/api/popcandy/ios/app_config.json",storeEnabled:!0,rankEnabled:!0,isVideoAdEnabled:!0,isInterstitialAdEnabled:!1,maxSkillsToEquip:3,interstitial_ad_interval:300,product_rewarded_ad:"rewarded_ad",product_buy5:"com.hahamobile.PopCandy.buy5candies",product_buy18:"com.hahamobile.PopCandy.buy18candies",product_buy35:"com.hahamobile.PopCandy.buy35candies",product_buy50:"com.hahamobile.PopCandy.buy50candies",product_buy100:"com.hahamobile.PopCandy.buy100candies",product_remove_ad:"com.hahamobile.PopCandy.removeAd",product_restore_purchased:"product_restore_purchased"});let p=c;if(o==a.PengPengTangIOS&&(p=r),p!==c){Object.getOwnPropertyNames(p).forEach((e=>{c.hasOwnProperty(e)&&(c[e]=p[e])}))}n._RF.pop()}}}));

System.register("chunks:///_virtual/gAppConstant.ts",["cc"],(function(E){var _,e;return{setters:[function(E){_=E.cclegacy,e=E.ResolutionPolicy}],execute:function(){_._RF.push({},"37284qrGdxJ6ZRA0IlI3W0/","gAppConstant",void 0);const A=E("DESIGN_W",640),n=E("DESIGN_H",960),a=(E("DESIGN_POLICY",e.FIXED_WIDTH),E("DESIGN_RATIO_PORTRAIT",A/n),E("DESIGN_RATIO_LANDSCAPE",1.6),E("BUNDLE_RESOURCES","resources"),E("BUNDLE_APP","app")),S=(E("BUNDLE_MAIN","main"),E("BUNDLE_HOME","home")),I=E("BUNDLE_POP","pop");E("SCENE_WELCOME","WelcomeScene"),E("SCENE_APP_STARTER","AppStarterScene"),E("SCENE_MAIN","MainScene"),E("SCENE_LOADING","LoadingScene"),E("SCENE_HOME","HomeScene"),E("SCENE_POP","PopScene"),E("SCENE_BUNDLE",{LoadingScene:a,HomeScene:S,PopScene:I}),E("PREFAB_DIR","prefab"),E("PREFAB_AppMsgBoxUI","AppMsgBoxUI"),E("EVT_VIEW_SIZE_CHANGE","EVT_VIEW_SIZE_CHANGE"),E("EVT_PREFAB_LOADED","EVT_PREFAB_LOADED"),E("MAX_WIDTH",1400),E("MAX_HEIGHT",1400),E("EFFECT_SCALE_IN_OUT",0),E("EFFECT_SLIDE_UP_DOWN",1),E("CANVAS","Canvas"),E("LAYER_BG","Canvas/LayerBg"),E("LAYER_VIEW","Canvas/LayerView"),E("LAYER_UI","Canvas/LayerUI"),E("LAYER_FG1","Canvas/LayerFg1"),E("LAYER_FG2","Canvas/LayerFg2"),E("LAYER_FG3","Canvas/LayerFg3");_._RF.pop()}}}));

System.register("chunks:///_virtual/gAppUtils.ts",["cc"],(function(e){var t,o,l,s,i,n,r,a,c,g,d,u,h,p;return{setters:[function(e){t=e.cclegacy,o=e.log,l=e.Node,s=e.director,i=e.warn,n=e.js,r=e.Button,a=e.assetManager,c=e.error,g=e.view,d=e.find,u=e.UITransform,h=e.v3,p=e.tween}],execute:function(){t._RF.push({},"6dfc197ba5ChYaKYXNNeJxP","gAppUtils",void 0);e("gAppUtils",class{static enumGetKeys(e){return Object.keys(e).filter(((e,t,o)=>isNaN(Number(e))))}static enumSetKeysAsValues(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){let o=e[t];("string"!=typeof o||o.trim().length<=0)&&isNaN(Number(t))&&(e[t]=t)}}static createPersistNode(e){o(`createPersistNode(${e}`);let t=new l(e);return t.parent=s.getScene(),s.addPersistRootNode(t),s.isPersistRootNode(t)||i("!director.isPersistRootNode()"),t}static addComponentNodeTo(e,t){console.log("AppUtils::addComponentNodeTo()");let o=n.getClassName(e);console.log("js.getClassName(classConstructor):",o);let s=new l(o),i=s.addComponent(e);return s.parent=t,i}static bindClick(e,t,o,l){e.on(r.EventType.CLICK,(()=>{t.call(o,l)}),o)}static loadBundleRes(e,t,l){o(`loadBundleRes(${e},${t})`),a.loadBundle(e,((o,s)=>{o?c(`loadBundle${e} error!`):s.load(t,((e,o)=>{e?c(`bundle.load${t} error!`):l&&l(o)}))}))}static loadBundleDir(e,t,o){console.log(`loadBundleDir(bundle,${t})`),e?e.loadDir(t,((e,t)=>{e?console.error("bundle.loadDir(Prefab) error:",e):o(t)})):console.error("bundle is null!")}static getBundleAsset(e,t){let o=null;return e?(o=e.get(t),o||console.error(`bundle.get(${t}) error!`),o):(console.error("bundle null!"),o)}static getDateString(){let e=function(e){return e<10?"0"+e:String(e)};var t,o=new Date;return e(o.getFullYear())+e(o.getMonth()+1)+e(o.getDate())+e(o.getHours())+e(o.getMinutes())+e(o.getSeconds())+((t=o.getMilliseconds())<10?"00"+t:t<100?"0"+t:String(t))}static loadObject(e,t){let o=localStorage.getItem(e);if(o){let e=JSON.parse(o);Object.getOwnPropertyNames(e).forEach((o=>{t.hasOwnProperty(o)&&(t[o]=e[o])}))}}static saveObject(e,t){localStorage.setItem(e,JSON.stringify(t))}static addItemTo(e,t,o){if(t.push(e),t.length>o){let e=t.length-o;e>0&&e<t.length&&t.splice(0,e)}}static request(e,t){console.log("AppUtils::request()",e);let o=new XMLHttpRequest;o.onreadystatechange=()=>{4==o.readyState&&(console.log("xhr.status:",o.status),o.status>=200&&o.status<400?t(null,o.responseText):t("failed",o.status))},o.open("GET",e,!0),o.send()}static printSizes(){let e=g.getDevicePixelRatio();console.log("view.getDevicePixelRatio():",e),console.log("view.getScaleX(),view.getScaleY():",g.getScaleX(),g.getScaleY());let t=g.getFrameSize();console.log("view.getFrameSize():",t.width,t.height),t=g.getCanvasSize(),console.log("view.getCanvasSize():",t.width,t.height);let o=d("Canvas").getComponent(u);console.log("find('Canvas'):",o.width,o.height),t=g.getVisibleSize(),console.log("view.getVisibleSize():",t.width,t.height),t=g.getVisibleSizeInPixel(),console.log("view.getVisibleSizeInPixel():",t.width,t.height),t=g.getViewportRect(),console.log("view.getViewportRect():",t.x,t.y,t.width,t.height),console.log("screen.width, height:",screen.width,screen.height),console.log("screen.availWidthHeight:",screen.availWidth,screen.availHeight),console.log("screen.pixelDepth:",screen.pixelDepth),console.log("window.devicePixelRatio:",window.devicePixelRatio)}static bezierTo(e,t,o,l,s,i){i=i||Object.create(null);return i.onUpdate=(t,i)=>{e.position=((e,t,o,l)=>{let s=(1-e)*(1-e)*t.x+2*e*(1-e)*o.x+e*e*l.x,i=(1-e)*(1-e)*t.y+2*e*(1-e)*o.y+e*e*l.y;return h(s,i,0)})(i,o,l,s)},p(e).to(t,{},i)}static compareVersion(e,t){let o=e.split("."),l=t.split(".");const s=Math.max(o.length,l.length);for(;o.length<s;)o.push("0");for(;l.length<s;)l.push("0");for(let e=0;e<s;e++){const t=parseInt(o[e]),s=parseInt(l[e]);if(t>s)return 1;if(t<s)return-1}return 0}static formatFloat(e,t){let o=Math.pow(10,t);return Math.round(e*o)/o}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/HomeSceneView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./gAppConstant.ts","./PopData.ts","./AppAudioSounds.ts","./AppData.ts","./gAppConfig.ts","./AppHotUpdate.ts","./AppCoinInfo.ts","./LanguageData.ts"],(function(e){var t,i,n,o,a,s,c,r,p,l,u,g,h,d,y,f,b,A,w,S,m,C,k,D,v,E,R,N,U,H,M;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){n=e.cclegacy,o=e.Node,a=e._decorator,s=e.Component,c=e.log,r=e.UIOpacity,p=e.v3,l=e.tween,u=e.easing,g=e.randomRangeInt,h=e.macro,d=e.view,y=e.sys,f=e.js,b=e.game},function(e){A=e.gAppDirector,w=e.gAppAudio,S=e.gAppUI,m=e.gAppHotUpdate,C=e.gAppNative},function(e){k=e.SCENE_POP},function(e){D=e.gPopData},function(e){v=e.AppAudioSounds,E=e.SND},function(e){R=e.gAppData},function(e){N=e.gAppConfig},function(e){U=e.AppHotUpdate},function(e){H=e.AppCoinInfo},function(e){M=e.t}],execute:function(){var V,O,P,L,_,I,T,z,B,F,x;n._RF.push({},"f319cZynlNLGoo1N2LFWQe1","HomeSceneView",void 0);const{ccclass:G,property:W}=a;let $=!1,j=!1;e("HomeSceneView",(V=G("HomeSceneView"),O=W(o),P=W(o),L=W(o),_=W([o]),V((z=t((T=class extends s{constructor(...e){super(...e),i(this,"btnRank",z,this),i(this,"title",B,this),i(this,"shiningLight",F,this),i(this,"arrAnimNodes",x,this)}onDestroy(){c("HomeSceneView.onDestroy()")}start(){H.instance.node.active=!0,$||A.preloadScene(k,(()=>{$=!0,v.loadClips((()=>{w.playMusic(E.MainMenuBg)}))}));for(let e=0;e<this.arrAnimNodes.length;e++){const t=this.arrAnimNodes[e];if(t){let i=t.getComponent(r);if(i){let n=i.opacity;i.opacity=0,this.scheduleOnce((()=>{i.opacity=n;let o=p(t.scale);l(t).set({scale:p(0,0,1)}).delay(.3+.15*e).to(.3,{scale:o},{easing:u.backOut}).start()}))}}}{this.schedule((()=>{this.title.children.forEach((e=>{if(e.active){let t=g(-50,50)>0?1:-1;l(e).by(.3,{angle:5*t},{easing:u.backOut}).by(.3,{angle:-10*t},{easing:u.backIn}).by(.3,{angle:5*t},{easing:u.smooth}).start()}}))}),10,h.REPEAT_FOREVER,1.5);let e=p(this.title.position),t=d.getVisibleSize().height/2;l(this.title).set({position:p(e.x,200+t+e.y,e.z)}).delay(1).by(.6,{position:p(0,-200-t,0)},{easing:"backOut"}).call((()=>{l(this.title).by(1.2,{position:p(3,10,0)},{easing:u.sineInOut}).by(2.4,{position:p(-3,-10,0)},{easing:u.sineInOut}).union().repeatForever().start()})).start(),l(this.shiningLight).by(3,{angle:-60}).repeatForever().start()}R.privacyPolicyAccepted||S.showPrivacyDialog((()=>{R.privacyPolicyAccepted=!0})),y.isNative&&this.scheduleOnce((()=>{c(`newVersionDownloaded:${m.newVersionDownloaded}, bHotUpdateMsgShowed:${j}`),m.newVersionDownloaded?j||this.showHotUpdateMsg():m.node.on(U.EVT_NEED_RESTART,(()=>{c(`${f.getClassName(this)},on:EVT_NEED_RESTART`),j||this.showHotUpdateMsg()}),this)}),.2),w.playMusic(E.MainMenuBg),this.btnRank.active=N.rankEnabled}showHotUpdateMsg(){S.showMessageBox(M("hotUpdateTitle"),M("hotUpdateContent"),(()=>{b.restart()}),M("hotUpdateApplyNow")),j=!0}onStartClick(){$||S.showLoading(),w.playSound(E.SelectGem),A.loadScene(k,(()=>{S.hideLoading()}))}onSettingClick(){}onRankClick(){C.reportScore(D.highScore),this.scheduleOnce((()=>{C.showRank()}),.1)}onInfoClick(){S.showAboutUs()}onGiftClick(){y.openURL("https://PopCandy.cc")}onBtnClick(){S.showWaiting(),A.loadScene(k,(()=>{S.hideWaiting()}))}onBtnMessageBoxClick(){S.showAboutUs()}}).prototype,"btnRank",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(T.prototype,"title",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(T.prototype,"shiningLight",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(T.prototype,"arrAnimNodes",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=T))||I));n._RF.pop()}}}));

System.register("chunks:///_virtual/JsonOb.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"1ffd3Wve91BGZGBFT0qs0S8","JsonOb",void 0);const r=Object.prototype,o="[object Object]",c="[object Array]",s=["push","pop","shift","unshift","sort","reverse","splice"];t("JsonOb",class{constructor(t,e){this._callback=void 0,r.toString.call(t)!==o&&r.toString.call(t)!==c&&console.error(""),this._callback=e,this.observe(t,[])}observe(t,e){r.toString.call(t)===c&&this.overrideArrayProto(t,e),Object.keys(t).forEach((s=>{let i=this,l=t[s],n=e&&e.slice();n?n.push(s):n=[s],Object.defineProperty(t,s,{get:function(){return l},set:function(t){if(l!==t){let e=r.toString.call(t);e!==o&&e!==c||i.observe(t,n);let s=l;l=t,i._callback(t,s,n)}}}),r.toString.call(t[s])!==o&&r.toString.call(t[s])!==c||this.observe(t[s],n)}),this)}overrideArrayProto(t,e){var r,o=Array.prototype,c=Object.create(Array.prototype),i=this;s.forEach((t=>{Object.defineProperty(c,t,{value:function(){var c=this.slice();return r=o[t].apply(this,arguments),i.observe(this,e),i._callback(this,c,e),r}})})),t.__proto__=c}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/LanguageData.ts",["cc"],(function(e){var t,n;return{setters:[function(e){t=e.cclegacy,n=e.director}],execute:function(){e({init:l,t:function(e){const t=window;if(!t.languages)return e;const n=e.split(".");let r=t.languages[a];for(let e=0;e<n.length;e++)if(r=r[n[e]],!r)return"";return r||""},updateSceneRenderers:o}),t._RF.push({},"b3f01X4Ik5LEbIPKXZr3JWD","LanguageData",void 0);let a=e("_language","zh"),r=e("ready",!1);function l(t){r=e("ready",!0),a=e("_language",t)}function o(){const e=n.getScene().children,t=[];for(let n=0;n<e.length;++n){let a=e[n].getComponentsInChildren("LocalizedLabel");Array.prototype.push.apply(t,a)}for(let e=0;e<t.length;++e){let n=t[e];n.node.active&&n.updateLabel()}const a=[];for(let t=0;t<e.length;++t){let n=e[t].getComponentsInChildren("LocalizedSprite");Array.prototype.push.apply(a,n)}for(let e=0;e<a.length;++e){let t=a[e];t.node.active&&t.updateSprite()}}window._languageData={get language(){return a},init(e){l(e)},updateSceneRenderers(){o()}},t._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingSceneView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./gAppConstant.ts","./gAppUtils.ts","./MainScene.ts"],(function(e){var t,s,i,o,r,a,n,l,p,h,d,c,g,u,y,b,m,S,f,P,w,B,L,k,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,s=e.initializerDefineProperty},function(e){i=e.cclegacy,o=e.Node,r=e.ProgressBar,a=e.Label,n=e._decorator,l=e.Component,p=e.size,h=e.v3,d=e.UITransform,c=e.sys,g=e.log,u=e.js,y=e.tween,b=e.UIOpacity,m=e.assetManager},function(e){S=e.gAppRes,f=e.gAppDirector,P=e.gAppAudio},function(e){w=e.EVT_PREFAB_LOADED,B=e.SCENE_HOME,L=e.DESIGN_RATIO_LANDSCAPE},function(e){k=e.gAppUtils},function(e){C=e.MainScene}],execute:function(){var z,A,R,_,D,E,O,M,V,v,H,N,F,G,I;i._RF.push({},"2f014HpS2dPjJ7Q1tCw5SBq","LoadingSceneView",void 0);const{ccclass:T,property:U}=n;e("LoadingSceneView",(z=T("LoadingSceneView"),A=U(o),R=U(r),_=U(a),D=U(a),E=U(o),O=U(o),z((v=t((V=class extends l{constructor(...e){super(...e),s(this,"sparkleBg",v,this),s(this,"progressBar",H,this),s(this,"labelProgress",N,this),s(this,"labelWelcome",F,this),s(this,"sparklePoint",G,this),s(this,"candy",I,this),this.bResLoaded=!1,this.bHomeViewLoad=!1,this.bReady=!1,this.bSceneLoaded=!1,this.timeStart=0,this.sizeSparkleBgOrg=p(640,960),this.posSparklePointOrg=h(0,0,0),this.posSparklePointScaleY=.5,this._tweenCandy=null}onLoad(){this.posSparklePointOrg=h(this.sparklePoint.position),this.sizeSparkleBgOrg=p(this.sparklePoint.parent.getComponent(d).contentSize)}start(){if(this.timeStart=c.now(),c.isBrowser&&window&&document){let e=document.getElementById("loading");e&&e.remove()}this.progressBar.progress=0,this.schedule((()=>{this.updateProgress()}),.02,89),this.schedule((()=>{this.updateProgress()}),.5,4,1.8),this.schedule((()=>{this.updateProgress()}),1,3,4.3),S.isPrefabDirLoaded?(this.bResLoaded=!0,this.readyGo()):S.node.on(w,(()=>{this.bResLoaded=!0,this.readyGo()}),this),f.preloadScene(B,(()=>{this.bHomeViewLoad=!0,g(`${u.getClassName(this)}.bHomeViewLoad=true`),this.readyGo()})),this.scheduleOnce((()=>{this.updateCandyPos(),this._tweenCandy=y(this.candy.children[1]).by(.5,{angle:-45}).repeatForever().start()})),this.node.on(o.EventType.SIZE_CHANGED,(()=>{this.updateCandyPos()}),this)}onDestroy(){g("LoadingSceneView.onDestroy()")}updateCandyPos(){let e=this.node.getComponent(d).contentSize;this.sparkleBg.active=e.width/e.height<L;let t=this.posSparklePointOrg.y*(e.height/this.sizeSparkleBgOrg.height);t=this.sparkleBg.active?t:0,this.sparklePoint.position=h(this.sparklePoint.position.x,t,this.sparklePoint.position.z)}updateProgress(){let e=k.formatFloat(this.progressBar.progress+.01,3);this.progressBar.progress=Math.min(1,e),this.labelProgress.string=`${Math.floor(100*this.progressBar.progress)}%`,this.progressBar.progress>=1&&this.showHomeScene()}readyGo(){g(`${u.getClassName(this)}.readGo()`),this.bHomeViewLoad&&this.bResLoaded&&(this.bReady||(this.bReady=!0,g(`${u.getClassName(this)}.bReady=true;`),this.schedule((()=>{this.updateProgress()}),.02,100)))}showHomeScene(){if(!this.bSceneLoaded){this.bSceneLoaded=!0;let e=()=>{C.instance.maskFg.fadeIn(.8,(()=>{f.loadScene(B),C.instance.maskFg.fadeOut(.8)}))};y(this.progressBar.getComponent(b)).to(.5,{opacity:0}).start(),y(this.candy.children[1].getComponent(b)).to(.5,{opacity:0}).start(),y(this.candy.children[0].getComponent(b)).to(.5,{opacity:255}).start(),y(this.labelWelcome.getComponent(b)).to(1.2,{opacity:255}).start(),this._tweenCandy.stop();let t=.5*Math.abs(this.candy.angle/45);t>.5?t=.5:t<.1&&(t=.1),y(this.candy).to(t,{angle:0}).by(.5,{angle:-45}).by(.5,{angle:45}).by(.5,{angle:-45}).by(.5,{angle:45}).delay(.3).call((()=>{e()})).start();let s="audio";m.loadBundle(s,((e,t)=>{e||t.load("MainMenuBg",((e,t)=>{e||this.isValid&&P.playMusic(t)}))}))}}}).prototype,"sparkleBg",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(V.prototype,"progressBar",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(V.prototype,"labelProgress",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(V.prototype,"labelWelcome",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(V.prototype,"sparklePoint",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(V.prototype,"candy",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=V))||M));i._RF.pop()}}}));

System.register("chunks:///_virtual/LocalizedLabel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageData.ts"],(function(e){var t,i,r,o,a,l,n,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){r=e.cclegacy,o=e._decorator,a=e.Component},function(e){l=e.ready,n=e.init,s=e.t}],execute:function(){var c,p,u,y,d,b;r._RF.push({},"edf98QH2D1AUoCrtQlbxFrU","LocalizedLabel",void 0);const{ccclass:h,property:L,executeInEditMode:f}=o;e("LocalizedLabel",(c=h("LocalizedLabel"),p=L({visible:!1}),u=L({displayName:"Key",visible:!0}),c(y=f((b=t((d=class extends a{constructor(...e){super(...e),this.label=null,i(this,"key",b,this)}get _key(){return this.key}set _key(e){this.updateLabel(),this.key=e}onLoad(){l||n("zh"),this.fetchRender()}fetchRender(){let e=this.getComponent("cc.Label");if(e)return this.label=e,void this.updateLabel()}updateLabel(){this.label&&(this.label.string=s(this.key))}}).prototype,"key",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),t(d.prototype,"_key",[u],Object.getOwnPropertyDescriptor(d.prototype,"_key"),d.prototype),y=d))||y)||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/LocalizedSprite.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageData.ts"],(function(e){var t,i,r,n,s,a,o,p,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){r=e.cclegacy,n=e.SpriteFrame,s=e._decorator,a=e.Component},function(e){o=e.ready,p=e.init,c=e._language}],execute:function(){var l,u,h,d,g,f,m,z,L,b,y;r._RF.push({},"c05c25C4xNAupWYMB93tIzp","LocalizedSprite",void 0);const{ccclass:S,property:F,executeInEditMode:v}=s;let _=(l=S("LocalizedSpriteItem"),u=F({type:n}),l((g=t((d=class{constructor(){i(this,"language",g,this),i(this,"spriteFrame",f,this)}}).prototype,"language",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"zh"}}),f=t(d.prototype,"spriteFrame",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=d))||h);e("LocalizedSprite",(m=S("LocalizedSprite"),z=F({type:_}),m(L=v((y=t((b=class extends a{constructor(...e){super(...e),this.sprite=null,i(this,"spriteList",y,this)}onLoad(){o||p("zh"),this.fetchRender()}fetchRender(){let e=this.getComponent("cc.Sprite");if(e)return this.sprite=e,void this.updateSprite()}updateSprite(){for(let e=0;e<this.spriteList.length;e++){const t=this.spriteList[e];if(t.language===c){this.sprite.spriteFrame=t.spriteFrame;break}}}}).prototype,"spriteList",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=b))||L)||L));r._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./App.ts","./AppAdHelper.ts","./AppAudio.ts","./AppAudioSounds.ts","./AppData.ts","./AppDirector.ts","./AppHelper.ts","./AppHotUpdate.ts","./AppLayoutHelper.ts","./AppNative.ts","./AppRemoteConfig.ts","./AppRes.ts","./AppResolution.ts","./AppStoreHelper.ts","./AppUI.ts","./AppUser.ts","./AppViewMgr.ts","./AppCanvasBg.ts","./AppCoinInfo.ts","./AppDebugBg.ts","./AppGrid.ts","./AppImg.ts","./AppLayout.ts","./AppLayout1.ts","./AppLayoutAdaptor.ts","./AppLayoutItem.ts","./AppMaskFg.ts","./AppRatingButton.ts","./AppSetterForEditor.ts","./AppShareButton.ts","./AppSoundButton.ts","./AppVideoAdButton.ts","./AppWidgetMaxWH.ts","./CandyRopes.ts","./GameLayout.ts","./RotateForever.ts","./TapAndHold.ts","./gAppCommon.ts","./gAppConfig.ts","./gAppConstant.ts","./gAppUtils.ts","./AppAboutUsUI.ts","./AppBlockerUI.ts","./AppDebugUI.ts","./AppFadeOutUI.ts","./AppHotUpdateTestUI.ts","./AppLoadingUI.ts","./AppLuckyButton.ts","./AppLuckyUI.ts","./AppMessageBoxUI.ts","./AppMsgBoxUI.ts","./AppPrivacyDialogUI.ts","./AppPrivacyPolicy.ts","./AppRatingBoxUI.ts","./AppRewardCollectUI.ts","./AppRewardMessageUI.ts","./AppSceneLoaderUI.ts","./AppStoreItem.ts","./AppStoreUI.ts","./AppTextViewerUI.ts","./AppTipsUI.ts","./AppVideoAdMessageUI.ts","./AppWaitingUI.ts","./LanguageData.ts","./LocalizedLabel.ts","./LocalizedSprite.ts","./JsonOb.ts","./StringFormat.ts","./VMBase.ts","./VMLabel.ts","./ViewModel.ts","./Pop.ts","./PopCommon.ts","./PopConfirmDialogUI.ts","./PopData.ts","./PopEffect.ts","./PopGame.ts","./PopGameHelpUI.ts","./PopGameOverUI.ts","./PopGem.ts","./PopGlobal.ts","./PopGrid.ts","./PopHelper.ts","./PopInterstitialUI.ts","./PopMagic.ts","./PopMagicButton.ts","./PopMagicCollectUI.ts","./PopMagicStoreUI.ts","./PopNewHighScoreUI.ts","./PopRes.ts","./PopResultUI.ts","./PopRetryDialogUI.ts","./PopSettingUI.ts","./PopStageBg.ts","./PopStageIntroUI.ts","./PopStageStar.ts","./PopStarTest.ts","./PopUI.ts","./PopView.ts","./HomeSceneView.ts","./LoadingSceneView.ts","./MainScene.ts","./FloatingClouds.ts","./FloatingSmokes.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MainScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AppMaskFg.ts"],(function(e){var n,t,i,r,c,s;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){i=e.cclegacy,r=e._decorator,c=e.Component},function(e){s=e.AppMaskFg}],execute:function(){var a,o,p,u,l,g;i._RF.push({},"12038pPrLhOqq7gANFxsZpj","MainScene",void 0);const{ccclass:f,property:F}=r;e("MainScene",(a=f("MainScene"),o=F(s),a(((g=class e extends c{constructor(...e){super(...e),t(this,"maskFg",l,this)}static get instance(){return e._instance}onLoad(){e._instance=this}start(){}})._instance=null,l=n((u=g).prototype,"maskFg",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=u))||p));i._RF.pop()}}}));

System.register("chunks:///_virtual/Pop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopGame.ts","./PopRes.ts","./PopEffect.ts","./PopGrid.ts","./PopMagic.ts","./PopUI.ts","./PopHelper.ts"],(function(e){var t,i,o,n,r,l,p,u,c,a,s,f,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){o=e.cclegacy,n=e._decorator,r=e.Component,l=e.log},function(e){p=e.PopGame},function(e){u=e.PopRes},function(e){c=e.PopEffect},function(e){a=e.PopGrid},function(e){s=e.PopMagic},function(e){f=e.PopUI},function(e){g=e.PopHelper}],execute:function(){var P,h,b,m,d,y,z,G,w,v,M,R,E,H,I,U,_,x;o._RF.push({},"55a2czOv01B+r0fygcjhv20","Pop",void 0);const{ccclass:D,property:L,executeInEditMode:j}=n;e("Pop",(P=D("Pop"),h=j(!0),b=L(p),m=L(u),d=L(f),y=L(g),z=L(c),G=L(a),w=L(s),P(v=h((R=t((M=class extends r{constructor(...e){super(...e),i(this,"game",R,this),i(this,"res",E,this),i(this,"ui",H,this),i(this,"helper",I,this),i(this,"effect",U,this),i(this,"grid",_,this),i(this,"magic",x,this)}onLoad(){l("Pop.onLoad()"),B=e("gPop",this),F=e("gPopGame",this.game),k=e("gPopRes",this.res),C=e("gPopUI",this.ui),O=e("gPopHelper",this.helper),S=e("gPopEffect",this.effect),q=e("gPopGrid",this.grid),A=e("gPopMagic",this.magic)}}).prototype,"game",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(M.prototype,"res",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(M.prototype,"ui",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(M.prototype,"helper",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(M.prototype,"effect",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(M.prototype,"grid",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(M.prototype,"magic",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=M))||v)||v));let B=e("gPop",null),F=e("gPopGame",null),k=e("gPopRes",null),C=e("gPopUI",null),O=e("gPopHelper",null),S=e("gPopEffect",null),q=e("gPopGrid",null),A=e("gPopMagic",null);o._RF.pop()}}}));

System.register("chunks:///_virtual/PopCommon.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){function o(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){let o=t[e];("string"!=typeof o||o.trim().length<=0)&&isNaN(Number(e))&&(t[e]=e)}}e._RF.push({},"92addg0IJ9AP7TL7KxkOHEl","PopCommon",void 0),o(t("PopStatus",function(t){return t.init="",t.ready="",t.playing="",t.paused="",t.end="",t.retry="",t.passed="",t.failed="",t}({}))),o(t("PopMagicId",function(t){return t.bomb="",t.color="",t.shuffle="",t}({})));t("PopGemType",{Empty:0,Min:1,Max:5}),t("PopGemColors",["#FFFFFF","#30FF30","#FC5050","#00B8FF","#EF30FF","#FFFF30"]);e._RF.pop()}}}));

System.register("chunks:///_virtual/PopConfirmDialogUI.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,c,a,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.initializerDefineProperty},function(t){i=t.cclegacy,n=t.Toggle,s=t.Button,l=t._decorator,r=t.Component,c=t.v3,a=t.tween,u=t.Sprite}],execute:function(){var h,p,f,g,C,d,m;i._RF.push({},"a573dU0kNJENZCosiQKFj/T","PopConfirmDialogUI",void 0);const{ccclass:b,property:y}=l;t("PopConfirmDialogUI",(h=b("PopConfirmDialogUI"),p=y(n),f=y(s),h((d=e((C=class extends r{constructor(...t){super(...t),o(this,"toggleConfirm",d,this),o(this,"buttonOK",m,this),this.funcOK=null,this.funcClose=null}setParams(t,e){this.funcOK=t,this.funcClose=e}start(){this.updateButton(),this.show()}show(){let t=this.node.getChildByName("Panel");t.setScale(c(0,0,1)),a(t).to(.1,{scale:c(1,1,1)}).start()}close(){let t=this.node.getChildByName("Panel");a(t).to(.1,{scale:c(0,0,1)}).call((()=>{this.node.destroy()})).start()}updateButton(){this.buttonOK.interactable=this.toggleConfirm.isChecked,this.buttonOK.getComponent(u).grayscale=!this.buttonOK.interactable}onToggleClick(){this.updateButton()}onOKClick(){this.funcOK&&this.funcOK(),this.close()}onCloseClick(){this.funcClose&&this.funcClose(),this.close()}}).prototype,"toggleConfirm",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=e(C.prototype,"buttonOK",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=C))||g));i._RF.pop()}}}));

System.register("chunks:///_virtual/PopData.ts",["cc","./ViewModel.ts","./App.ts","./PopCommon.ts","./AppData.ts","./gAppConfig.ts","./gAppUtils.ts","./LanguageData.ts"],(function(e){var t,a,r,o,c,n,i,g,s,u,l,h,d;return{setters:[function(e){t=e.cclegacy,a=e._decorator,r=e.Component,o=e.log,c=e.randomRangeInt,n=e.js,i=e.warn},function(e){g=e.VM},null,function(e){s=e.PopStatus},function(e){u=e.gAppData},function(e){l=e.gAppConfig},function(e){h=e.gAppUtils},function(e){d=e.t}],execute:function(){var S,m;t._RF.push({},"1bb6bKJHaVKTaqgLQDuNsXE","PopData",void 0);const{ccclass:p,property:f}=a,C=[{id:"1",gemTypeCount:5,target:1e3},{id:"2",gemTypeCount:4,target:1500},{id:"3",gemTypeCount:4,target:2e3},{id:"4",gemTypeCount:5,target:2e3},{id:"5",gemTypeCount:5,target:2500},{id:"6",gemTypeCount:5,target:3e3},{id:"7",gemTypeCount:4,target:3e3},{id:"8",gemTypeCount:4,target:3e3},{id:"9",gemTypeCount:5,target:3500},{id:"10",gemTypeCount:3,target:4e3},{id:"11",gemTypeCount:5,target:4500},{id:"12",gemTypeCount:4,target:5e3},{id:"13",gemTypeCount:5,target:4500},{id:"14",gemTypeCount:5,target:4e3},{id:"15",gemTypeCount:5,target:3500}];class M{constructor(){this.version=l.version,this.curStage=0,this.bestStage=0,this.basicScore=0,this.curScore=0,this.targetScore=1e3,this.highScore=0,this.status=s.init,this.row=10,this.col=10,this.arrGems=[],this.magicQuota=5,this.magics=[{id:"bomb",count:5},{id:"color",count:5},{id:"shuffle",count:5}],this.consecutiveWins=0,this.consecutiveFails=0,this.doubleClickModeOn=!1}}const D=e("gPopData",new M),T=D,b="gPopData",y="PopDataV2";e("PopDataCtl",p("PopDataCtl")(((m=class t extends r{onLoad(){o("PopDataCtl.onLoad()"),v||(v=e("gPopDataCtl",this),this.loadData(),this.bindVM())}bindVM(){g.add(T,b,!0),g.bindPath(b,((e,t,a)=>{this.scheduleOnce((()=>{this.saveData()}))}),this)}loadData(){const e="DataPop";let t=localStorage.getItem(e);if(t&&t.length>0)return o(`Loading previous data of DataPop, ${t}`),h.loadObject(e,T),T.status=s.init,T.curStage>0&&(T.curScore=this.getTargetScore(T.curStage-1),T.basicScore=T.curScore,this.saveData()),void localStorage.removeItem(e);h.loadObject(y,T)}saveData(){h.saveObject(y,T)}prepare(){switch(T.status){case s.retry:T.curScore=T.basicScore;break;case s.passed:T.curStage+=1,T.bestStage=Math.max(T.curStage,T.bestStage),T.status=s.init;break;case s.failed:T.curStage=Math.max(0,T.curStage-1),T.curScore=T.curStage>0?this.getTargetScore(T.curStage-1):0,T.status=s.init}s.init!=T.status&&s.retry!=T.status||(s.init==T.status&&(T.basicScore=T.curScore,T.targetScore=this.getTargetScore(T.curStage)),T.arrGems=this.generateGems(),T.status=s.ready,T.magicQuota=this.getMagicMaxInCurrentStage(T.curStage)),console.log("DataPop:",JSON.stringify(T))}generateGems(e){let t=[1,2,3,4,5],a=.01,r=T.targetScore-T.curScore;T.curStage>0&&(a=r>=5e3?100:r>=4e3?80:r>=3e3?50:20,c(0,100)<a&&t.splice(Math.floor(Math.random()*t.length),1)[0]);let o=[];for(let e=0;e<100;e++)o[e]=t[Math.floor(Math.random()*t.length)];return o}generateGems_org(e){let t=[1,2,3,4,5],a=.01;T.targetScore-T.curScore<=1e3?a=10:T.targetScore-T.curScore<=1500?a=20:T.targetScore-T.curScore<=2e3?a=50:T.targetScore-T.curScore<=3e3?a=60:T.targetScore-T.curScore<=4e3?a=80:T.targetScore-T.curScore<=5e3&&(a=100),u.launchCount<3&&0==T.curStage&&(a=100),T.consecutiveFails>=5&&(a+=T.consecutiveFails),c(0,100)<a&&t.splice(Math.floor(Math.random()*t.length),1);let r=[];for(let e=0;e<100;e++)r[e]=t[Math.floor(Math.random()*t.length)];return r}resetData(){let e=new M;h.saveObject(y,e),this.loadData()}addScore(e){T.curScore+=e}setStatus(e){T.status=e}getTargetScore(e){let t=e,a=0,r=[1e3,3e3,6e3,9e3,13e3,16e3,2e4,23e3,27e3,32e3],o=[3e3,4e3,5e3,3e3,4e3,5e3,4e3,5e3,5e3,5e3],c=0;if(o.forEach((e=>{c+=e})),t<r.length)a=r[t];else{let e=r[r.length-1]+Math.floor((t-r.length)/r.length)*c,n=t%o.length;for(let t=0;t<n+1;t++)e+=o[t];a=e}return a}getTargetScore2(e){let t=0,a=[1e3,3e3,6e3,8e3,1e4,13e3,15e3,17e3,2e4,24e3];if(e<a.length)t=a[e];else{let e=Math.floor(T.curScore/1e3),a=T.curScore<20?2:3;t=1e3*e+1e3*c(a,6)}return t}getTargetScore_org(e){let t=0,a=[1e3,3e3,6e3,8e3,1e4,13e3,15e3,17e3,2e4,24e3];return t=e<a.length?a[e]:a[a.length-1]+4e3*(e-(a.length-1)),t}getTargetScore2_(e){let t=[],a=0,r=e;for(let e=0;e<C.length;e++){const a=C[e];t[e]=a.target,e>0&&(t[e]=a.target+t[e-1])}if(r<t.length)a=t[r],C[r].gemTypeCount;else{let e=[3e3,3500,4e3,4500,5e3,4500,4e3,3500],o=(r-t.length)%e.length,c=0;e.forEach((e=>{c+=e}));let n=Math.floor((r-(t.length-1))/(e.length+1e-4));a=t[t.length-1]+n*c;for(let t=0;t<e.length;t++)o>=t&&(a+=e[t])}return a}getMagicMaxInCurrentStage(e){let t=5,a=[10,20,30,40,50,60,70,80,90,100,150,200,300,400,500,1e3,1e4];for(let r=0;r<a.length;r++){if(!(e>=a[r]))break;t+=1}return t}getMagicInfo(e){o(`${n.getClassName(this)}.getMagicInfo()`);let t=[{id:"bomb",count:5,max:5,price:2,name:d("magicBomb")},{id:"color",count:5,max:5,price:2,name:d("magicColorSwitcher")},{id:"shuffle",count:5,max:5,price:1,name:d("magicShuffle")}].find(((t,a,r)=>t.id==e));if(!t)return void console.warn("getMagicInfo(), can't find magic id:",e);let a=T.magics.find(((t,a,r)=>t.id==e));return a||i("!magicUser"),t.count=a.count,t}getMagicCount(e){let t=0,a=T.magics.find(((t,a,r)=>t.id==e));return a&&(t=a.count),t}useMagic(e){let a=T.magics.find(((t,a,r)=>t.id==e));return!!(a&&a.count>0)&&(a.count--,T.magicQuota--,this.node.emit(t.EVT_MAGIC_CHANGED),!0)}addMagic(e,a){let r=T.magics.find(((t,a,r)=>t.id==e));return!!r&&(r.count+=a,this.node.emit(t.EVT_MAGIC_CHANGED),!0)}}).EVT_MAGIC_CHANGED="EVT_MAGIC_CHANGED",S=m))||S);let v=e("gPopDataCtl",null);t._RF.pop()}}}));

System.register("chunks:///_virtual/PopEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Pop.ts","./AppAudioSounds.ts","./App.ts","./gAppConstant.ts"],(function(e){var t,o,i,n,l,a,r,s,c,p,d,u,h,b,g,f,y,m,S,C,P,w,G,v,E;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.initializerDefineProperty},function(e){i=e.cclegacy,n=e.Node,l=e.Label,a=e.Prefab,r=e._decorator,s=e.Component,c=e.v3,p=e.instantiate,d=e.ParticleSystem2D,u=e.tween,h=e.UIOpacity,b=e.log,g=e.UITransform,f=e.easing,y=e.find,m=e.sys,S=e.view},function(e){C=e.gPopGame,P=e.gPopRes,w=e.gPopGrid},function(e){G=e.SND},function(e){v=e.gAppAudio},function(e){E=e.LAYER_FG3}],execute:function(){var x,J,z,N,A,R,H,O,I,D,F,T,L,_,B,k,V,W,$,j,U;i._RF.push({},"76b38yImcJD0KXNWpjHw0Ay","PopEffect",void 0);const{ccclass:K,property:M}=r;e("PopEffect",(x=K("PopEffect"),J=M(n),z=M(n),N=M(l),A=M(l),R=M(n),H=M(n),O=M(n),I=M(a),D=M(a),x((L=t((T=class extends s{constructor(...e){super(...e),o(this,"nodeParticleEraseGem",L,this),o(this,"nodeParticleColorSwitch",_,this),o(this,"labelSingleScore",B,this),o(this,"labelSumScore",k,this),o(this,"nodeGoodJobSamples",V,this),o(this,"nodeGoodJobContainer",W,this),o(this,"nodeComboSample",$,this),o(this,"prefabNewHighScore",j,this),o(this,"prefabTargetCleared",U,this)}onLoad(){this.nodeGoodJobSamples.active=!1}start(){}playEraseItemEffect(e,t){let o=c(e),i=p(this.nodeParticleEraseGem);i.parent=this.node,i.active=!0,i.worldPosition=o;let n=i.getComponent(d);n&&(n.startColor=t,n.endColor=t,n.autoRemoveOnFinish=!0,n.resetSystem())}playItemScoreEffect(e,t){let o=c(e);this.labelSingleScore.string=t.toString();let i=p(this.labelSingleScore.node);i.parent=this.node,i.active=!0,i.worldPosition=o;let n=C.labelCurScore.node.worldPosition;u(i).by(.3,{worldPosition:c(0,10,0)}).to(.38,{worldPosition:n,scale:c(.5,.5,1)}).call((()=>{C.addScore(t),i.destroy()})).start()}playSumScoreEffect(e,t){let o=c(e);this.labelSumScore.string=t.toString();let i=p(this.labelSumScore.node);i.parent=this.node,i.active=!0,o.y+=50,i.setWorldPosition(o);let n=c(i.position);n.x<-260?n.x=-260:n.x>260&&(n.x=260),i.setPosition(n),u(i).set({scale:c(.001,.001)}).to(.2,{scale:c(1,1)}).by(1.5,{position:c(0,60,0)}).call((()=>{u(i.getComponent(h)).to(.2,{opacity:0}).start()})).to(.3,{scale:c(.001,.001)}).removeSelf().start()}playGoodJobEffect(e){let t=[7,10,15,25,30];if(e>=t[0]){let o=t.length-1;for(;o>=0&&!(e>=t[o]);o--);let i=p(this.nodeGoodJobSamples.getChildByName(`GoodJob${o+1}`));i.parent=this.nodeGoodJobContainer,i.setScale(3,3),u(i).to(.2,{scale:c(1,1)},{easing:"backIn"}).call((()=>{u(i.getComponent(h)).to(.05,{opacity:0}).to(.05,{opacity:255}).union().repeat(3*o).delay(1.5).to(o<4?.5:2,{opacity:0}).start()})).delay(o<4?2.6:5).removeSelf().start(),G.GoodJobs.length>0&&o<G.GoodJobs.length&&(v.playSound(G.GoodJobs[o]),4==o&&this.scheduleOnce((()=>{v.playSound(G.GoodJobs[3])}),.5))}}playComboEffect(e,t){const o=200;let i=c(e),n=p(this.nodeComboSample),a=n.getChildByName("LabelComboValue").getComponent(l);a.string="7",n.parent=this.node,n.active=!0,n.setWorldPosition(i);let r=c(n.position);r.x<-200?r.x=-200:r.x>o&&(r.x=o),n.setPosition(r);for(let e=0;e<t;e++)this.scheduleOnce((()=>{a.string=`${e+1}`,u(a.node).to(.1,{scale:c(1.2,1.2,1.2)}).to(.1,{scale:c(1,1,1)}).start()}),.1*e);u(n).set({scale:c(.001,.001)}).to(.2,{scale:c(1,1)}).delay(.1*t+2).removeSelf().start()}playExposeGemEffect(e){let t=c(e),o=p(P.ParticleExposeGem);o.parent=this.node,o.active=!0,o.worldPosition=t,o.getComponent(d).autoRemoveOnFinish=!0,v.playSound(G.Bomb)}playColorSwitcherEffect(e){let t=c(e),o=p(this.nodeParticleColorSwitch);o.parent=this.node,o.active=!0,o.worldPosition=t,o.getComponent(d).autoRemoveOnFinish=!0,v.playSound(G.ReplaceGem)}playTargetClearEffect(){C.targetCleared.active=!0;let e=c(C.targetCleared.worldPosition),t=c(C.targetCleared.scale);b(`scaleOrg:${t.toString()}`);let o=C.targetCleared;o.getComponent(h).opacity=0;let i=p(this.prefabTargetCleared);i.getComponent(h).opacity=255,i.parent=this.node;let n=w.node.worldPosition.x,l=w.node.worldPosition.y+(320-1.5*i.getComponent(g).height);i.worldPosition=c(n,l,this.node.worldPosition.z),i.setScale(3*t.x,3*t.y),u(i).to(.2,{scale:c(1.5*t.x,1.5*t.y)},{easing:"backIn"}).call((()=>{u(i.getComponent(h)).to(.1,{opacity:0}).to(.1,{opacity:255}).union().repeat(3).delay(1.5).start()})).delay(1.5).to(.5,{worldPosition:e,scale:t},{easing:f.circOut}).call((()=>{o.getComponent(h).opacity=255,o.setScale(t),i.destroy()})).start(),v.playSound(G.TargetClear)}playNewHighScoreEffect(){let e=p(this.prefabNewHighScore),t=y(E);e.parent=t||this.node;let o=m.getSafeAreaRect(),i=S.getVisibleSize(),n=e.getComponent(g).contentSize,l=i.height/2+n.height/2;e.position=c(0,l,1),u(e).by(.3,{position:c(0,-(n.height+o.y))}).delay(2).by(.3,{position:c(0,n.height+o.y)}).call((()=>{e.destroy(),u(C.labelHighScoreValue.node).hide().delay(.2).show().delay(.1).union().repeat(3).start()})).start(),v.playSound(G.NewHighScore)}}).prototype,"nodeParticleEraseGem",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(T.prototype,"nodeParticleColorSwitch",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(T.prototype,"labelSingleScore",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(T.prototype,"labelSumScore",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(T.prototype,"nodeGoodJobSamples",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(T.prototype,"nodeGoodJobContainer",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(T.prototype,"nodeComboSample",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(T.prototype,"prefabNewHighScore",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(T.prototype,"prefabTargetCleared",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=T))||F));i._RF.pop()}}}));

System.register("chunks:///_virtual/PopGame.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopData.ts","./Pop.ts","./PopCommon.ts","./App.ts","./AppLayout1.ts","./gAppConstant.ts","./AppCoinInfo.ts"],(function(e){var t,r,i,o,a,n,l,c,s,u,p,g,h,f,b,d,y,S,m,C,P,D,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.initializerDefineProperty},function(e){i=e.cclegacy,o=e.Label,a=e.Node,n=e._decorator,l=e.Component,c=e.log,s=e.tween,u=e.UIOpacity,p=e.v3},function(e){g=e.gPopDataCtl,h=e.gPopData},function(e){f=e.gPopGrid,b=e.gPopUI,d=e.gPopEffect},function(e){y=e.PopStatus},function(e){S=e.gAppNative,m=e.gAppDirector},function(e){C=e.AppLayout1},function(e){P=e.SCENE_HOME,D=e.SCENE_POP},function(e){w=e.AppCoinInfo}],execute:function(){var N,v,z,H,E,I,A,F,G,V,M,U,_,B,L,j,k,O,R,T,x,$,Q,Y,q,J;i._RF.push({},"33ccdPGSHlEMYjmtcS0ijQ3","PopGame",void 0);const{ccclass:K,property:W}=n;e("PopGame",(N=K("PopGame"),v=W(C),z=W(o),H=W(o),E=W(o),I=W(o),A=W(a),F=W(a),G=W(a),V=W(a),M=W([a]),U=W([a]),N(((J=class e extends l{constructor(...e){super(...e),r(this,"layout",L,this),r(this,"labelCurScore",j,this),r(this,"labelHighScoreValue",k,this),r(this,"labelStageValue",O,this),r(this,"labelTargetValue",R,this),r(this,"targetCleared",T,this),r(this,"stageBg",x,this),r(this,"fg",$,this),r(this,"eventBlocker",Q,this),r(this,"arrUINodes",Y,this),r(this,"arrDecorateNodes",q,this),this.curScoreForDisplay=0}start(){c("PopGame.start()"),g.prepare(),this.labelCurScore.string=`${h.curScore}`,this.curScoreForDisplay=h.curScore,this.labelStageValue.string=`${h.curStage+1}`,w.instance.node.active=!0,this.fg.active=!0,s(this.fg.getComponent(u)).to(2.5,{opacity:0}).call((()=>{this.fg.destroy()})).start(),s(this.layout.getComponent(u)).set({opacity:0}).to(.5,{opacity:255}).start(),f.node.active=!1,y.end==h.status?b.showRetryDialog():b.showStageIntro()}onDestroy(){c("PopGame.destroy()")}addScore(t){if(0!=t&&(this.curScoreForDisplay+=t,this.labelCurScore.string=this.curScoreForDisplay.toString(),s(this.labelCurScore.node).to(.1,{scale:p(1.2,1.2,1.2)}).to(.1,{scale:p(1,1,1)}).start(),!this.targetCleared.active&&this.curScoreForDisplay>=h.targetScore&&(this.targetCleared.active=!0,d.playTargetClearEffect()),e.newHighScoreMade)){let t=parseInt(this.labelHighScoreValue.string);t>0&&this.curScoreForDisplay>t&&(d.playNewHighScoreEffect(),S.reportScore(h.highScore),S.reportMagics(h.bestStage),e.newHighScoreMade=!1)}}goHome(){m.loadScene(P)}reload(){m.loadScene(D)}hideNodes(e){e.forEach((e=>{let t=e.getComponent(u);if(t||(t=e.addComponent(u)),t&&t.node.active){let e=t.opacity;s(t).to(.3,{opacity:0}).call((()=>{t.opacity=e,t.node.active=!1})).start()}}))}hideUINodes(){this.hideNodes(this.arrUINodes)}hideDecorateNodes(){this.hideNodes(this.arrDecorateNodes)}}).newHighScoreMade=!1,L=t((B=J).prototype,"layout",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(B.prototype,"labelCurScore",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(B.prototype,"labelHighScoreValue",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(B.prototype,"labelStageValue",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(B.prototype,"labelTargetValue",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(B.prototype,"targetCleared",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(B.prototype,"stageBg",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(B.prototype,"fg",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(B.prototype,"eventBlocker",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(B.prototype,"arrUINodes",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=t(B.prototype,"arrDecorateNodes",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=B))||_));i._RF.pop()}}}));

System.register("chunks:///_virtual/PopGameHelpUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts"],(function(e){var t,i,n,l,o,r,s,a,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){n=e.cclegacy,l=e.TextAsset,o=e.RichText,r=e.Node,s=e._decorator,a=e.Component},function(e){c=e.gAppHelper}],execute:function(){var p,u,h,b,f,g,d,m,y;n._RF.push({},"80480uUcINHro7WapgyvvZt","PopGameHelpUI",void 0);const{ccclass:x,property:P}=s;e("PopGameHelpUI",(p=x("PopGameHelpUI"),u=P(l),h=P(o),b=P(r),p((d=t((g=class extends a{constructor(...e){super(...e),i(this,"txtAsset",d,this),i(this,"labelContent",m,this),i(this,"loading",y,this)}start(){c.showPanel(this),this.scheduleOnce((()=>{this.labelContent.string=this.txtAsset.text,this.loading.active=!1}),.2)}onCloseClick(){c.closePanel(this)}}).prototype,"txtAsset",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=t(g.prototype,"labelContent",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(g.prototype,"loading",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=g))||f));n._RF.pop()}}}));

System.register("chunks:///_virtual/PopGameOverUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./AppAudioSounds.ts"],(function(e){var t,o,s,i,n,r,l,a,p,c,u,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.initializerDefineProperty},function(e){s=e.cclegacy,i=e.Node,n=e._decorator,r=e.Component,l=e.Layout,a=e.view,p=e.v3,c=e.tween},function(e){u=e.gAppAudio},function(e){d=e.SND}],execute:function(){var h,y,v,E,O,P;s._RF.push({},"d213fMps+dKHa8huHw2weox","PopGameOverUI",void 0);const{ccclass:f,property:g}=n;e("PopGameOverUI",(h=f("PopGameOverUI"),y=g(i),h(((P=class e extends r{constructor(...e){super(...e),o(this,"letters",O,this),this.destroyOnClose=!1}setParams(t){this.node.on(e.EVT_COMPLETE,(()=>{t&&t()}))}onLoad(){this.letters.getComponent(l).enabled=!1}start(){this.show()}show(){let t=a.getVisibleSize().width;console.log("view.getVisibleSize():",t);let o=0,s=this.letters.children;for(let i=0;i<s.length;i++){const n=s[i];let r=i;o+=.1;let l=p(n.position);n.setPosition(l.x+t,l.y,l.z),c(n).delay(o).to(.5,{position:l}).delay(1).by(.2,{position:p(0,100,0)}).to(.2,{position:l}).call((()=>{r==s.length-1&&this.scheduleOnce((()=>{this.node.emit(e.EVT_COMPLETE),this.destroyOnClose&&this.node.destroy()}),1)})).start()}u.playSound(d.GameOver)}}).EVT_COMPLETE="EVT_COMPLETE",O=t((E=P).prototype,"letters",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=E))||v));s._RF.pop()}}}));

System.register("chunks:///_virtual/PopGem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Pop.ts","./PopCommon.ts"],(function(t){var e,i,s,o,n,l,r,c,h,p,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){s=t.cclegacy,o=t.Sprite,n=t._decorator,l=t.Component,r=t.tween,c=t.v3,h=t.color},function(t){p=t.gPop},function(t){g=t.PopGemType}],execute:function(){var a,f,u,y,d,b,m,E,w;s._RF.push({},"72cbcYmy9FEyrEuM0FFumd2","PopGem",void 0);const{ccclass:_,property:P,executeInEditMode:F}=n;t("PopGem",(a=_("PopGem"),f=F(!0),u=P(o),y=P(o),a(d=f((m=e((b=class extends l{constructor(...t){super(...t),i(this,"bg",m,this),i(this,"fg",E,this),i(this,"type",w,this),this._tweenSelectEffect=null,this._tweenHighlightedEffect=null}start(){}updateType(){this.type>=0&&(this.bg.spriteFrame=p.res.gemBgs[this.type],this.fg.spriteFrame=p.res.gemFgs[this.type]),this.node.active=!this.isEmpty()}isEmpty(){return this.type==g.Empty}setEmpty(){this.type=g.Empty}blink(){r(this.node).hide().delay(.2).show().delay(.1).union().repeat(3).start()}setEditing(t){let e=t?c(.9,.9,1):c(1,1,1);r(this.bg.node).to(.1,{scale:e}).start();let i=t?h(180,180,180,255):h(255,255,255,255);this.bg.color=i,this.fg.color=i}setHighlighted(t){this.bg.node.scale=t?c(1,1,1):c(.9,.9,1),this.bg.color=t?h(255,255,255,255):h(180,180,180,255),this.fg.color=t?h(255,255,255,255):h(180,180,180,255),t?(this._tweenHighlightedEffect&&(this._tweenHighlightedEffect.stop(),this._tweenHighlightedEffect=null),this._tweenHighlightedEffect=r(this.fg.node).to(.3,{scale:c(1.2,1.2,1)}).to(.3,{scale:c(1,1,1)}).union().repeatForever().start()):(this._tweenHighlightedEffect&&(this._tweenHighlightedEffect.stop(),this._tweenHighlightedEffect=null),this.fg.node.scale=c(1,1,1))}move(t,e){let i=this.node,s=c(i.position),o=c(s),n=0,l=0;r(s).by(.3,{x:t,y:e},{easing:"backIn",onUpdate:(t,e)=>{i&&i.position&&(n+=i.position.x-o.x,l+=i.position.y-o.y,i.setPosition(t.x+n,t.y+l,s.z),o=c(i.position))}}).start()}playSelectEffect(){let t=h(this.bg.color);t.a=100,this.bg.color=t,this._tweenSelectEffect=r(this.fg.node).to(1,{angle:360}).set({angle:0}).union().repeatForever().start()}stopSelectEffect(){this._tweenSelectEffect&&(this._tweenSelectEffect.stop(),this._tweenSelectEffect=null);let t=h(this.bg.color);t.a=255,this.bg.color=t,r(this.fg.node).set({angle:0}).start()}onClick(){}}).prototype,"bg",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(b.prototype,"fg",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(b.prototype,"type",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g.Empty}}),d=b))||d)||d));s._RF.pop()}}}));

System.register("chunks:///_virtual/PopGlobal.ts",["cc"],(function(e){var o;return{setters:[function(e){o=e.cclegacy}],execute:function(){o._RF.push({},"824a0DTsh9Fvqp9l82eoVh3","PopGlobal",void 0);class c{}e("PopGlobal",c),c.newBestScoreShowed=!1,c.adClickTime=0,o._RF.pop()}}}));

System.register("chunks:///_virtual/PopGrid.ts",["cc","./PopGem.ts","./TapAndHold.ts","./Pop.ts","./PopData.ts","./PopCommon.ts","./App.ts","./AppAudioSounds.ts","./PopGame.ts"],(function(e){var t,s,o,n,i,l,r,h,a,c,d,m,p,u,g,f,I,E,y,S,P,T,C,b,v,G,O;return{setters:[function(e){t=e.cclegacy,s=e._decorator,o=e.Component,n=e.v3,i=e.Node,l=e.log,r=e.color,h=e.view,a=e.tween,c=e.randomRangeInt,d=e.js,m=e.easing},function(e){p=e.PopGem},function(e){u=e.default},function(e){g=e.gPop,f=e.gPopMagic,I=e.gPopEffect,E=e.gPopGame,y=e.gPopUI},function(e){S=e.gPopData},function(e){P=e.PopMagicId,T=e.PopGemColors,C=e.PopStatus,b=e.PopGemType},function(e){v=e.gAppAudio},function(e){G=e.SND},function(e){O=e.PopGame}],execute:function(){var x,M;t._RF.push({},"400de14GE5PR4BrXkgR/lEl","PopGrid",void 0);const{ccclass:w,property:A}=s,R=10,D=10;e("PopGrid",w("PopGrid")(((M=class e extends o{constructor(...e){super(...e),this.arrPositions=[],this.arrItems=[],this.arrSelectedItems=[],this.isEditing=!1,this.interactable=!1,this.doubleClickModeOn=!1}start(){for(let e=0;e<this.node.children.length;e++){this.arrPositions[e]=n(this.node.children[e].position);let t=this.node.children[e].getComponent(p);t.node.active=!1,this.arrItems[e]=t}this.scheduleOnce((()=>{this.fromData(S.arrGems);let e=this.showUp();this.scheduleOnce((()=>{this.isConnectable()?(this.arrItems.forEach((e=>{e.node.on(i.EventType.TOUCH_START,this.onItemTouchStart,this),e.node.on(i.EventType.TOUCH_END,this.onItemTouchEnd,this),e.node.on(u.EVT_TAP_AND_HOLD,this.onItemTapAndHold,this)})),this.interactable=!0):this.handleGameEnd(e)}),e)}))}onItemTouchStart(e){console.log("onItemTouchStart()"),(this.doubleClickModeOn||g.helper.isMagicToolBarAvailable())&&this.onItemTouch(e)}onItemTapAndHold(e,t){l("PopGrid.onItemTapAndHold()"),this.isEditing||e.active&&(this.deselect(),f.selectMagic(P.color),f.onMagicModeSelectItem(e.getComponent(p)))}onItemTouchEnd(e){console.log("onItemTouchEnd()"),e.propagationImmediateStopped?console.log("evt.evt.propagationImmediateStopped"):this.doubleClickModeOn||g.helper.isMagicToolBarAvailable()||this.onItemTouch(e)}onItemTouch(t){let s=t.target.getComponent(p);s&&!s.isEmpty()&&(this.isEditing?this.node.emit(e.EVT_ITEM_SELECT,s):this.touchItem(s))}selectItems(e){this.arrSelectedItems=e,this.arrSelectedItems.forEach((e=>{e.playSelectEffect()}))}deselect(){this.arrSelectedItems.forEach((e=>{e.stopSelectEffect()})),this.arrSelectedItems=[]}touchItem(e){let t=this.arrItems.indexOf(e);if(t>=0&&t<this.arrItems.length)if(this.arrSelectedItems.length>0&&this.arrSelectedItems.indexOf(e)>=0){let e=this.arrSelectedItems.slice(0);this.eraseItems(e),this.arrSelectedItems=[]}else{this.deselect();let s=[];this.findConnectableAtIndex(t,s),s.length>=2&&(this.selectItems(s),this.doubleClickModeOn||this.touchItem(e))}}eraseItems(e){let t=5*e.length,s=e.length*t,o=0;for(let n=0;n<e.length;n++){const i=e[n];let l=n,h=r(T[i.type]);i.setEmpty(),this.scheduleOnce((()=>{i.updateType(),g.effect.playEraseItemEffect(i.node.worldPosition,h),G.Combos.length>0&&v.playSound(G.Combos[l%G.Combos.length]),g.effect.playItemScoreEffect(i.node.worldPosition,t)}),o),n==e.length-1&&this.scheduleOnce((()=>{I.playSumScoreEffect(i.node.worldPosition,s),I.playGoodJobEffect(e.length)}),o),e.length>=7&&0==n&&this.scheduleOnce((()=>{I.playComboEffect(e[0].node.worldPosition,e.length)}),o),o+=.1}o+=this.arrangeItems(o);let n=S;n.curScore+=s,n.arrGems=this.toData(),this.isConnectable()||this.handleGameEnd(o)}replaceItem(e,t){if(e){e.type=t,S.arrGems=this.toData();let s=n(e.node.worldPosition);I.playColorSwitcherEffect(s),this.scheduleOnce((()=>{e.updateType()}),.38)}}index2Pos(e){return this.arrPositions[e]}fromData(e){if(e.length==this.arrItems.length)for(let t=0;t<this.arrItems.length;t++){this.arrItems[t].type=e[t]}else console.warn("arr.length != this.arrItems.length")}toData(){let e=[];for(let t=0;t<this.arrItems.length;t++)e[t]=this.arrItems[t].type;return e}showUp(){let e=0;this.arrItems.forEach((e=>{e.node.active=!0,e.updateType()}));{let t=0,s=0;for(let e=0;e<this.arrItems.length;e++){const o=this.arrItems[e];let i=Math.floor(e/D),l=e%D,r=n(o.node.position),c=n(r);c.y+=h.getVisibleSize().height,s=.1*(R-i-1)+.5*Math.random(),t=Math.max(s,t);let d=i==l&&o.type>0?()=>{v.playSound(G.MoveDown)}:()=>{};o.node.setPosition(c),a(o.node).delay(s).to(.5,{position:r},{easing:"sineIn"}).call(d).start()}e=t+.5}return e}findConnectableAtIndex(e,t){let s=Math.floor(e/D),o=e%D,n=this.arrItems;if(e>=0&&e<n.length){let i=n[e];if(i&&i.type>0){0==t.length&&t.push(i);let e=[s-1<0?-1:(s-1)*D+o,s+1>=R?-1:(s+1)*D+o,o-1<0?-1:s*D+(o-1),o+1>=D?-1:s*D+o+1];for(let s=0;s<e.length;s++){let o=e[s];if(o>=0&&o<n.length){let e=n[o];i.type==e.type&&t.indexOf(e)<0&&(t.push(e),this.findConnectableAtIndex(o,t))}}}}}isConnectable(){let e=!1;for(let t=this.arrItems.length-1;t>=0;t--){let s=[];if(this.findConnectableAtIndex(t,s),s.length>1){e=!0;break}}return e}moveItem(e,t,s){let o=this.index2Pos(t),n=this.index2Pos(s);e.move(n.x-o.x,n.y-o.y)}arrangeItems(e){let t=0,s=this.arrItems,o=!1;for(let n=0;n<R;n++)for(let i=9;i>=0;i--){let l=i*D+n,r=s[l];if(r&&0==r.type)for(let h=i-1;h>=0;h--){let i=h*D+n,a=s[i];if(a&&a.type>0){s[i]=r,s[l]=a,this.scheduleOnce((()=>{r.node.active=!1,this.moveItem(a,i,l)}),e+t),o=!0;break}}}t=o?t+.3:t,o&&this.scheduleOnce((()=>{v.playSound(G.MoveDown)}),e+t);let n=!1;for(let o=0;o<D;o++){let i=s[90+o];if(i&&0==i.type)for(let i=o+1;i<D;i++){let l=s[90+i];if(l&&l.type>0){for(let l=9;l>=0;l--){let r=l*D+o,h=l*D+i,a=s[r],c=s[h];s[h]=a,s[r]=c,this.scheduleOnce((()=>{a.node.active=!1,this.moveItem(c,h,r)}),e+t),n=!0}break}}}return t=n?t+.3:t,n&&this.scheduleOnce((()=>{v.playSound(G.MoveDown2)}),e+t),t}calcBonus(){let e=2e3;return e-=200*this.getRemainingGems().length,e=e>=0?e:0,e}handleGameEnd(e){E.hideUINodes(),e+=this.blink(e),e+=this.showResult(e);let t=S;t.curScore+=this.calcBonus(),t.curScore>=t.targetScore?(t.status=C.passed,t.consecutiveWins++,t.consecutiveFails=0):(t.status=C.end,t.consecutiveWins=0,t.consecutiveFails++,t.curScore>t.highScore&&(t.highScore=t.curScore,O.newHighScoreMade=!0))}blink(e){return this.scheduleOnce((()=>{for(let e=0;e<this.arrItems.length;e++){this.arrItems[e].blink()}v.playSound(G.LevelEnd)}),e),1}showResult(e){return this.scheduleOnce((()=>{y.showResult()}),e),1}eraseRemainingItems(e,t){let s=0,o=this.getRemainingGems();for(let n=0;n<o.length;n++){const i=o[n];let l=n,h=r(T[i.type]);i.setEmpty(),this.scheduleOnce((()=>{i.updateType(),I.playEraseItemEffect(i.node.worldPosition,h),l<10?v.playSound(G.CalcRemaining):10==n&&v.playSound(G.CalcRemainingEnd),t(i,o)}),e+s),s=n<9?s+.2:s,s=9==n?s+.8:s}return s}getRemainingGems(){let e=[];for(let t=0;t<this.arrItems.length;t++){const s=this.arrItems[t];s.type!=b.Empty&&e.push(s)}return e}autoErase(){if(!this.interactable)return;let e=c(0,this.arrItems.length),t=e;do{let e=[];if(this.findConnectableAtIndex(t,e),e.length>1){this.eraseItems(e),this.scheduleOnce((()=>{this.autoErase()}),.1*e.length);break}t=(t+1)%this.arrItems.length}while(t!=e)}exposeGem(e){let t=this.arrItems,s=t[e],o=D,n=Math.floor(e/o),i=e%o,l=[n-1<0?-1:(n-1)*o+i,n+1>=10?-1:(n+1)*o+i,i-1<0?-1:n*o+(i-1),i+1>=o?-1:n*o+i+1],r=[s];for(let e=0;e<l.length;e++){let s=l[e];if(s>=0&&s<t.length){let e=t[s];e.type!=b.Empty&&r.push(e)}}I.playExposeGemEffect(s.node.worldPosition),this.eraseItems(r)}setEditing(e){this.isEditing=e;for(let t=0;t<this.arrItems.length;t++){this.arrItems[t].setEditing(e)}}shuffle(){console.log(`${d.getClassName(this)} shuffle()`);let e=m.smooth;l(`easing:${e.toString()}`);let t=!1,s=this.arrItems,o=this.getRemainingGems();for(;o.length>=2;){let n=c(0,o.length),i=o.splice(n,1)[0],l=c(0,o.length),r=o.splice(l,1)[0],h=s.indexOf(i),d=s.indexOf(r);s[h]=r,s[d]=i;let m=this.index2Pos(h),p=this.index2Pos(d);a(i.node).to(.5,{position:p},{easing:e}).start(),a(r.node).to(.5,{position:m},{easing:e}).start(),t||(t=!0)}return S.arrGems=this.toData(),v.playSound(G.Shuffle),t}}).EVT_ITEM_SELECT="EVT_ITEM_SELECT",M.iRandIndex=0,x=M))||x);t._RF.pop()}}}));

System.register("chunks:///_virtual/PopHelper.ts",["cc"],(function(e){var r,t,o;return{setters:[function(e){r=e.cclegacy,t=e.Component,o=e._decorator}],execute:function(){var c;r._RF.push({},"f40bbfLtyRCgqHPnf5PYoW/","PopHelper",void 0);const{ccclass:s,property:n}=o;e("PopHelper",s("PopHelper")(c=class extends t{start(){}isMagicToolBarAvailable(){return!0}})||c);r._RF.pop()}}}));

System.register("chunks:///_virtual/PopInterstitialUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Pop.ts","./App.ts"],(function(t){var e,i,o,n,r,a,s,l,c,h,p,u,g,m,d,y,b,C,f,w,k;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){o=t.cclegacy,n=t.Node,r=t._decorator,a=t.Component,s=t.warn,l=t.log,c=t.js,h=t.find,p=t.Camera,u=t.UIOpacity,g=t.tween,m=t.v3,d=t.ParticleSystem2D,y=t.UITransform,b=t.easing,C=t.game},function(t){f=t.gPop,w=t.gPopGame},function(t){k=t.gAppAdHelper}],execute:function(){var I,P,v,z,D,T,F,U,x,H,O,R,B,A,$,_,L,M,N,S,j,G;o._RF.push({},"61b3alC5KJFZr4FMC/fe0MG","PopInterstitialUI",void 0);const{ccclass:E,property:J}=r;t("PopInterstitialUI",(I=E("PopInterstitialUI"),P=J(n),v=J(n),z=J(n),D=J(n),T=J(n),F=J(n),U=J(n),x=J(n),H=J(n),I(((G=class t extends a{constructor(...t){super(...t),this.levelDelta=1,this.bFinished=!1,this.orthoHeightOrg=480,this.camera=null,i(this,"container",B,this),i(this,"containerBg",A,this),i(this,"bgUp",$,this),i(this,"bgDown",_,this),i(this,"rocket",L,this),i(this,"prevTarget",M,this),i(this,"curTarget",N,this),i(this,"nextTarget",S,this),i(this,"fg",j,this)}onLoad(){t.loadCount>t.destroyCount&&s("PopInterstitialUI.loadCount > PopInterstitialUI.destroyCount, memory may leaks."),t.loadCount++,l(`${c.getClassName(this)}.onLoad(), loadCount:${t.loadCount}`)}onDestroy(){t.destroyCount++,l(`${c.getClassName(this)}.onDestroy(), destroyCount:${t.destroyCount}`)}start(){if(this.camera=h("Canvas/Camera").getComponent(p),this.orthoHeightOrg=this.camera.orthoHeight,this.levelDelta<0){let t=h("Stones",f.node);t&&(t.active=!1)}this.container.getComponent(u).opacity=0,g(this.rocket).set({scale:m(.1,.1,1)}).to(1,{scale:m(1,1,1)}).start(),g(this.rocket.getComponent(u)).set({opacity:0}).to(1,{opacity:255}).start(),g(h("Rocket/Particle",this.rocket).getComponent(d)).set({emissionRate:1}).to(2.5,{emissionRate:100}).start(),g(this.curTarget.getComponent(u)).set({opacity:0}).to(2,{opacity:255}).start(),this.scheduleOnce((()=>{let t=this.node.getComponent(y),e=this.containerBg.getComponent(y);this.containerBg.children.forEach((e=>{e.getComponent(y).height=t.height})),this.scheduleOnce((()=>{this.fg.getComponent(y).height=e.height,this.show()}))}))}update(t){this.bFinished||(this.camera.node.position=m(this.rocket.position.x,this.rocket.position.y,this.camera.node.position.z))}show(){g(this.container.getComponent(u)).to(.1,{opacity:255}).start(),g(w.layout.getComponent(u)).to(.5,{opacity:0}).start();let t=m(this.rocket.position),e=this.levelDelta>0?this.nextTarget:this.prevTarget;this.rocket.position=m(t.x,0,t.z);let i=h("Rocket",this.rocket),o=h("Particle",i);g(this.rocket).delay(.5).to(1,{worldPosition:m(e.worldPosition)},{easing:b.expoInOut}).call((()=>{g(e.getComponent(u)).delay(1.2).to(.2,{opacity:0}).start(),g(i).to(1.2,{scale:m(.5,.5,1)}).start(),g(o.getComponent(d)).to(1.2,{emissionRate:0}).start(),g(this.fg.getComponent(u)).delay(1).to(.3,{opacity:255}).call((()=>{})).start(),g(this.rocket.getComponent(u)).to(1.3,{opacity:0}).call((()=>{this.onFinished()})).start()})).start()}onFinished(){this.camera.node.position=m(0,0,this.camera.node.position.z),this.camera.orthoHeight=this.orthoHeightOrg,this.bFinished||(this.bFinished=!0,w.reload(),0!=this.levelDelta&&C.totalTime>12e4&&k.showInterstitialAd())}}).loadCount=0,G.destroyCount=0,B=e((R=G).prototype,"container",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(R.prototype,"containerBg",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=e(R.prototype,"bgUp",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(R.prototype,"bgDown",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(R.prototype,"rocket",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(R.prototype,"prevTarget",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(R.prototype,"curTarget",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(R.prototype,"nextTarget",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(R.prototype,"fg",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=R))||O));o._RF.pop()}}}));

System.register("chunks:///_virtual/PopMagic.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopCommon.ts","./Pop.ts","./PopGrid.ts","./PopData.ts","./App.ts","./gAppConstant.ts","./AppResolution.ts"],(function(e){var t,i,o,r,s,c,n,l,a,h,d,u,g,p,m,w,S,M,f,P,I,b,C,E,y,k;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){o=e.cclegacy,r=e.Node,s=e._decorator,c=e.Component,n=e.director,l=e.log,a=e.js,h=e.input,d=e.Input,u=e.KeyCode,g=e.instantiate,p=e.Button,m=e.tween,w=e.v3,S=e.easing},function(e){M=e.PopMagicId,f=e.PopGemType},function(e){P=e.gPopGrid,I=e.gPopEffect},function(e){b=e.PopGrid},function(e){C=e.gPopDataCtl},function(e){E=e.gAppResolution},function(e){y=e.EVT_VIEW_SIZE_CHANGE},function(e){k=e.AppResolutionPolicy}],execute:function(){var v,x,T,_,G,B,F,K,O,A,R,z,H;o._RF.push({},"8b435OtZexET7c1+170Cd6i","PopMagic",void 0);const{ccclass:L,property:D}=s;e("PopMagic",(v=L("PopMagic"),x=D(r),T=D(r),_=D(r),G=D(r),B=D(r),v((O=t((K=class extends c{constructor(...e){super(...e),i(this,"mask",O,this),i(this,"maskGridFrame",A,this),i(this,"colorSwitcher",R,this),i(this,"iconBomb",z,this),i(this,"iconColor",H,this),this.colorSwitcherPanel=null,this.colorSwitcherPanelColors=null,this.curSelectedItem=null,this.gridFrameOrg=null,this.curMagicId="",this.curMagicIcon=null}onLoad(){this.colorSwitcherPanel=this.colorSwitcher.getChildByName("Panel"),this.colorSwitcherPanelColors=this.colorSwitcherPanel.getChildByName("Colors"),this.mask.active=!1,this.colorSwitcher.active=!1,this.gridFrameOrg=P.node.parent}start(){this.mask.on(r.EventType.TOUCH_START,this.onMaskTouchStart,this),n.on(y,((e,t,i)=>{l(`${a.getClassName(this)}.${y}`),this.mask.active&&this.exitEditMode()}),this),h.on(d.EventType.KEY_UP,this.onKeyUp,this)}onKeyUp(e){switch(console.log(`Release ${e.keyCode} key`),e.keyCode){case u.KEY_J:this.selectMagic(M.color);break;case u.KEY_K:this.selectMagic(M.bomb);break;case u.KEY_L:this.selectMagic(M.shuffle)}}selectMagic(e){P.interactable&&(this.mask.active&&this.exitEditMode(),this.curMagicId=e,e==M.bomb||e==M.color?this.enterEditMode():e==M.shuffle&&this.useShuffle())}enterEditMode(){P.setEditing(!0),this.mask.active=!0,this.scheduleOnce((()=>{this.maskGridFrame.worldPosition=P.node.worldPosition,P.node.parent=this.maskGridFrame}));let e=this.curMagicId==M.bomb?this.iconBomb:this.iconColor;this.curMagicIcon=g(e),this.curMagicIcon.getComponent(p).destroy(),this.curMagicIcon.parent=this.node,m(this.curMagicIcon).to(.3,{scale:w(1.2,1.2,1)}).to(.3,{scale:w(1,1,1)}).union().repeatForever().start(),this.curMagicIcon.worldPosition=e.worldPosition,P.node.on(b.EVT_ITEM_SELECT,this.onMagicModeSelectItem,this)}exitEditMode(){P.node.parent=this.gridFrameOrg,this.hideColorSwitcher(),P.setEditing(!1),this.mask.active=!1,this.curMagicIcon&&(this.curMagicIcon.destroy(),this.curMagicIcon=null),this.curMagicId="",P.node.off(b.EVT_ITEM_SELECT,this.onMagicModeSelectItem,this)}onMaskTouchStart(e){this.exitEditMode()}onMagicModeSelectItem(e){console.log("PopMagic::onGridItemSelect()"),this.curMagicId==M.color?this.showColorSwitcher(e):this.curMagicId==M.bomb?this.useBomb(e):console.log("something might be wrong...")}showColorSwitcher(e){this.curSelectedItem&&this.hideColorSwitcher(),this.curSelectedItem=e,this.curSelectedItem.setHighlighted(!0),this.colorSwitcher.active=!0,this.colorSwitcher.worldPosition=w(e.node.worldPosition),this.colorSwitcher.angle=E.policy==k.fixedHeightLandscape&&P.arrItems.indexOf(e)<20?180:0;let t=P.node.worldPosition.x-320,i=w(this.colorSwitcherPanel.worldPosition);i.x<190+t?i.x=190+t:i.x>450+t&&(i.x=450+t),this.colorSwitcherPanel.setWorldPosition(i);let o=this.colorSwitcherPanelColors.children;for(let t=0;t<o.length;t++){const i=o[t];i.active=i.name!=e.type.toString()}}hideColorSwitcher(){this.colorSwitcher.active=!1,this.curSelectedItem&&(this.curSelectedItem.setHighlighted(!1),this.curSelectedItem=null)}onColorSwitchItemClick(e){console.log("onColorTypeClick(),evt:",e);let t=e.target;if(console.log("type:",t.name),!this.curSelectedItem)return void console.warn("this.curSelectedItem is null");let i=parseInt(t.name);i<=0||i>f.Max?console.warn("parseInt(), type error:",i):this.useColorSwitcher(this.curSelectedItem,i,t)}useColorSwitcher(e,t,i){if(P.replaceItem(e,t),this.spendMagic(M.color),i){let t=w(e.node.worldPosition),o=g(i);o.parent=I.node,o.worldPosition=t,m(o).set({scale:w(2.5,2.5,1)}).to(.45,{angle:180,worldPosition:t,scale:w(1,1,1)},{easing:S.linear}).removeSelf().start()}this.exitEditMode()}useBomb(e){let t=w(e.node.worldPosition),i=g(this.iconBomb);i.parent=I.node,i.worldPosition=e.node.worldPosition,i.setScale(2,2,1),m(i).to(.5,{worldPosition:t,scale:w(.5,.5,1)},{easing:"fade"}).call((()=>{P.exposeGem(P.arrItems.indexOf(e)),this.spendMagic(M.bomb)})).removeSelf().start(),this.exitEditMode()}useShuffle(){P.shuffle()&&this.spendMagic(M.shuffle)}spendMagic(e){C.useMagic(e)}}).prototype,"mask",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(K.prototype,"maskGridFrame",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(K.prototype,"colorSwitcher",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(K.prototype,"iconBomb",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(K.prototype,"iconColor",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=K))||F));o._RF.pop()}}}));

System.register("chunks:///_virtual/PopMagicButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopData.ts","./Pop.ts","./App.ts","./gAppConstant.ts","./gAppConfig.ts","./LanguageData.ts"],(function(t){var i,e,n,o,a,r,s,c,u,g,p,l,h,d,f,m,C,b,I,M,S,P,w;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){n=t.cclegacy,o=t.Label,a=t.Node,r=t._decorator,s=t.Component,c=t.size,u=t.UITransform,g=t.log,p=t.js,l=t.director,h=t.v3,d=t.UIOpacity},function(t){f=t.gPopDataCtl,m=t.PopDataCtl,C=t.gPopData},function(t){b=t.gPopMagic,I=t.gPopUI},function(t){M=t.gAppUI},function(t){S=t.EVT_VIEW_SIZE_CHANGE},function(t){P=t.gAppConfig},function(t){w=t.t}],execute:function(){var z,A,y,D,_,B,O,E,v,N;n._RF.push({},"b7fb2XK0uBO5LUIch5QDmJ0","PopMagicButton",void 0);const{ccclass:$,property:U}=r;t("PopMagicButton",(z=$("PopMagicButton"),A=U(o),y=U(a),D=U(a),z((O=i((B=class extends s{constructor(...t){super(...t),e(this,"labelCount",O,this),e(this,"iconAdd",E,this),e(this,"iconMagic",v,this),e(this,"magicId",N,this),this.parentOriginSize=c(100,100)}onLoad(){this.parentOriginSize=c(this.node.parent.getComponent(u).width,this.node.parent.getComponent(u).height),g(`parentOriginSize:${this.parentOriginSize.toString()}`)}start(){g(`${p.getClassName(this)}.start`),l.on(S,(t=>{g(`${p.getClassName(this)}.VIEW_SIZE_CHANGE`),this.scheduleOnce((()=>{let t=c(this.node.parent.getComponent(u).width,this.node.parent.getComponent(u).height);g(`szParentNew:${t.toString()}`),this.node.scale=h(t.width/this.parentOriginSize.width,t.width/this.parentOriginSize.width,1),g(`${p.getClassName(this)},node.scale:${this.node.scale.toString()}`)}))}),this),this.updateButton(),f.node.on(m.EVT_MAGIC_CHANGED,(()=>{this.updateButton()}),this)}updateButton(){let t=f.getMagicInfo(this.magicId);t&&(this.getComponent(d).opacity=C.magicQuota>0?225:100,this.labelCount.string=`${t.count}`,this.labelCount.node.active=t.count>0,this.iconAdd.active=t.count<=0)}onButtonClick(){let t=f.getMagicInfo(this.magicId);if(t){if(C.magicQuota<=0&&!P.testing){f.getMagicMaxInCurrentStage(C.curStage);return void M.showTips(w("magicQuotaRanOut"))}t.count>0?b.selectMagic(this.magicId):(M.antiDoubleClicks(),I.showMagicStoreUI(this.magicId,1,this.node))}}}).prototype,"labelCount",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=i(B.prototype,"iconAdd",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=i(B.prototype,"iconMagic",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=i(B.prototype,"magicId",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_=B))||_));n._RF.pop()}}}));

System.register("chunks:///_virtual/PopMagicCollectUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopData.ts","./App.ts"],(function(t){var i,e,o,n,l,s,r,c,a,h,u,p,d;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){o=t.cclegacy,n=t.Node,l=t.Label,s=t._decorator,r=t.Component,c=t.tween,a=t.warn,h=t.v3,u=t.bezier},function(t){p=t.gPopDataCtl},function(t){d=t.gAppHelper}],execute:function(){var g,f,b,P,C,m,w,y,v;o._RF.push({},"6e819ZKmP9HNbsymjIBSYJL","PopMagicCollectUI",void 0);const{ccclass:I,property:k}=s;t("PopMagicCollectUI",(g=I("PopMagicCollectUI"),f=k(n),b=k(n),P=k(l),g((w=i((m=class extends r{constructor(...t){super(...t),e(this,"lighting",w,this),e(this,"icons",y,this),e(this,"labelCount",v,this),this.magicId="",this.count=3,this.invoker=null,this.onComplete=null,this.bCollected=!1}setParams(t,i,e,o){this.magicId=t,this.count=i,this.invoker=e,this.onComplete=o}start(){this.show()}show(){c(this.lighting).by(5,{angle:360}).union().repeatForever().start(),this.labelCount.string=`${this.count}`;let t=p.getMagicInfo(this.magicId);t&&this.icons.children.forEach((i=>{i.active=i.name==t.id})),d.showPanel(this),this.scheduleOnce((()=>{this.onClick()}))}close(){d.closePanel(this)}onClick(){if(this.bCollected)return;if(!p.getMagicInfo(this.magicId))return a("!info"),void this.close();this.bCollected=!0;let t=this.icons.children.find(((t,i,e)=>t.active));if(t&&this.invoker){let i=t,e=(i.worldPosition,this.invoker.worldPosition);c(t).to(.1,{scale:h(1.5,1.5)}).to(.5,{scale:h(.01,.01,1)},{onUpdate:(t,o)=>{let n=u(i.worldPosition.x,i.worldPosition.x+20,e.x+20,e.x,o),l=u(i.worldPosition.y,i.worldPosition.y+20,e.y+20,e.y,o);i.worldPosition=h(n,l,i.worldPosition.z)}}).call((()=>{this.onComplete&&this.onComplete(),this.close()})).start()}else this.close()}}).prototype,"lighting",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=i(m.prototype,"icons",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=i(m.prototype,"labelCount",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=m))||C));o._RF.pop()}}}));

System.register("chunks:///_virtual/PopMagicStoreUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AppUser.ts","./PopData.ts","./Pop.ts","./App.ts"],(function(e){var t,i,n,o,a,l,s,c,r,h,u,g,p,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){n=e.cclegacy,o=e.Label,a=e.Node,l=e._decorator,s=e.Component,c=e.v3,r=e.tween},function(e){h=e.gUserData,u=e.gAppUser},function(e){g=e.gPopDataCtl},function(e){p=e.gPopUI},function(e){b=e.gAppUI}],execute:function(){var f,d,C,m,I,P,x,y,w,M,k;n._RF.push({},"05814TERKlCOZpT71Ik3VM5","PopMagicStoreUI",void 0);const{ccclass:v,property:U}=l;e("PopMagicStoreUI",(f=v("PopMagicStoreUI"),d=U(o),C=U(o),m=U(o),I=U(a),f((y=t((x=class extends s{constructor(...e){super(...e),i(this,"labelExchangeCount",y,this),i(this,"labelPrice",w,this),i(this,"labelTitle",M,this),i(this,"magicIcons",k,this),this.magicId="",this.exchangeCount=3,this.invoker=null}setParams(e,t,i){this.magicId=e,this.exchangeCount=t,this.invoker=i}start(){this.show()}onBgClick(){this.close()}onExchangeClick(){let e=g.getMagicInfo(this.magicId);if(e){let t=e.price*this.exchangeCount;if(h.coin>=t){let e=this.magicId,i=this.exchangeCount;p.showMagicCollect(e,i,this.invoker,(()=>{h.coin>=t&&(u.addCoin(-t),g.addMagic(e,i))}))}else b.showStore(),b.showTips("No enough coins, please exchange coins first.")}}onCloseClick(){this.close()}show(){this.labelExchangeCount.string=`${this.exchangeCount}`;let e=g.getMagicInfo(this.magicId);if(e){let t=e.price*this.exchangeCount;this.labelPrice.string=`${t}`,this.labelTitle.string=e.name,this.magicIcons.children.forEach((t=>{t.active=t.name==e.id}))}let t=this.node.getChildByName("Panel");t.setScale(c(0,0,1)),r(t).to(.1,{scale:c(1,1,1)}).start()}close(){b.antiDoubleClicks();let e=this.node.getChildByName("Panel");r(e).to(.1,{scale:c(0,0,1)}).call((()=>{this.node.destroy()})).start()}}).prototype,"labelExchangeCount",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(x.prototype,"labelPrice",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(x.prototype,"labelTitle",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(x.prototype,"magicIcons",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=x))||P));n._RF.pop()}}}));

System.register("chunks:///_virtual/PopNewHighScoreUI.ts",["cc","./App.ts","./AppAudioSounds.ts"],(function(e){var t,o,i,s,n,c,r,p,h,u;return{setters:[function(e){t=e.cclegacy,o=e.Component,i=e.sys,s=e.view,n=e.UITransform,c=e.v3,r=e.tween,p=e._decorator},function(e){h=e.gAppAudio},function(e){u=e.SND}],execute:function(){var a;t._RF.push({},"7444c5k0o1MVoVK9+AaKka/","PopNewHighScoreUI",void 0);const{ccclass:l,property:g}=p;e("PopNewHighScoreUI",l("PopNewHighScoreUI")(a=class extends o{constructor(...e){super(...e),this.funcComplete=null}setParams(e){this.funcComplete=e}start(){let e=i.getSafeAreaRect(),t=s.getVisibleSize(),o=this.node.getComponent(n).contentSize,p=t.height/2+o.height/2;this.node.position=c(0,p,1),r(this.node).by(.3,{position:c(0,-(o.height+e.y))}).delay(2).by(.3,{position:c(0,o.height+e.y)}).call((()=>{this.node.destroy(),this.funcComplete&&this.funcComplete()})).start(),h.playSound(u.NewHighScore)}})||a);t._RF.pop()}}}));

System.register("chunks:///_virtual/PopRes.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,r,n,o,l,a;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){r=e.cclegacy,n=e.SpriteFrame,o=e.Prefab,l=e._decorator,a=e.Component}],execute:function(){var u,p,s,c,b,g,f,h,P,m,I,y,U,w,z,R,S,v,d,C,D,G,F,H,M,x,_,B,E,N,O,T,j,k,J;r._RF.push({},"b00e1vr56RCfJvSrnv0d092","PopRes",void 0);const{ccclass:L,property:q}=l;e("PopRes",(u=L("PopRes"),p=q([n]),s=q([n]),c=q([n]),b=q(o),g=q(o),f=q(o),h=q(o),P=q(o),m=q(o),I=q(o),y=q(o),U=q(o),w=q(o),z=q(o),R=q(o),S=q(o),u((C=t((d=class extends a{constructor(...e){super(...e),i(this,"gemBgs",C,this),i(this,"gemFgs",D,this),i(this,"starIcons",G,this),i(this,"PopResultUI",F,this),i(this,"PopRetryDialogUI",H,this),i(this,"PopConfirmDialogUI",M,this),i(this,"PopStageIntroUI",x,this),i(this,"PopGameOverUI",_,this),i(this,"ParticleExposeGem",B,this),i(this,"PopMagicStoreUI",E,this),i(this,"PopMagicCollectUI",N,this),i(this,"PopSettingUI",O,this),i(this,"PopInterstitialUI",T,this),i(this,"PopGameHelpUI",j,this),i(this,"PopNewHighScoreUI",k,this),i(this,"PopTargetCleared",J,this)}start(){}}).prototype,"gemBgs",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=t(d.prototype,"gemFgs",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=t(d.prototype,"starIcons",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=t(d.prototype,"PopResultUI",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(d.prototype,"PopRetryDialogUI",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(d.prototype,"PopConfirmDialogUI",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(d.prototype,"PopStageIntroUI",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(d.prototype,"PopGameOverUI",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(d.prototype,"ParticleExposeGem",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(d.prototype,"PopMagicStoreUI",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(d.prototype,"PopMagicCollectUI",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(d.prototype,"PopSettingUI",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(d.prototype,"PopInterstitialUI",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(d.prototype,"PopGameHelpUI",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(d.prototype,"PopNewHighScoreUI",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(d.prototype,"PopTargetCleared",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=d))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/PopResultUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopCommon.ts","./PopData.ts","./Pop.ts","./App.ts","./AppAudioSounds.ts","./AppUser.ts","./AppCoinInfo.ts"],(function(e){var t,n,i,o,l,a,s,r,u,c,p,h,d,b,g,P,C,f,m,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){i=e.cclegacy,o=e.Label,l=e.Node,a=e._decorator,s=e.Component,r=e.v3,u=e.tween,c=e.bezier,p=e.UIOpacity},function(e){h=e.PopStatus},function(e){d=e.gPopData},function(e){b=e.gPopGrid,g=e.gPopUI,P=e.gPopGame},function(e){C=e.gAppAudio},function(e){f=e.SND},function(e){m=e.gAppUser},function(e){y=e.AppCoinInfo}],execute:function(){var B,w,R,v,A,I,S,U,z,V,D,x,F,G,_;i._RF.push({},"f4a1dUBTbRAkKYFk0Cggj2F","PopResultUI",void 0);const{ccclass:k,property:N}=a;e("PopResultUI",(B=k("PopResultUI"),w=N(o),R=N(o),v=N(l),A=N(l),I=N(l),S=N(l),B((V=t((z=class extends s{constructor(...e){super(...e),n(this,"labelBonusValue",V,this),n(this,"labelRemainingValue",D,this),n(this,"bonusPanel",x,this),n(this,"remainingPanel",F,this),n(this,"allClearPanel",G,this),n(this,"nodeBonusCoin",_,this),this.bonus=2e3}start(){this.calc()}calc(){let e=b.getRemainingGems();if(this.setRemainingCount(e.length),this.allClearPanel.active=0==e.length,this.remainingPanel.active=e.length>0,this.allClearPanel.active){this.allClearPanel.scale=r(.001,.001,1),u(this.allClearPanel).to(.1,{scale:r(1,1,1)}).call((()=>{})).start();let e=r(y.instance.labelCoinValue.node.worldPosition);this.nodeBonusCoin.active=!0;let t=this.nodeBonusCoin;this.nodeBonusCoin.worldPosition;u(this.nodeBonusCoin).set({scale:r(.001,.001,.001)}).to(.2,{scale:r(1,1,1)}).delay(.5).to(.5,{scale:r(.1,.1,1)},{onUpdate:(n,i)=>{let o=c(t.worldPosition.x,t.worldPosition.x+20,e.x+20,e.x,i),l=c(t.worldPosition.y,t.worldPosition.y+20,e.y+20,e.y,i);t.worldPosition=r(o,l,t.worldPosition.z)}}).call((()=>{m.addCoin(1),C.playSound(f.AddGold),u(this.allClearPanel.getComponent(p)).to(1,{opacity:0}).start()})).hide().start()}let t=1;t+=b.eraseRemainingItems(t,(()=>{this.subtractBonus()})),t+=1,t+=this.collectFinalBonus(t)}onComplete(){if(h.end==d.status)g.showRetryDialog(),this.node.active=!1;else{(()=>{g.showInterstitial()})()}}setRemainingCount(e){this.labelRemainingValue.string=e.toString()}subtractBonus(){this.bonus=this.bonus>=200?this.bonus-200:0,this.updateBonus()}collectFinalBonus(e){return this.scheduleOnce((()=>{let e=this.allClearPanel.active?.3:0;this.allClearPanel.active;let t=r(P.labelCurScore.node.worldPosition);u(this.labelBonusValue.node).delay(e).to(.5,{worldPosition:t,scale:r(.5,.5,1)}).call((()=>{P.addScore(this.bonus),this.bonus>0&&C.playSound(f.GainBonus),u(this.node.getChildByName("Panel").getComponent(p)).to(1,{opacity:0}).start(),this.scheduleOnce((()=>{this.onComplete()}),1)})).hide().start()}),e),.5}updateBonus(){this.labelBonusValue.string=this.bonus.toString(),u(this.labelBonusValue.node).to(.1,{scale:r(1.2,1.2,1.2)}).to(.1,{scale:r(1,1,1)}).start()}}).prototype,"labelBonusValue",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(z.prototype,"labelRemainingValue",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(z.prototype,"bonusPanel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(z.prototype,"remainingPanel",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(z.prototype,"allClearPanel",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(z.prototype,"nodeBonusCoin",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=z))||U));i._RF.pop()}}}));

System.register("chunks:///_virtual/PopRetryDialogUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopData.ts","./PopCommon.ts","./App.ts","./Pop.ts","./AppUser.ts","./AppVideoAdButton.ts","./gAppConfig.ts"],(function(t){var e,o,i,n,s,r,a,l,p,c,u,g,d,h,f,b,P;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.initializerDefineProperty},function(t){i=t.cclegacy,n=t.Label,s=t._decorator,r=t.Component,a=t.macro},function(t){l=t.gPopData},function(t){p=t.PopStatus},function(t){c=t.gAppHelper,u=t.gAppUI},function(t){g=t.gPopGame,d=t.gPopUI},function(t){h=t.gUserData,f=t.gAppUser},function(t){b=t.AppVideoAdButton},function(t){P=t.gAppConfig}],execute:function(){var A,y,D,m,R,U,w;i._RF.push({},"32051j1LdxFQ4Tmivh+2bIG","PopRetryDialogUI",void 0);const{ccclass:v,property:C}=s;t("PopRetryDialogUI",(A=v("PopRetryDialogUI"),y=C(n),D=C(b),A((U=e((R=class extends r{constructor(...t){super(...t),o(this,"labelStage",U,this),o(this,"buttonVideoAd",w,this)}start(){this.show(),this.schedule((()=>{this.buttonVideoAd.updateButton()}),30,a.REPEAT_FOREVER,30)}show(){this.labelStage.string=`${l.curStage+1}`,c.showPanel(this)}close(){c.closePanel(this,(()=>{}))}onRetryClick(){u.antiDoubleClicks(),h.coin>=5?(f.addCoin(-5),l.status=p.retry,c.closePanel(this,(()=>{g.reload()}))):(P.storeEnabled&&u.showStore(),u.showTips("No enough coins."))}onGiveUpClick(){(()=>{l.status=p.failed,this.node.active=!1,l.curStage>0?d.showInterstitial(-1):d.showGameOver()})()}}).prototype,"labelStage",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(R.prototype,"buttonVideoAd",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=R))||m));i._RF.pop()}}}));

System.register("chunks:///_virtual/PopSettingUI.ts",["cc","./App.ts","./Pop.ts"],(function(e){var o,t,c,s,n,i,p;return{setters:[function(e){o=e.cclegacy,t=e.Component,c=e._decorator},function(e){s=e.gAppHelper,n=e.gAppUI},function(e){i=e.gPopGame,p=e.gPopUI}],execute:function(){var l;o._RF.push({},"2acc0JfI5BFVbYjjhRiKLis","PopSettingUI",void 0);const{ccclass:a,property:r}=c;e("PopSettingUI",a("PopSettingUI")(l=class extends t{start(){s.showPanel(this)}onBgClick(){this.close()}onCloseClick(){this.close()}close(){n.antiDoubleClicks(),s.closePanel(this)}onHomeClick(){i.goHome()}onHelpClick(){p.showGameHelp()}})||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/PopStageBg.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopData.ts","./Pop.ts"],(function(t){var e,a,n,s,o,r,i,c,p,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.initializerDefineProperty},function(t){n=t.cclegacy,s=t._decorator,o=t.Component,r=t.find,i=t.Sprite,c=t.Label},function(t){p=t.gPopData},function(t){g=t.gPopRes}],execute:function(){var l,u,P;n._RF.push({},"abf58xpWn1KjbGDc2KykOo0","PopStageBg",void 0);const{ccclass:h,property:f}=s;t("PopStageBg",h("PopStageBg")((P=e((u=class extends o{constructor(...t){super(...t),a(this,"stageDelta",P,this),this.stage=0}start(){this.stage=p.curStage+this.stageDelta,this.updatePlanet()}updatePlanet(){let t=r("Planet/Icon",this.node).getComponent(i),e=r("Planet/Label",this.node).getComponent(c);t.spriteFrame=g.starIcons[this.stage%g.starIcons.length],e.string=`${this.stage+1}`}}).prototype,"stageDelta",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),l=u))||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/PopStageIntroUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopData.ts","./PopCommon.ts","./App.ts","./Pop.ts","./AppAudioSounds.ts"],(function(e){var t,a,i,n,l,o,s,r,u,c,p,g,h,d,y,b,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.initializerDefineProperty},function(e){i=e.cclegacy,n=e.Node,l=e.Label,o=e._decorator,s=e.Component,r=e.view,u=e.v3,c=e.tween,p=e.easing,g=e.log},function(e){h=e.gPopData},function(e){d=e.PopStatus},function(e){y=e.gAppAudio},function(e){b=e.gPopGame},function(e){f=e.SND}],execute:function(){var S,m,P,C,T,I,B,v,w,N,V,z,D;i._RF.push({},"5d4d0FY6z1KyIYZBXrnNpM7","PopStageIntroUI",void 0);const{ccclass:O,property:U}=o;e("PopStageIntroUI",(S=O("PopStageIntroUI"),m=U(n),P=U(n),C=U(n),T=U(l),I=U(l),S((w=t((v=class extends s{constructor(...e){super(...e),a(this,"panelStage",w,this),a(this,"panelTarget",N,this),a(this,"panelContinue",V,this),a(this,"labelStageValue",z,this),a(this,"labelTargetValue",D,this),this.readyCalled=!1,this.funcReady=null}setParams(e){this.funcReady=e}start(){this.labelStageValue.string=(h.curStage+1).toString(),this.labelTargetValue.string=h.targetScore.toString(),this.show()}onTouch(){}show(){let e=()=>{this.readyCalled||(this.funcReady&&this.funcReady(),this.readyCalled=!0)},t=()=>{y.playSound(f.StageIntroOut),y.curPlayingMusic!=f.GamePlayBg&&b.scheduleOnce((()=>{y.pauseMusic()}),.3),b.scheduleOnce((()=>{g("PopStageIntroUI, playMusic()"),y.playMusic(f.GamePlayBg)}),2),this.scheduleOnce((()=>{this.node.destroy()}),.3)};this.panelContinue.active=d.playing==h.status,this.panelTarget.active=!this.panelContinue.active;let a=r.getVisibleSize().width,i=(r.getVisibleSize().height,this.node.getChildByName("Panel"));i.getChildByName("Bg").scale=u(1,0,1);let l=u(a,0),o=u(0,0);u(-a,0);c(i).set({position:l}).call((()=>{y.playSound(f.StageIntroIn),c(i.getChildByName("Bg")).delay(.5).to(.2,{scale:u(1,1,1)}).start()})).to(.5,{position:o},{easing:p.backOut}).delay(1).call((()=>{this.blinkTarget()})).delay(1.5).delay(.5).call((()=>{c(i.getChildByName("Bg")).to(.2,{scale:u(1,0,1)}).start(),t()})).start();let s=this.panelTarget.active?[this.panelStage,this.panelTarget]:[this.panelStage,this.panelContinue];for(let t=0;t<s.length;t++){let i=t,l=s[t].position.y;c(s[t]).set({position:u(a,l)}).delay(.5*t).call((()=>{})).to(.5,{position:u(0,l)},{easing:"backOut"}).delay(.5).call((()=>{1==i&&this.node.once(n.EventType.TOUCH_END,e,this)})).delay(1.5).to(.5,{position:u(-a,l)},{easing:"backIn"}).call((()=>{0==i&&e()})).start()}this.node.once(n.EventType.TOUCH_END,(()=>{c(i.getChildByName("Bg")).to(.2,{scale:u(1,0,1)}).start()}),this)}blinkTarget(){[this.labelTargetValue.node,b.labelTargetValue.node].forEach((e=>{c(e).hide().delay(.2).show().delay(.2).union().repeat(2).start()}))}}).prototype,"panelStage",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(v.prototype,"panelTarget",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(v.prototype,"panelContinue",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(v.prototype,"labelStageValue",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(v.prototype,"labelTargetValue",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=v))||B));i._RF.pop()}}}));

System.register("chunks:///_virtual/PopStageStar.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Pop.ts","./PopData.ts"],(function(t){var e,a,r,o,s,n,i,c,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.initializerDefineProperty},function(t){r=t.cclegacy,o=t._decorator,s=t.Component,n=t.Sprite,i=t.color},function(t){c=t.gPopRes},function(t){p=t.gPopData}],execute:function(){var l,g,u;r._RF.push({},"25ee0xXR3xGvIzg6VlXhoey","PopStageStar",void 0);const{ccclass:h,property:F}=o,S=["#FFFFFF","#00FF00","#A000FF"];t("PopStageStar",h("PopStageStar")((u=e((g=class extends s{constructor(...t){super(...t),a(this,"stageDelta",u,this),this.stage=0}start(){this.stage=p.curStage+this.stageDelta,this.updateStar()}updateStar(){let t=this.getComponent(n);t.spriteFrame=c.starIcons[this.stage%c.starIcons.length];let e=Math.floor(this.stage/c.starIcons.length),a=i(S[e%S.length]);t.color=a}}).prototype,"stageDelta",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),l=g))||l);r._RF.pop()}}}));

System.register("chunks:///_virtual/PopStarTest.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Pop.ts","./App.ts","./gAppCommon.ts","./gAppConfig.ts","./gAppUtils.ts"],(function(t){var o,e,n,s,i,r,c,a,l,p,h,g,u,f,w,d,y;return{setters:[function(t){o=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){n=t.cclegacy,s=t.Node,i=t._decorator,r=t.Component,c=t.instantiate,a=t.Label,l=t.log,p=t.randomRangeInt},function(t){h=t.gPopGrid,g=t.gPopUI,u=t.gPopEffect},function(t){f=t.gAppUI},function(t){w=t.setObjKeysAsValues},function(t){d=t.gAppConfig},function(t){y=t.gAppUtils}],execute:function(){var C,b,P,I,m;n._RF.push({},"2abe12o77RBSbukLCLLQGlA","PopStarTest",void 0);const{ccclass:T,property:S}=i;var A=function(t){return t.autoPlay="",t.showRetryDialog="",t.showGoodJobs="",t.showTargetClear="",t.showHighScore="",t.showTips="",t.showIntertitial="",t.showIntro="",t}(A||{});w(A);let v=!1;t("PopStarTest",(C=T("PopStarTest"),b=S(s),C((m=o((I=class extends r{constructor(...t){super(...t),e(this,"content",m,this)}start(){if(!d.testing)return void this.node.destroy();let t=Object.getOwnPropertyNames(A);for(let o=0;o<t.length;o++){const e=t[o];let n=o<this.content.children.length?this.content.children[o]:c(this.content.children[0]);n.parent=this.content,n.getComponent(a).string=e,y.bindClick(n,this.onItemClick,this,e)}this.content.active=v}update(t){}onToggleClick(){v=!v,this.content.active=v}onItemClick(t){l(`onItemClick(${t})`),t==A.autoPlay?h.autoErase():t==A.showRetryDialog?g.showRetryDialog():t==A.showGoodJobs?u.playGoodJobEffect(p(7,40)):t==A.showTargetClear?u.playTargetClearEffect():t==A.showHighScore?u.playNewHighScoreEffect():t==A.showTips?f.showTips("Hello"):t==A.showIntertitial?g.showInterstitial():t==A.showIntro&&g.showStageIntro()}}).prototype,"content",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=I))||P));n._RF.pop()}}}));

System.register("chunks:///_virtual/PopUI.ts",["cc","./App.ts","./Pop.ts","./PopGameHelpUI.ts","./PopMagicCollectUI.ts","./PopSettingUI.ts","./PopConfirmDialogUI.ts","./PopResultUI.ts","./PopRetryDialogUI.ts","./PopStageIntroUI.ts","./PopGameOverUI.ts","./PopMagicStoreUI.ts","./PopInterstitialUI.ts","./gAppConstant.ts","./AppCoinInfo.ts"],(function(t){var n,e,o,i,a,s,p,r,c,l,I,P,m,d,g,h,u,C,U,f,S,v,w,D;return{setters:[function(t){n=t.cclegacy,e=t.Component,o=t.log,i=t.js,a=t.error,s=t._decorator},function(t){p=t.gAppHelper,r=t.gAppDirector},function(t){c=t.gPopRes,l=t.gPop,I=t.gPopGrid,P=t.gPopGame},function(t){m=t.PopGameHelpUI},function(t){d=t.PopMagicCollectUI},function(t){g=t.PopSettingUI},function(t){h=t.PopConfirmDialogUI},function(t){u=t.PopResultUI},function(t){C=t.PopRetryDialogUI},function(t){U=t.PopStageIntroUI},function(t){f=t.PopGameOverUI},function(t){S=t.PopMagicStoreUI},function(t){v=t.PopInterstitialUI},function(t){w=t.SCENE_HOME},function(t){D=t.AppCoinInfo}],execute:function(){var R;n._RF.push({},"66c97hvWZtHjbLia8Zt2m0Z","PopUI",void 0);const{ccclass:G,property:A}=s;t("PopUI",G("PopUI")(R=class extends e{instantiateComponent(t){o("AppUI.instantiateComponent()");let n=i.getClassName(t),e=c[n];if(e)return p.instantiateComponent(e,t);a(`!prefab!!!${i.getClassName(this)}:${n}`)}showResult(){this.instantiateComponent(u).node.parent=l.node}showRetryDialog(){this.instantiateComponent(C).node.parent=l.node}showConfirmDialog(t,n){let e=this.instantiateComponent(h);e.setParams(t,n),e.node.parent=l.node}showStageIntro(t){this.scheduleOnce((()=>{let t=this.instantiateComponent(U);t.setParams((()=>{I.node.active=!0})),t.node.parent=l.node}),.5)}showGameHelp(){this.instantiateComponent(m).node.parent=l.node}showGameOver(){let t=this.instantiateComponent(f);t.setParams((()=>{r.loadScene(w)})),t.node.parent=l.node}showMagicStoreUI(t,n,e){let o=this.instantiateComponent(S);o.setParams(t,n,e),o.node.parent=l.node}showInterstitial(t){P.hideDecorateNodes(),D.instance.node.active=!1;let n=this.instantiateComponent(v);t&&(n.levelDelta=t),n.node.parent=l.node}showMagicCollect(t,n,e,o){let i=this.instantiateComponent(d);i.setParams(t,n,e,o),i.node.parent=l.node}showSetting(){this.instantiateComponent(g).node.parent=l.node}})||R);n._RF.pop()}}}));

System.register("chunks:///_virtual/PopView.ts",["cc","./Pop.ts"],(function(e){var o,t,c,n,s;return{setters:[function(e){o=e.cclegacy,t=e.Component,c=e._decorator},function(e){n=e.gPopUI,s=e.gPopGame}],execute:function(){var p;o._RF.push({},"88971rvEX9Krr8Bm4oawd6p","PopView",void 0);const{ccclass:r,property:i}=c;e("PopView",r("PopView")(p=class extends t{start(){}onPauseClick(){n.showSetting()}onHomeClick(){s.goHome()}onGameHelpClick(){n.showGameHelp()}})||p);o._RF.pop()}}}));

System.register("chunks:///_virtual/RotateForever.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,o,n,c,a;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.initializerDefineProperty},function(e){o=e.cclegacy,n=e._decorator,c=e.Component,a=e.tween}],execute:function(){var i,s,l;o._RF.push({},"c27b3N4TSNEDoRiM+2lMWPq","RotateForever",void 0);const{ccclass:u,property:p}=n;e("RotateForever",u("RotateForever")((l=t((s=class extends c{constructor(...e){super(...e),r(this,"rotateAnglePerSecond",l,this)}start(){this.scheduleOnce((()=>{a(this.node).by(1,{angle:this.rotateAnglePerSecond}).repeatForever().start()}))}update(e){}}).prototype,"rotateAnglePerSecond",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),i=s))||i);o._RF.pop()}}}));

System.register("chunks:///_virtual/StringFormat.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"3389exqH/lN1qME6YDtEF+x","StringFormat",void 0);t("StringFormatFunction",new class{deal(t,e){if(""===e)return t;let r=(e=e.toLowerCase().trim()).match(/^[a-z|A-Z]+/gi),i=e.match(/\d+$/gi),n="",s=0,a="";if(r&&(n=r[0]),i&&(s=parseInt(i[0])),"number"==typeof t)switch(n){case"int":a=this.int(t);break;case"fix":a=this.fix(t,s);break;case"kmbt":a=this.KMBT(t);break;case"per":a=this.per(t,s);break;case"sep":a=this.sep(t)}else{switch(n){case"limit":a=this.limit(t,s)}a=t}return a}sep(t){return Math.round(t).toString().replace(new RegExp("(\\d)(?=(\\d{3})+$)","ig"),"$1,")}time_m(t){}time_s(t){}time_ms(t){}timeStamp(t){return new Date(t).toString()}per(t,e){return Math.round(100*t).toFixed(e)}int(t){return Math.round(t)}fix(t,e){return t.toFixed(e)}limit(t,e){return t.substring(0,e)}KMBT(t,e="en"){return this.compressUnit(t,[1e3,1e6,1e9,1e12],["","K","M","B","T"],2)}compressUnit(t,e,r,i=2){let n,s=e,a=r,c="";for(n=0;n<s.length;n++){if(t<s[n]){c=n>0?(t/s[n-1]).toFixed(i):t.toFixed(0);break}}return c+a[n]}});e._RF.pop()}}}));

System.register("chunks:///_virtual/TapAndHold.ts",["cc"],(function(t){var o,n,e,h,i,s;return{setters:[function(t){o=t.cclegacy,n=t._decorator,e=t.Component,h=t.v2,i=t.Node,s=t.sys}],execute:function(){var c,d;o._RF.push({},"bb8efNpmZVGypnnP+75rWiT","TapAndHold",void 0);const{ccclass:T,property:a}=n;t("default",T("TapAndHold")(((d=class t extends e{constructor(...t){super(...t),this.touchingIndex=-1,this.touchingPos=h(),this.touchingTime=0}start(){this.node.on(i.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(i.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(i.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(i.EventType.TOUCH_CANCEL,this.onTouchCancel,this)}checkTapAndHold(){if(console.log("checkTapAndHold:touchIndex:"+this.touchingIndex),-1==this.touchingIndex)this.unschedule(this.checkTapAndHold);else{s.now()-this.touchingTime>600&&(console.log("onTapAndHoldOnGem:touchIndex:"+this.touchingIndex),this.node.emit(t.EVT_TAP_AND_HOLD,this.node,this.touchingPos),this.exitCheckTapAndHold())}}startCheckTapAndHold(){this.touchingIndex=1,this.touchingTime=s.now(),this.schedule(this.checkTapAndHold,.1)}exitCheckTapAndHold(){console.log("exitTapAndHold"),this.touchingIndex=-1,this.touchingPos=h()}onTouchStart(t){let o=t.getUILocation();this.touchingPos=o,this.startCheckTapAndHold()}onTouchMove(t){let o=t.getUILocation().subtract(this.touchingPos);(Math.abs(o.x)>20||Math.abs(o.y)>20)&&this.exitCheckTapAndHold()}onTouchEnd(t){-1==this.touchingIndex&&(t.propagationImmediateStopped=!0,console.log("onTouchEnd():e.stopPropagationImmediate();")),this.exitCheckTapAndHold()}onTouchCancel(t){this.exitCheckTapAndHold()}}).EVT_TAP_AND_HOLD="EVT_TAP_AND_HOLD",c=d))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/ViewModel.ts",["cc","./JsonOb.ts"],(function(t){var e,i,n;return{setters:[function(t){e=t.cclegacy,i=t.director},function(t){n=t.JsonOb}],execute:function(){e._RF.push({},"e6c35Yz+BpGIJU5OOuSNZ0y","ViewModel",void 0);const o="VC:";function s(t,e,i,n=""){let o=e.split(".");for(let s=0;s<o.length;s++){const r=o[s];if(r in t==!1){console.error("["+r+"] not find in "+n+"."+e);break}s==o.length-1?t[r]=i:t=t[r]}}function r(t,e,i,n=""){let o=e.split(".");for(let s=0;s<o.length;s++){const r=o[s];if(r in t==!1)return console.error("["+r+"] not find in "+n+"."+e),i;t=t[r]}return null==t&&(t=i),t}class a{constructor(t,e){this.$data=void 0,this._tag="",this.active=!0,this.emitToRootPath=!1,new n(t,this._callback.bind(this)),this.$data=t,this._tag=e}_callback(t,e,n){if(1==this.active){let s=o+this._tag+"."+n.join(".");if(i.emit(s,t,e,[this._tag].concat(n)),this.emitToRootPath&&i.emit(o+this._tag,t,e,n),n.length>=2)for(let t=0;t<n.length-1;t++){n[t]}}}setValue(t,e){s(this.$data,t,e,this._tag)}getValue(t,e){return r(this.$data,t,e,this._tag)}}t("VM",new class{constructor(){this._mvs=[],this.EMIT_HEAD=o,this.setObjValue=s,this.getObjValue=r}add(t,e="global",i=!1){console.log("VM.add() start,tag:",e,";data:",t);let n=new a(t,e),o=this._mvs.find((t=>t.tag===e));e.includes(".")?console.error("cant write . in tag:",e):o?console.error("already set VM tag:"+e):(n.emitToRootPath=i,this._mvs.push({tag:e,vm:n}),console.log("VM.add() end;"))}remove(t){let e=this._mvs.findIndex((e=>e.tag===t));e>=0&&this._mvs.splice(e,1)}get(t){let e=this._mvs.find((e=>e.tag===t));if(null!=e)return e.vm;console.error("cant find VM from:",t)}addValue(t,e){let i=(t=t.trim()).split(".");i.length<2&&console.error("Cant find path:"+t);let n=this.get(i[0]);if(!n)return void console.error("Cant Set VM:"+i[0]);let o=i.slice(1).join(".");n.setValue(o,n.getValue(o)+e)}getValue(t,e){let i=(t=t.trim()).split(".");if(i.length<2)return void console.error("Get Value Cant find path:"+t);let n=this.get(i[0]);if(n)return n.getValue(i.slice(1).join("."),e);console.error("Cant Get VM:"+i[0])}setValue(t,e){let i=(t=t.trim()).split(".");if(i.length<2)return void console.error("Set Value Cant find path:"+t);let n=this.get(i[0]);n?n.setValue(i.slice(1).join("."),e):console.error("Cant Set VM:"+i[0])}bindPath(t,e,n,s){""!=(t=t.trim())?"*"!==t.split(".")[0]?i.on(o+t,e,n,s):console.error(t,", VMParent onLoad ,  VMParent "):console.error(n.node.name,"")}unbindPath(t,e,n){"*"!==(t=t.trim()).split(".")[0]?i.off(o+t,e,n):console.error(t,", VMParent onLoad ,  VMParent ")}inactive(){this._mvs.forEach((t=>{t.vm.active=!1}))}active(){this._mvs.forEach((t=>{t.vm.active=!0}))}});e._RF.pop()}}}));

System.register("chunks:///_virtual/VMBase.ts",["cc","./ViewModel.ts"],(function(t){var e,h,a,n;return{setters:[function(t){e=t.cclegacy,h=t.Component,a=t._decorator},function(t){n=t.VM}],execute:function(){var i;e._RF.push({},"20cb9U+EBlFFaM7zMLMEEl6","VMBase",void 0);const{ccclass:s,property:o}=a;t("default",s(i=class extends h{constructor(...t){super(...t),this.watchPath="",this.watchPathArr=[],this.templateMode=!1,this.templateValueArr=[],this.VM=n}onLoad(){let t=this.watchPath.split(".");for(let e=1;e<t.length;e++){if("*"==t[e]){let h=this.node.getParent().children.findIndex((t=>t===this.node));h<=0&&(h=0),t[e]=h.toString();break}}this.watchPath=t.join(".");let e=this.watchPathArr;if(e.length>=1)for(let t=0;t<e.length;t++){let h=e[t].split(".");for(let t=1;t<h.length;t++){if("*"==h[t]){let e=this.node.getParent().children.findIndex((t=>t===this.node));e<=0&&(e=0),h[t]=e.toString();break}}this.watchPathArr[t]=h.join(".")}""==this.watchPath&&""==this.watchPathArr.join("")&&console.log(":",this.node.getParent().name+"."+this.node.name)}onEnable(){this.templateMode?this.setMultPathEvent(!0):""!=this.watchPath&&this.VM.bindPath(this.watchPath,this.onValueChanged,this),this.onValueInit()}onDisable(){this.templateMode?this.setMultPathEvent(!1):""!=this.watchPath&&this.VM.unbindPath(this.watchPath,this.onValueChanged,this)}setMultPathEvent(t=!0){let e=this.watchPathArr;for(let h=0;h<e.length;h++){const a=e[h];t?this.VM.bindPath(a,this.onValueChanged,this):this.VM.unbindPath(a,this.onValueChanged,this)}}onValueInit(){}onValueChanged(t,e,h){}})||i);e._RF.pop()}}}));

System.register("chunks:///_virtual/VMLabel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./VMBase.ts","./StringFormat.ts"],(function(e){var t,r,i,a,l,n,o,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.initializerDefineProperty},function(e){i=e.cclegacy,a=e.CCString,l=e._decorator,n=e.Label},function(e){o=e.default},function(e){s=e.StringFormatFunction}],execute:function(){var h,c,u,p,m,b,g,f,d,V,L,M;i._RF.push({},"b6c61mwNepBdJLfuUvnLdcN","VMLabel",void 0);const{ccclass:w,property:x,menu:T,executeInEditMode:y,help:A}=l,F="cc.Label";e("default",(h=T("ModelViewer/VM-Label(VM)"),c=A("https://github.com/wsssheep/cocos_creator_mvvm_tools/blob/master/docs/VMLabel.md"),u=x({visible:function(){return!0}}),p=x({readonly:!0}),m=x({tooltip:",,\n {{0}},"}),b=x({type:[a]}),w(g=y(g=h(g=c((d=t((f=class extends o{constructor(...e){super(...e),r(this,"watchPath",d,this),r(this,"labelType",V,this),r(this,"templateMode",L,this),r(this,"watchPathArr",M,this),this.templateValueArr=[],this.templateFormatArr=[],this.originText=""}onRestore(){this.checkLabel()}onLoad(){super.onLoad(),this.checkLabel(),this.templateMode&&(this.originText=this.getLabelValue(),this.parseTemplate())}start(){this.onValueInit()}parseTemplate(){let e=/\{\{(.+?)\}\}/,t=this.originText.match(/\{\{(.+?)\}\}/g);if(null!=t)for(let r=0;r<t.length;r++){let i=t[r].match(e)[1].split(":")[1]||"";this.templateFormatArr[r]=i}}getReplaceText(){if(!this.originText)return"";let e=/\{\{(.+?)\}\}/,t=this.originText.match(/\{\{(.+?)\}\}/g);if(null==t)return"";let r=this.originText;for(let i=0;i<t.length;i++){const a=t[i];let l,n=a.match(e),o=parseInt(n[1]||"0")||0,s=this.templateFormatArr[i];l=this.templateValueArr[o],r=r.replace(a,this.getValueFromFormat(l,s))}return r}getValueFromFormat(e,t){return s.deal(e,t)}onValueInit(){if(!1===this.templateMode)this.setLabelValue(this.VM.getValue(this.watchPath));else{let e=this.watchPathArr.length;for(let t=0;t<e;t++)this.templateValueArr[t]=this.VM.getValue(this.watchPathArr[t],"?");this.setLabelValue(this.getReplaceText())}}onValueChanged(e,t,r){if(!1===this.templateMode)this.setLabelValue(e);else{let t=r.join("."),i=this.watchPathArr.findIndex((e=>e===t));i>=0&&(this.templateValueArr[i]=e,this.setLabelValue(this.getReplaceText()))}}setLabelValue(e){this.getComponent(n).string=e+""}getLabelValue(){return this.getComponent(n).string}checkLabel(){let e=["cc.Label","cc.RichText","cc.EditBox"];for(let t=0;t<e.length;t++){const r=e[t];if(this.node.getComponent(r))return this.labelType=r,!0}return console.error("label"),!1}}).prototype,"watchPath",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),V=t(f.prototype,"labelType",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F}}),L=t(f.prototype,"templateMode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),M=t(f.prototype,"watchPathArr",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=f))||g)||g)||g)||g));i._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});