System.register("chunks:///_virtual/App.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AppRes.ts","./AppDirector.ts","./AppUI.ts","./AppPlatform.ts","./AppResolution.ts","./AppAdHelper.ts","./AppStoreHelper.ts","./AppHotUpdate.ts","./i18n.ts","./AppHelper.ts","./AppRemoteConfig.ts","./AppData.ts","./AppUser.ts","./PopData.ts","./AppUtils.ts","./AppAudioPlayer.ts","./GConfig.ts","./GConst.ts"],(function(p){var t,n,o,e,i,l,s,A,r,a,u,d,c,f,g,C,m,h,H,U,R,P;return{setters:[function(p){t=p.inheritsLoose},function(p){n=p.cclegacy,o=p._decorator,e=p.Component},function(p){i=p.AppRes},function(p){l=p.AppDirector},function(p){s=p.AppUI},function(p){A=p.AppPlatform},function(p){r=p.AppResolution},function(p){a=p.AppAdHelper},function(p){u=p.AppStoreHelper},function(p){d=p.AppHotUpdate},function(p){c=p.i18n},function(p){f=p.AppHelper},function(p){g=p.AppRemoteConfig},function(p){C=p.AppDataCtl},function(p){m=p.AppUser},function(p){h=p.PopDataCtl},function(p){H=p.AppUtils},function(p){U=p.AppAudioPlayer},function(p){R=p.GConfig},function(p){P=p.GConst}],execute:function(){var y;n._RF.push({},"5f0feyBUZxGHYSngNGZ94Oa","App",void 0);var D=o.ccclass,S=(o.property,p("gAppUtils",H),p("gAppHelper",null),p("gAppRes",null),p("gAppDirector",null),p("gAppUI",null),p("gAppAudioPlayer",null),p("gAppPlatform",null));p("gAppResolution",null),p("gAppAdHelper",null),p("gAppStoreHelper",null),p("gAppHotUpdate",null),p("App",D("App")(y=function(n){function o(){return n.apply(this,arguments)||this}t(o,n);var e=o.prototype;return e.onLoad=function(){p("gAppHelper",this.addComponent(f)),p("gAppRes",this.addComponent(i)),p("gAppAudioPlayer",this.addComponent(U)),S=p("gAppPlatform",this.addComponent(A)),p("gAppResolution",this.addComponent(r)),p("gAppUI",this.addComponent(s)),p("gAppDirector",this.addComponent(l)),p("gAppAdHelper",this.addComponent(a)),p("gAppStoreHelper",this.addComponent(u)),p("gAppHotUpdate",this.addComponent(d)),this.addComponent(g),this.addComponent(C),this.addComponent(m),this.addComponent(h)},e.start=function(){c.init(P.SUPPORTED_LANGUAGES),R.storeEnabled&&S.enableStore(),R.rankEnabled&&S.enableRank(),R.adEnabled&&S.enableAd()},o}(e))||y);n._RF.pop()}}}));

System.register("chunks:///_virtual/AppAboutUsUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./GConfig.ts"],(function(t){var e,n,i,r,o,l,a,s,u,c,p,b,f,g,A;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,l=t._decorator,a=t.TextAsset,s=t.RichText,u=t.Label,c=t.Node,p=t.sys,b=t.Component},function(t){f=t.gAppHelper,g=t.gAppHotUpdate},function(t){A=t.GConfig}],execute:function(){var h,v,y,d,U,C,x,m,w,z,I;o._RF.push({},"bafaaTLMbZFvbHSE2fO4rIp","AppAboutUsUI",void 0);var L=l.ccclass,H=l.property;t("AppAboutUsUI",(h=L("AppAboutUsUI"),v=H(a),y=H(s),d=H(u),U=H(c),h((m=e((x=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o))||this,i(e,"txtAsset",m,r(e)),i(e,"labelContent",w,r(e)),i(e,"labelVersion",z,r(e)),i(e,"loading",I,r(e)),e}n(e,t);var o=e.prototype;return o.start=function(){var t=this;f.showPanel(this),this.scheduleOnce((function(){t.labelContent.string=t.txtAsset.text,t.loading.active=!1}),.2),this.labelVersion.string="v"+(p.isNative?g.getLocalVersion():A.version)},o.onCloseClick=function(){f.closePanel(this)},e}(b)).prototype,"txtAsset",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(x.prototype,"labelContent",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(x.prototype,"labelVersion",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(x.prototype,"loading",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=x))||C));o._RF.pop()}}}));

System.register("chunks:///_virtual/AppAdHelper.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./AppUser.ts","./AppData.ts","./GConfig.ts"],(function(e){var n,t,i,d,a,s,r,o,A,h,u,c;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,i=e._decorator,d=e.sys,a=e.randomRangeInt,s=e.Component},function(e){r=e.gAppPlatform,o=e.gAppUI,A=e.gAppHelper},function(e){h=e.gUserData},function(e){u=e.gAppData},function(e){c=e.GConfig}],execute:function(){var l;t._RF.push({},"9de03e1NpFHqpsEdldKfY+Q","AppAdHelper",void 0);var p=i.ccclass;i.property,e("AppAdHelper",p("AppAdHelper")(l=function(e){function t(){for(var n,t=arguments.length,i=new Array(t),d=0;d<t;d++)i[d]=arguments[d];return(n=e.call.apply(e,[this].concat(i))||this)._isRewardedAdReady=!1,n.RewardedAdShowedTime=0,n._isInterstitialAdReady=!1,n.interstitialAdShowedTime=0,n.bannerAdShowing=!1,n}n(t,e);var i=t.prototype;return i.start=function(){var e=this;r.node.on(r.MSG_INTERSTITIAL_AD_READY,(function(n){e._isInterstitialAdReady="1"==n}),this),r.node.on(r.MSG_REWARDED_AD_READY,(function(n){e._isRewardedAdReady="1"==n}),this),r.node.on(r.MSG_REWARDED_AD_BONUS,this.onRewardedAdBonus,this),this.schedule((function(){e.canLoadAd()&&!e.isRewardedAdReady()&&r.requestRewardedAd()}),60,1e3,60),this.schedule((function(){h.adRemoved||e.canLoadAd()&&!e.isInterstitialAdReady()&&r.requestInterstitialAd()}),60,1e3,60)},i.canLoadAd=function(){return u.appDuration>1800||c.testing},i.isRewardedAdReady=function(){var e=!1;return e=d.os===d.OS.ANDROID?this._isRewardedAdReady:r.isRewardedAdReady(),console.log("isRewardedAdReady():",e),e},i.showRewardedAd=function(){this.isRewardedAdReady()&&(this.RewardedAdShowedTime=d.now(),r.showRewardedAd())},i.onRewardedAdBonus=function(){o.showRewardMessage(a(5,10),(function(){}))},i.isInterstitialAdReady=function(){var e=!1;return e=d.os===d.OS.ANDROID?this._isInterstitialAdReady:r.isInterstitialAdReady(),console.log("isInterstitialAdReady():",e),e},i.isTimeToShowInterstitialAd=function(){var e=1e3*c.interstitial_ad_interval;return d.now()-this.interstitialAdShowedTime>e&&d.now()-this.RewardedAdShowedTime>e},i.showInterstitialAd=function(){this.isInterstitialAdReady()&&this.isTimeToShowInterstitialAd()&&(this.interstitialAdShowedTime=d.now(),r.showInterstitialAd())},i.isBannerAdEnabled=function(){return!(!(A.isChannelApproved()||u.launchCount>5&&u.appDuration>10800)||h.adRemoved)},i.isBannerAdShowing=function(){return this.bannerAdShowing},i.showBannerAd=function(){this.isBannerAdEnabled()&&(this.bannerAdShowing=!0,r.showBannerAd())},i.hideBannerAd=function(){this.bannerAdShowing=!1,r.hideBannerAd()},t}(s))||l);t._RF.pop()}}}));

System.register("chunks:///_virtual/AppAudioPlayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AppData.ts","./App.ts"],(function(o){var u,i,e,n,c,t,s,r,l,a,d;return{setters:[function(o){u=o.applyDecoratedDescriptor,i=o.inheritsLoose,e=o.initializerDefineProperty,n=o.assertThisInitialized},function(o){c=o.cclegacy,t=o._decorator,s=o.AudioSource,r=o.clamp01,l=o.Component},function(o){a=o.gAppData},function(o){d=o.gAppUtils}],execute:function(){var p,m,A,h,S,f,y;c._RF.push({},"af341eqgN5JlYQVyXzag6hi","AppAudioPlayer",void 0);var g=t.ccclass,v=t.property;o("AppAudioPlayer",(p=g("AppAudioPlayer"),m=v(s),A=v(s),p((f=u((S=function(o){function u(){for(var u,i=arguments.length,c=new Array(i),t=0;t<i;t++)c[t]=arguments[t];return u=o.call.apply(o,[this].concat(c))||this,e(u,"musicAudioSource",f,n(u)),e(u,"soundAudioSource",y,n(u)),u.curPlayingMusic=null,u}i(u,o);var c=u.prototype;return c.onLoad=function(){this.musicAudioSource=d.addComponentNodeTo(s,this.node),this.soundAudioSource=d.addComponentNodeTo(s,this.node)},c.start=function(){console.log("AppAudio.start()"),this.musicAudioSource.volume=a.musicVolume,this.soundAudioSource.volume=a.soundVolume},c.pauseMusic=function(){this.musicAudioSource.pause()},c.playMusic=function(o,u){var i=this;this.musicAudioSource.volume<.5||(o?this.curPlayingMusic!=o&&(this.musicAudioSource.stop(),this.musicAudioSource.clip=null,this.scheduleOnce((function(){i.musicAudioSource.loop=!0,i.musicAudioSource.clip=o,i.musicAudioSource.play(),i.curPlayingMusic=o}))):console.warn("clip is null"))},c.playSound=function(o){this.soundAudioSource.volume<.5||(o?this.soundAudioSource.playOneShot(o,1):console.warn("clip is null"))},c.setMusicVolume=function(o){o=r(o),a.musicVolume=o,this.musicAudioSource.volume=o},c.setSoundVolume=function(o){a.soundVolume=o,this.soundAudioSource.volume=o},c.openMusic=function(){this.setMusicVolume(1)},c.closeMusic=function(){this.setMusicVolume(0)},c.openSound=function(){this.setSoundVolume(1)},c.closeSound=function(){this.setSoundVolume(0)},u}(l)).prototype,"musicAudioSource",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=u(S.prototype,"soundAudioSource",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=S))||h));c._RF.pop()}}}));

System.register("chunks:///_virtual/AppAudioRes.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GConst.ts"],(function(e){var o,n,i,r,t,l,u,a,b,c,p,f,m;return{setters:[function(e){o=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){t=e.cclegacy,l=e._decorator,u=e.AudioClip,a=e.log,b=e.js,c=e.warn,p=e.assetManager,f=e.Component},function(e){m=e.BUNDLE_INFO}],execute:function(){var d,g,y,w,C,s,z,G,J,S,v,h,A,B,D,R,M,L,I,N,E,F,P,H,O,_,T,j,k,U,x,q,K,Y,Z,Q,V,W,X,$,ee,oe,ne,ie,re,te,le,ue,ae,be,ce,pe,fe,me,de,ge,ye,we,Ce,se,ze,Ge,Je,Se,ve,he,Ae,Be,De,Re,Me,Le,Ie,Ne,Ee,Fe,Pe,He,Oe,_e,Te,je,ke,Ue,xe,qe,Ke,Ye,Ze,Qe,Ve,We,Xe,$e;t._RF.push({},"e9589/Em7NFYqNjfD0xSKTZ","AppAudioRes",void 0);var eo=l.ccclass,oo=l.property,no=e("AppAudioRes",(d=eo("AppAudioRes"),g=oo(u),y=oo(u),w=oo(u),C=oo(u),s=oo(u),z=oo(u),G=oo(u),J=oo(u),S=oo(u),v=oo(u),h=oo(u),A=oo(u),B=oo(u),D=oo(u),R=oo(u),M=oo(u),L=oo(u),I=oo(u),N=oo(u),E=oo(u),F=oo(u),P=oo(u),H=oo(u),O=oo(u),_=oo(u),T=oo(u),j=oo(u),k=oo(u),U=oo(u),x=oo(u),q=oo(u),K=oo(u),Y=oo(u),Z=oo(u),Q=oo(u),V=oo(u),W=oo(u),X=oo(u),$=oo(u),ee=oo(u),oe=oo(u),ne=oo(u),ie=oo(u),re=oo({type:u}),te=oo({type:u}),d((($e=function(o){function t(){for(var e,n=arguments.length,t=new Array(n),l=0;l<n;l++)t[l]=arguments[l];return e=o.call.apply(o,[this].concat(t))||this,i(e,"BuyMagics",ae,r(e)),i(e,"CalcRemaining",be,r(e)),i(e,"CalcRemainingEnd",ce,r(e)),i(e,"Hit",pe,r(e)),i(e,"PopStar",fe,r(e)),i(e,"Firework",me,r(e)),i(e,"GainBonus",de,r(e)),i(e,"GameOver",ge,r(e)),i(e,"LevelEnd",ye,r(e)),i(e,"MainMenuBg",we,r(e)),i(e,"GamePlayBg",Ce,r(e)),i(e,"MoveDown",se,r(e)),i(e,"MoveDown2",ze,r(e)),i(e,"NewHighScore",Ge,r(e)),i(e,"ReplaceGem",Je,r(e)),i(e,"Select",Se,r(e)),i(e,"SelectGem",ve,r(e)),i(e,"StageIntroIn",he,r(e)),i(e,"StageIntroOut",Ae,r(e)),i(e,"StartGame",Be,r(e)),i(e,"TargetClear",De,r(e)),i(e,"Bomb",Re,r(e)),i(e,"Shuffle",Me,r(e)),i(e,"AddGold",Le,r(e)),i(e,"ReduceGold",Ie,r(e)),i(e,"GoodJob",Ne,r(e)),i(e,"GoodJob1",Ee,r(e)),i(e,"GoodJob2",Fe,r(e)),i(e,"GoodJob3",Pe,r(e)),i(e,"GoodJob4",He,r(e)),i(e,"GoodJob5",Oe,r(e)),i(e,"Combo1",_e,r(e)),i(e,"Combo2",Te,r(e)),i(e,"Combo3",je,r(e)),i(e,"Combo4",ke,r(e)),i(e,"Combo5",Ue,r(e)),i(e,"Combo6",xe,r(e)),i(e,"Combo7",qe,r(e)),i(e,"Combo8",Ke,r(e)),i(e,"Combo9",Ye,r(e)),i(e,"Combo10",Ze,r(e)),i(e,"Combo11",Qe,r(e)),i(e,"Combo12",Ve,r(e)),i(e,"GoodJobs",We,r(e)),i(e,"Combos",Xe,r(e)),e}return n(t,o),t.prototype.onLoad=function(){a(b.getClassName(this)+".onLoad()"),io=e("AUD",this)},t.loadClips=function(e){var o=this;if(a("AppAudioSounds.loadClips()"),this.bLoaded)c("bLoaded already loaded.");else{var n=m.audio.bundleName;p.loadBundle(n,(function(i,r){if(i)c("loadBundle("+n+") error!");else{var t=r,l="./";a("loadDir(./)"),t.loadDir(l,(function(n,i){n?a("loadDir(./) error!"):(i.forEach((function(e){io[e.name]=e})),io.GoodJobs=[io.GoodJob1,io.GoodJob2,io.GoodJob3,io.GoodJob4,io.GoodJob5],io.Combos=[io.Combo1,io.Combo2,io.Combo3,io.Combo4,io.Combo5,io.Combo6,io.Combo7,io.Combo8,io.Combo9,io.Combo10,io.Combo11,io.Combo12],o.bLoaded=!0,e&&e())}))}}))}},t}(f)).bLoaded=!1,ae=o((ue=$e).prototype,"BuyMagics",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=o(ue.prototype,"CalcRemaining",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=o(ue.prototype,"CalcRemainingEnd",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=o(ue.prototype,"Hit",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=o(ue.prototype,"PopStar",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=o(ue.prototype,"Firework",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=o(ue.prototype,"GainBonus",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=o(ue.prototype,"GameOver",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=o(ue.prototype,"LevelEnd",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),we=o(ue.prototype,"MainMenuBg",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=o(ue.prototype,"GamePlayBg",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=o(ue.prototype,"MoveDown",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ze=o(ue.prototype,"MoveDown2",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ge=o(ue.prototype,"NewHighScore",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Je=o(ue.prototype,"ReplaceGem",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=o(ue.prototype,"Select",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=o(ue.prototype,"SelectGem",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=o(ue.prototype,"StageIntroIn",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ae=o(ue.prototype,"StageIntroOut",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Be=o(ue.prototype,"StartGame",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),De=o(ue.prototype,"TargetClear",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Re=o(ue.prototype,"Bomb",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Me=o(ue.prototype,"Shuffle",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=o(ue.prototype,"AddGold",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ie=o(ue.prototype,"ReduceGold",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=o(ue.prototype,"GoodJob",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ee=o(ue.prototype,"GoodJob1",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fe=o(ue.prototype,"GoodJob2",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pe=o(ue.prototype,"GoodJob3",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),He=o(ue.prototype,"GoodJob4",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oe=o(ue.prototype,"GoodJob5",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=o(ue.prototype,"Combo1",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Te=o(ue.prototype,"Combo2",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),je=o(ue.prototype,"Combo3",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ke=o(ue.prototype,"Combo4",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ue=o(ue.prototype,"Combo5",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xe=o(ue.prototype,"Combo6",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qe=o(ue.prototype,"Combo7",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ke=o(ue.prototype,"Combo8",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ye=o(ue.prototype,"Combo9",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ze=o(ue.prototype,"Combo10",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qe=o(ue.prototype,"Combo11",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ve=o(ue.prototype,"Combo12",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),We=o(ue.prototype,"GoodJobs",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Xe=o(ue.prototype,"Combos",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),le=ue))||le)),io=e("AUD",new no);t._RF.pop()}}}));

System.register("chunks:///_virtual/AppBlockerUI.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r,o,c;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,o=t._decorator,c=t.Component}],execute:function(){var n;r._RF.push({},"da6cefnN2RMXpm9tLQHPl1z","AppBlockerUI",void 0);var p=o.ccclass;o.property,t("AppBlockerUI",p("AppBlockerUI")(n=function(t){function r(){return t.apply(this,arguments)||this}return e(r,t),r.prototype.start=function(){},r}(c))||n);r._RF.pop()}}}));

System.register("chunks:///_virtual/AppCoinInfo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AppUser.ts","./App.ts","./GConfig.ts","./i18n.ts","./GConst.ts"],(function(n){var o,e,t,i,r,a,l,s,u,p,d,c,f,b,C,w,h,g,y,A,v,m,I,T;return{setters:[function(n){o=n.applyDecoratedDescriptor,e=n.inheritsLoose,t=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){r=n.cclegacy,a=n._decorator,l=n.Label,s=n.Node,u=n.v3,p=n.find,d=n.instantiate,c=n.Widget,f=n.UIOpacity,b=n.tween,C=n.log,w=n.Component},function(n){h=n.gUserData,g=n.gAppUser,y=n.AppUser},function(n){A=n.gAppUI,v=n.gAppAdHelper},function(n){m=n.GConfig},function(n){I=n.i18n},function(n){T=n.LAYER_FG2}],execute:function(){var O,P,L,S,R,V,z,_,U,D,G,N,W,E;r._RF.push({},"3a6cboYSqNJMriulId73y4m","AppCoinInfo",void 0);var F=a.ccclass,H=a.property,M=null;n("AppCoinInfo",(O=F("AppCoinInfo"),P=H(l),L=H(s),S=H(s),R=H(l),V=H(l),O(((E=function(n){function o(){for(var o,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return o=n.call.apply(n,[this].concat(r))||this,t(o,"labelCoinValue",U,i(o)),t(o,"nodeSymbolAdd",D,i(o)),t(o,"nodeCoinIcon",G,i(o)),t(o,"labelAdd",N,i(o)),t(o,"labelSubtract",W,i(o)),o}e(o,n);var r=o.prototype;return r.onLoad=function(){p(T)!=this.node.parent&&(o.instance=this)},r.start=function(){var n=this;if(!M){var e=d(this.node);(M=e.getComponent(o)).getComponent(c).enabled=!1,M.node.parent=p(T),M.node.active=!1}this.labelCoinValue.string=h.coin.toString(),g.node.on(y.EVT_COIN_CHANGED,(function(o){n.updateCoin(o)}),this),this.scheduleOnce((function(){if(o.coinWorldPos=u(n.nodeCoinIcon.worldPosition),M&&n!=M){var e=u(n.node.worldPosition);M.node.setWorldPosition(e)}})),M&&this!=M&&(this.getComponent(f).opacity=0,b(this.getComponent(f)).to(.5,{opacity:255}).start())},r.updateCoin=function(n){if(this.node.active||(this.node.active=!0),this.labelCoinValue.string=h.coin.toString(),o.showOnTopLayer(n),this==M);else{var e=u(this.node.worldPosition);M.node.setWorldPosition(e)}},o.showOnTopLayer=function(n){C("AppCoinInfo.showOnTopLayer(), topTweenCount:"+o.topTweenCount),M.node.active=!0,b(M.labelCoinValue.node).to(.1,{scale:u(1.2,1.2,1.2)}).to(.1,{scale:u(1,1,1)}).delay(1.5).call((function(){o.showOnOriginLayer()})).start(),o.topTweenCount++;var e=d(n>0?M.labelAdd.node:M.labelSubtract.node);e.getComponent(l).string=n>0?"+"+n:""+n,e.parent=M.node.parent;var t=u(M.labelCoinValue.node.worldPosition);t.y-=30,e.worldPosition=t,e.active=!0,b(e).by(1,{worldPosition:u(0,60)}).destroySelf().start()},o.showOnOriginLayer=function(){C("AppCoinInfo.showOnOriginLayer(), topTweenCount:"+o.topTweenCount),o.topTweenCount--,o.topTweenCount<=0&&(M.node.active=!1)},r.onAddClick=function(){m.storeEnabled?A.showStore():A.showVideoAdMessage((function(){v.isRewardedAdReady()?v.showRewardedAd():A.showTips(I.t("videoAdRewardNotReady"))}))},o}(w)).instance=null,E.coinWorldPos=u(),E.topTweenCount=0,U=o((_=E).prototype,"labelCoinValue",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=o(_.prototype,"nodeSymbolAdd",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=o(_.prototype,"nodeCoinIcon",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=o(_.prototype,"labelAdd",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=o(_.prototype,"labelSubtract",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=_))||z));r._RF.pop()}}}));

System.register("chunks:///_virtual/AppData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewModel.ts","./GConfig.ts","./App.ts"],(function(t){var a,e,n,o,i,p,s,r,c;return{setters:[function(t){a=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator,o=t.log,i=t.macro,p=t.Component},function(t){s=t.VM},function(t){r=t.GConfig},function(t){c=t.gAppUtils}],execute:function(){var l;e._RF.push({},"9e145cP+2pFOpxwWcS0W4Ed","AppData",void 0);var u=n.ccclass,h=(n.property,t("gAppData",new function(){this.version=r.version,this.channel=r.channel,this.channel_version=r.channel_version,this.launchCount=0,this.appDuration=0,this.musicVolume=.8,this.soundVolume=1,this.privacyPolicyAccepted=!1,this.ratedVersion="0.1",this.inAppRatingFirstShowTime=0,this.inAppRatingShowedCount=0,this.dataImportedFrom="",this.giftClaimTime=0,this.shareClaimTime=0})),d="AppDataV2",g="gAppData",v=h,f=(t("AppDataCtl",u("AppDataCtl")(l=function(e){function n(){return e.apply(this,arguments)||this}a(n,e);var p=n.prototype;return p.onLoad=function(){o("AppDataCtl.onLoad()"),f||(f=t("gAppDataCtl",this),this.loadData(),this.bindVM()),localStorage.setItem("version",r.version),v.launchCount++,this.schedule(this.updateAppStats,5,i.REPEAT_FOREVER,1)},p.updateAppStats=function(t){v.appDuration+=t,v.appDuration=Math.floor(v.appDuration)},p.bindVM=function(){var t=this;s.add(v,g,!0),s.bindPath(g,(function(a,e,n){t.scheduleOnce((function(){t.saveData()}))}),this)},p.loadData=function(){var t="DataApp",a=localStorage.getItem(t);if(a&&a.length>0){o("Loading previous data of DataApp, "+a);var e=localStorage.getItem(t);if(e){var n=JSON.parse(e);n&&n.screenDuration>0&&(v.appDuration=n.screenDuration)}c.loadObject(t,v),localStorage.removeItem(t);var i="AppStats",p=localStorage.getItem(i);return p&&p.length>0&&(c.loadObject(i,v),localStorage.removeItem(i)),void this.saveData()}c.loadObject(d,v)},p.saveData=function(){c.saveObject(d,v)},n}(p))||l),t("gAppDataCtl",null));e._RF.pop()}}}));

System.register("chunks:///_virtual/AppDebugBg.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GConfig.ts"],(function(t){var e,n,o,i,c,p;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,i=t.UIOpacity,c=t.Component},function(t){p=t.GConfig}],execute:function(){var r;n._RF.push({},"71fa5Fk2TtDLLADgUwXNe0K","AppDebugBg",void 0);var u=o.ccclass,s=(o.property,o.executeInEditMode);t("AppDebugBg",u("AppDebugBg")(r=s(!0)(r=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var o=n.prototype;return o.start=function(){this.getComponent(i).opacity=0,this.node.children[0].active=p.testing},o.update=function(t){},n}(c))||r)||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/AppDebugUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./GConfig.ts","./GFunction.ts"],(function(e){var t,n,i,o,s,a,r,c,l,p,u,g,d;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator,o=e.find,s=e.instantiate,a=e.Label,r=e.game,c=e.Component},function(e){l=e.gAppUtils,p=e.gAppHelper,u=e.gAppHotUpdate},function(e){g=e.GConfig},function(e){d=e.setObjKeysAsValues}],execute:function(){var h;n._RF.push({},"5e1f5jjR2FC6oy+akTBhHaN","AppDebugUI",void 0);var f=i.ccclass,b=(i.property,function(e){return e.testing="",e.storeEnabled="",e.isVideoAdEnabled="",e.clearHotUpdateCache="",e}(b||{}));d(b);e("AppDebugUI",f("AppDebugUI")(h=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var i=n.prototype;return i.start=function(){for(var e=o("Panel/Configs",this.node),t=Object.getOwnPropertyNames(b),n=0;n<t.length;n++){var i=t[n],a=n<e.children.length?e.children[n]:s(e.children[0]);a.parent=e,a.name=i,l.bindClick(a,this.onItemClick,this,i)}this.updateItems(),p.showPanel(this)},i.updateItems=function(){o("Panel/Configs",this.node).children.forEach((function(e){e.getChildByName("LabelTitle").getComponent(a).string=e.name,e.getChildByName("LabelValue").getComponent(a).string=g[e.name]}))},i.onItemClick=function(e){e==b.testing?g.testing=!g.testing:e==b.storeEnabled?g.storeEnabled=!g.storeEnabled:e==b.clearHotUpdateCache&&(u.clearAssetsDir(),r.restart()),this.updateItems()},i.onOKClick=function(){p.closePanel(this)},n}(c))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/AppDirector.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./GConst.ts"],(function(e){var o,n,t,i,r,c,a,p,d,s,u;return{setters:[function(e){o=e.inheritsLoose},function(e){n=e.cclegacy,t=e._decorator,i=e.log,r=e.error,c=e.Component,a=e.find,p=e.instantiate},function(e){d=e.gAppRes,s=e.gAppUI},function(e){u=e.LAYER_VIEW}],execute:function(){var l,f;n._RF.push({},"825fak5jzxF8Y0DSBp1UMNL","AppDirector",void 0);var h=t.ccclass;t.property,e("AppDirector",h("AppDirector")(((f=function(e){function n(){return e.apply(this,arguments)||this}o(n,e);var t=n.prototype;return t.preloadView=function(e,o){i("AppDirector.preloadView("+e+")"),d.loadView(e,(function(){d.getPrefab(e)&&o&&o()}))},t.loadView=function(e,o,n,t){var c=this;i("AppDirector.loadView("+e+")");var l=d.getPrefab(e);if(l){s.showFadeIn((function(){!function(){var e=a(u);e=e||a("Canvas");for(var o=0;o<e.children.length;o++)e.children[o].destroy();var n=p(l);e.addChild(n)}(),s.showFadeOut((function(){}))})),t&&t()}else o&&s.showLoading(),d.loadView(e,(function(){d.getPrefab(e)?(c.loadView(e,o,n,t),c.scheduleOnce((function(){o&&s.hideLoading()}),1)):r("AppDirector.loadView("+e+") failed! If bundle is not set to preload, then views[] should be configured in BUNDLE_INFO.")}))},n}(c)).EVT_SceneLoaded="EVT_SceneLoaded",l=f))||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/AppFadeInUI.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,o,r,a,p;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,r=t.UIOpacity,a=t.tween,p=t.Component}],execute:function(){var c;n._RF.push({},"b6adb1H/rhC07Y0w5A8QGWT","AppFadeInUI",void 0);var i=o.ccclass;o.property,t("AppFadeInUI",i("AppFadeInUI")(c=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).interval=.6,e.onComplete=null,e}return e(n,t),n.prototype.start=function(){var t=this,e=this.getComponent(r);e.opacity=0,a(e).to(this.interval,{opacity:255}).call((function(){t.onComplete&&t.onComplete(),t.node.destroy()})).start()},n}(p))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/AppFadeOutUI.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,o,r,c,p;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,r=t.UIOpacity,c=t.tween,p=t.Component}],execute:function(){var a;n._RF.push({},"d2cferJyxlDzq8IcEh5R68u","AppFadeOutUI",void 0);var i=o.ccclass;o.property,t("AppFadeOutUI",i("AppFadeOutUI")(a=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).interval=.6,e.onComplete=null,e}return e(n,t),n.prototype.start=function(){var t=this,e=this.getComponent(r);e.opacity=255,c(e).to(this.interval,{opacity:0}).call((function(){t.onComplete&&t.onComplete(),t.node.destroy()})).start()},n}(p))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/AppGrid.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,i,r,e,a,s,o,h;return{setters:[function(t){n=t.inheritsLoose},function(t){i=t.cclegacy,r=t._decorator,e=t.UITransform,a=t.size,s=t.log,o=t.Layout,h=t.Component}],execute:function(){var c;i._RF.push({},"c27a0zNCclLF6YUWY0yXurM","AppGrid",void 0);var p=r.ccclass;r.property,t("AppGrid",p("AppGrid")(c=function(t){function i(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).trans=null,n.transContainer=null,n.transContainerSize=a(0,0),n}n(i,t);var r=i.prototype;return r.start=function(){this.trans=this.getComponent(e),this.transContainer=this.node.parent.getComponent(e),this.transContainerSize=a(this.transContainer.width,this.transContainer.height)},r.update=function(t){if(this.transContainer.width!=this.transContainerSize.width||this.transContainer.height!=this.transContainerSize.height){this.transContainerSize=a(this.transContainer.width,this.transContainer.height),s("AppGrid.update(), new grid container size:",Math.floor(this.transContainerSize.width),Math.floor(this.transContainerSize.height));var n=Math.floor(Math.min(this.transContainerSize.width,this.transContainerSize.height));this.trans.width=this.trans.height=n,s("new grid size:",Math.floor(this.trans.width),Math.floor(this.trans.height));var i=this.getComponent(o);i&&i.constraintNum&&(i.cellSize=a(n/i.constraintNum,n/i.constraintNum))}},i}(h))||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/AppHelper.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AppData.ts","./App.ts","./AppHotUpdate.ts","./GConfig.ts"],(function(e){var t,n,a,o,r,i,s,p,c,l,u,f,d,h,g,v,C,m,A,N,_;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,a=e._decorator,o=e.log,r=e.js,i=e.error,s=e.v3,p=e.tween,c=e.UIOpacity,l=e.instantiate,u=e.find,f=e.rect,d=e.view,h=e.size,g=e.sys,v=e.Component},function(e){C=e.gAppData},function(e){m=e.gAppHotUpdate,A=e.gAppUI},function(e){N=e.AppHotUpdate},function(e){_=e.GConfig}],execute:function(){n._RF.push({},"3b8ffWEH7ZA0oqNs4C+Aa2k","AppHelper",void 0);a.ccclass,a.property,e("AppHelper",function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var a=n.prototype;return a.start=function(){var e=this;window.addEventListener("storage",(function(e){_.testing||localStorage.setItem(e.key,e.oldValue)})),m.node.on(N.EVT_NEW_VERSION_FOUND,(function(){o(r.getClassName(e)+",on:EVT_NEW_VERSION_FOUND"),m.updateNow()}),this),this.scheduleOnce((function(){m.checkUpdate()}),1)},a.showPanel=function(e){var t=e.node.getChildByName("Panel");if(t){var n=s(t.scale);t.setScale(s(0,0,1)),p(t).to(.1,{scale:n}).start()}else i(r.getClassName(e)+".Can't find Panel node.")},a.closePanel=function(e,t){A.antiDoubleClicks();var n=e.node.getChildByName("Panel");if(n){var a=n.getComponent(c);a&&p(a).to(.1,{opacity:0}).start(),p(n).to(.2,{scale:s(0,0,1)}).call((function(){t&&t(),e.node.destroy()})).start()}else i(r.getClassName(e)+".Can't find Panel node.")},a.instantiateComponent=function(e,t){o("AppHelper.instantiateComponent()");var n=r.getClassName(t);o("getClassName(classConstructor):",n);var a=l(e);if(!a)return i("instantiate error! "+n),null;var s=a.getComponent(t);return s||(i("getComponent("+n+") error!"),null)},a.showComponentPrefab=function(e,t,n,a){var o=this.instantiateComponent(e,t);n&&n(o),o.node.parent=a||u("Canvas")},a.isChannelApproved=function(){if(C.launchCount>=10&&C.appDuration>=10800)return!0;var e=parseFloat(_.channel_approved_version)>=parseFloat(_.channel_version);return e||o("approved:",e),e},a.isVersionRated=function(){return C.ratedVersion==_.channel_version},a.getSafeArea=function(){var e=f(),t=d.getScaleX(),n=d.getScaleY(),a=d.getViewportRect(),o=h(a.width/t,a.height/n);if(g.isNative){var r=g.getSafeAreaRect();e=o.width>o.height?f(r.x,0,r.width,o.height):r}else e=f(10/t,10/n,o.width-20/t,o.height-20/n);return e},n}(v));n._RF.pop()}}}));

System.register("chunks:///_virtual/AppHotUpdate.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,a,s,n,r,o;return{setters:[function(e){t=e.inheritsLoose},function(e){a=e.cclegacy,s=e._decorator,n=e.native,r=e.log,o=e.Component}],execute:function(){var c,E;a._RF.push({},"4f9a9uH7btNhpp1oWom3Yug","AppHotUpdate",void 0);var _=s.ccclass;s.property;e("AppHotUpdate",_("AppHotUpdate")(((E=function(e){function a(){for(var t,a=arguments.length,s=new Array(a),n=0;n<a;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))||this)._assetsManager=null,t._checking=!1,t._updateCallbackCalled=!1,t.newVersionFound=!1,t._updating=!1,t._checkUpdateCallbackCalled=!1,t.newVersionDownloaded=!1,t._retryCount=0,t}t(a,e);var s=a.prototype;return s.start=function(){},s.initHotUpdate=function(){},s.getLocalVersion=function(){return this._assetsManager.getLocalManifest().getVersion()},s.getRemoteVersion=function(){return this._assetsManager.getRemoteManifest().getVersion()},s.getProgress=function(){var e=this._assetsManager.getTotalBytes(),t=this._assetsManager.getDownloadedBytes();return e>0?t/e:0},s.clearAssetsDir=function(){var e=n.fileUtils.getWritablePath();n.fileUtils.removeDirectory(e+"/hotupdate_assets")},s.funcCheckCb=function(e){var t=this;r("AppHotUpdate.funcCheckCb().Code: "+e.getEventCode());var s,o,c,E=e.getEventCode();switch(E){case n.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:case n.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:case n.EventAssetsManager.ERROR_PARSE_MANIFEST:r("Error code:"+E);break;case n.EventAssetsManager.ALREADY_UP_TO_DATE:r("Already up to date with the latest remote version."),t.node.emit(a.EVT_ALREADY_UP_TO_DATE);break;case n.EventAssetsManager.NEW_VERSION_FOUND:r("New version found, please try to update. ("+Math.ceil(this._assetsManager.getTotalBytes()/1024)+"kb)");var _=t._assetsManager.getLocalManifest(),i=t._assetsManager.getRemoteManifest(),A=_.getVersion(),l=i.getVersion();r("localVersion:"+A+",remoteVersion:"+l);var g=(s=l,o=A.match(/[0-9]+\.[0-9]+/),c=s.match(/[0-9]+\.[0-9]+/),o.toString()==c.toString());r("versionMatchable:"+g),g&&(t.newVersionFound=!0,t.scheduleOnce((function(){t.node.emit(a.EVT_NEW_VERSION_FOUND)}),.1));break;default:return}t._assetsManager.setEventCallback(null),t._checking=!1,this._checkUpdateCallbackCalled=!0},s.checkUpdate=function(){},s.funcUpdateCb=function(e){var t=this,s=this,o=e.getEventCode();switch(o){case n.EventAssetsManager.UPDATE_PROGRESSION:break;case n.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:case n.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:case n.EventAssetsManager.ERROR_PARSE_MANIFEST:case n.EventAssetsManager.ERROR_UPDATING:case n.EventAssetsManager.ERROR_DECOMPRESS:r("error code:"+o+", message:"+e.getMessage());break;default:r("default:code:"+o)}switch(o){case n.EventAssetsManager.ALREADY_UP_TO_DATE:case n.EventAssetsManager.UPDATE_FAILED:case n.EventAssetsManager.UPDATE_FINISHED:o==n.EventAssetsManager.UPDATE_FAILED?(r("code == native.EventAssetsManager.UPDATE_FAILED"),s._retryCount<3&&(s._retryCount++,s.scheduleOnce((function(){s.updateNow()}),1))):o==n.EventAssetsManager.UPDATE_FINISHED&&(r("code == native.EventAssetsManager.UPDATE_FINISHED"),s.newVersionDownloaded=!0,s.scheduleOnce((function(){t.node.emit(a.EVT_NEED_RESTART)}),.1)),s._updating=!1,s._assetsManager.setEventCallback(null)}this._updateCallbackCalled=!0},s.updateNow=function(){},a}(o)).EVT_ALREADY_UP_TO_DATE="EVT_ALREADY_UP_TO_DATE",E.EVT_NEW_VERSION_FOUND="EVT_NEW_VERSION_FOUND",E.EVT_NEED_RESTART="EVT_NEED_RESTART",c=E))||c);a._RF.pop()}}}));

System.register("chunks:///_virtual/AppHotUpdateTestUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./AppHotUpdate.ts"],(function(e){var t,n,o,i,r,a,l,s,u,c,p,f,b,d,h,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.Button,s=e.Node,u=e.Label,c=e.log,p=e.js,f=e.game,b=e.Component},function(e){d=e.gAppHotUpdate,h=e.gAppHelper},function(e){g=e.AppHotUpdate}],execute:function(){var V,I,_,A,U,E,T,R,m,w,y,C,D,N,v,z,H;r._RF.push({},"d8cc3BrAmBMi4fYPNAFr5/g","AppHotUpdateTestUI",void 0);var L=a.ccclass,k=a.property;e("AppHotUpdateTestUI",(V=L("AppHotUpdateTestUI"),I=k(l),_=k(l),A=k(s),U=k(u),E=k(s),T=k(u),R=k(u),V((y=t((w=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,o(t,"buttonUpdate",y,i(t)),o(t,"buttonRelaunch",C,i(t)),o(t,"currentVersionInfo",D,i(t)),o(t,"labelCurrentVersion",N,i(t)),o(t,"latestVersionInfo",v,i(t)),o(t,"labelLatestVersion",z,i(t)),o(t,"labelInfos",H,i(t)),t}n(t,e);var r=t.prototype;return r.start=function(){var e=this;this.buttonUpdate.interactable=!1,this.buttonRelaunch.interactable=!1,this.currentVersionInfo.active=!1,this.latestVersionInfo.active=!1,d.node.on(g.EVT_ALREADY_UP_TO_DATE,(function(){c(p.getClassName(e)+",on:EVT_ALREADY_UP_TO_DATE"),e.updateInfos()}),this),d.node.on(g.EVT_NEW_VERSION_FOUND,(function(){c(p.getClassName(e)+",on:EVT_NEW_VERSION_FOUND"),e.updateInfos(),e.buttonUpdate.interactable=!0}),this),d.node.on(g.EVT_NEED_RESTART,(function(){c(p.getClassName(e)+",on:EVT_NEED_RESTART"),e.buttonRelaunch.interactable=!0}),this),h.showPanel(this)},r.updateInfos=function(){this.currentVersionInfo.active=!0,this.latestVersionInfo.active=!0,this.labelCurrentVersion.string=d.getLocalVersion(),this.labelLatestVersion.string=d.getRemoteVersion(),this.labelInfos.string="progress:"+100*d.getProgress()+"%",this.labelInfos.string+=", newVersionFound:"+d.newVersionFound,this.labelInfos.string+=", Downloaded:"+d.newVersionDownloaded},r.onCheckClick=function(){d.checkUpdate()},r.onUpdateClick=function(){d.updateNow()},r.onRelaunchClick=function(){f.restart()},r.onClearCachesClick=function(){d.clearAssetsDir()},r.onOKClick=function(){h.closePanel(this)},t}(b)).prototype,"buttonUpdate",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(w.prototype,"buttonRelaunch",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(w.prototype,"currentVersionInfo",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(w.prototype,"labelCurrentVersion",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(w.prototype,"latestVersionInfo",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(w.prototype,"labelLatestVersion",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(w.prototype,"labelInfos",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=w))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/AppLayout.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,r,t,i,a,o,l,u,s;return{setters:[function(e){n=e.applyDecoratedDescriptor,r=e.inheritsLoose,t=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.UITransform,u=e.rect,s=e.Component}],execute:function(){var p,c,g,f,b,y,d,m,h,w,z,H,M,L,C,v,F,R,A,_,D,P,T;a._RF.push({},"11b662hPcpOyKHeC4MDoGPp","AppLayout",void 0);var B=o.ccclass,V=o.property;e("AppLayout",(p=B("AppLayout"),c=V(l),g=V(l),f=V(l),b=V(l),y=V(l),d=V(l),m=V(l),h=V(l),w=V(l),z=V(l),p((L=n((M=function(e){function n(){for(var n,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a))||this,t(n,"transHeader",L,i(n)),t(n,"transVCenter",C,i(n)),t(n,"transFooter",v,i(n)),t(n,"transLeft",F,i(n)),t(n,"transContent",R,i(n)),t(n,"transRight",A,i(n)),t(n,"transMarginTop",_,i(n)),t(n,"transMarginLeft",D,i(n)),t(n,"transMarginRight",P,i(n)),t(n,"transMarginBottom",T,i(n)),n.designH=960,n.designW=640,n.designContentW=640,n.designContentH=640,n.designHeaderH=220,n.designFooterH=100,n.designHeaderMinH=20,n.designFooterMinH=20,n._rectView=u(0,0,0,0),n}return r(n,e),n}(s)).prototype,"transHeader",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=n(M.prototype,"transVCenter",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=n(M.prototype,"transFooter",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=n(M.prototype,"transLeft",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=n(M.prototype,"transContent",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=n(M.prototype,"transRight",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=n(M.prototype,"transMarginTop",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=n(M.prototype,"transMarginLeft",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=n(M.prototype,"transMarginRight",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=n(M.prototype,"transMarginBottom",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=M))||H));a._RF.pop()}}}));

System.register("chunks:///_virtual/AppLayoutAdaptor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AppSetterForEditor.ts","./GConst.ts"],(function(t){var e,r,a,n,i,o,p,s,u,l,c,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,a=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){i=t.cclegacy,o=t._decorator,p=t.Node,s=t.log,u=t.js,l=t.director,c=t.Component},null,function(t){d=t.EVT_VIEW_SIZE_CHANGE}],execute:function(){var h,y,f,v,A,g,L,m;i._RF.push({},"3b8485v56JCuqDtO1v6rvHR","AppLayoutAdaptor",void 0);var C=o.ccclass,E=o.property,P=o.executeInEditMode;t("AppLayoutAdaptor",(h=C("AppLayoutAdaptor"),y=P(!0),f=E(p),v=E(p),h(A=y((L=e((g=function(t){function e(){for(var e,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i))||this,a(e,"landscapeParent",L,n(e)),a(e,"portraitParent",m,n(e)),e}r(e,t);var i=e.prototype;return i.start=function(){var t=this;s(u.getClassName(this)+".start"),this.updateLayout(),l.on(d,(function(e){s(u.getClassName(t)+".VIEW_SIZE_CHANGE"),t.updateLayout()}),this)},i.updateLayout=function(){if(s(u.getClassName(this)+".updateLayout"),this.landscapeParent&&this.portraitParent){var t=this.portraitParent;if(this.node.parent!=t){var e=t.getChildByName(this.node.name);e&&(e.active=!1),this.node.parent=t}}},e}(c)).prototype,"landscapeParent",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=e(g.prototype,"portraitParent",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=g))||A)||A));i._RF.pop()}}}));

System.register("chunks:///_virtual/AppLoadingUI.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){var e,o,t,n,s,a,i,p,l,c,u,g;return{setters:[function(r){e=r.applyDecoratedDescriptor,o=r.inheritsLoose,t=r.initializerDefineProperty,n=r.assertThisInitialized},function(r){s=r.cclegacy,a=r._decorator,i=r.ProgressBar,p=r.Label,l=r.tween,c=r.UIOpacity,u=r.macro,g=r.Component}],execute:function(){var f,y,b,d,h,L,v;s._RF.push({},"c926a3xsYhDQoGZpQeL1kpM","AppLoadingUI",void 0);var A=a.ccclass,P=a.property;r("AppLoadingUI",(f=A("AppLoadingUI"),y=P(i),b=P(p),f((L=e((h=function(r){function e(){for(var e,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return e=r.call.apply(r,[this].concat(s))||this,t(e,"progressBar",L,n(e)),t(e,"labelProgress",v,n(e)),e.progress=0,e}return o(e,r),e.prototype.start=function(){var r=this;this.schedule((function(){r.progress+=.1,r.progress>=1&&(r.progress=1,l(r.labelProgress.getComponent(c)).to(.2,{opacity:0}).to(.2,{opacity:255}).delay(1).union().repeat(60).start(),r.unscheduleAllCallbacks()),r.progressBar.progress=r.progress}),.1,u.REPEAT_FOREVER)},e}(g)).prototype,"progressBar",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(h.prototype,"labelProgress",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=h))||d));s._RF.pop()}}}));

System.register("chunks:///_virtual/AppLuckyButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./AppUser.ts","./AppLuckyUI.ts"],(function(t){var n,e,i,o,a,r,c,u,l,p,s,y,f,h;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,c=t.Node,u=t.tween,l=t.v3,p=t.Component},function(t){s=t.gAppUI,y=t.gAppHelper},function(t){f=t.gUserData},function(t){h=t.AppLuckyUI}],execute:function(){var d,v,A,b,g,w;a._RF.push({},"ae30fUL4dhBHZaicoPAjioj","AppLuckyButton",void 0);var L=r.ccclass,k=r.property;t("AppLuckyButton",(d=L("AppLuckyButton"),v=k(c),d((g=n((b=function(t){function n(){for(var n,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return n=t.call.apply(t,[this].concat(a))||this,i(n,"icon",g,o(n)),i(n,"alwaysValid",w,o(n)),n.twAvailable=null,n}e(n,t);var a=n.prototype;return a.onload=function(){},a.start=function(){var t=this;this.twAvailable=u(this.icon).delay(1).by(.3,{position:l(0,20,0)},{easing:"bounceInOut"}).by(.3,{position:l(0,-20,0)},{easing:"bounceOut"}).by(2,{angle:360}).delay(1).union().repeatForever(),this.updateIcon(),this.schedule((function(){t.updateIcon()}),5,100)},a.onButtonClick=function(){s.showLuckyCompass()},a.updateIcon=function(){(this.node.active=y.isChannelApproved()&&f.coin<200,this.node.active)&&(h.isLuckyBonusAvailable()?this.twAvailable.start():(this.twAvailable.stop(),this.alwaysValid))},n}(p)).prototype,"icon",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=n(b.prototype,"alwaysValid",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),A=b))||A));a._RF.pop()}}}));

System.register("chunks:///_virtual/AppLuckyUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AppUser.ts","./App.ts","./GConfig.ts"],(function(i){var t,n,e,o,l,r,s,a,u,c,h,p,b,g,d,f;return{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,e=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){l=i.cclegacy,r=i._decorator,s=i.Label,a=i.Node,u=i.Button,c=i.sys,h=i.math,p=i.tween,b=i.Component},function(i){g=i.gUserData},function(i){d=i.gAppHelper},function(i){f=i.GConfig}],execute:function(){var R,m,v,y,T,B,k,w,A,D,I;l._RF.push({},"32b10gh3vBLlYKeccgcou1q","AppLuckyUI",void 0);var L=r.ccclass,z=r.property,C=f.testing?10:1800;i("AppLuckyUI",(R=L("AppLuckyUI"),m=z(s),v=z(a),y=z(u),T=z(u),R((w=t((k=function(i){function t(){for(var t,n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return t=i.call.apply(i,[this].concat(l))||this,e(t,"labelTimer",w,o(t)),e(t,"nodeBoard",A,o(t)),e(t,"buttonRoll",D,o(t)),e(t,"buttonRollDisabled",I,o(t)),t.isRolling=!1,t.bonusTime=0,t.cbRollFinished=null,t}n(t,i);var l=t.prototype;return l.setParams=function(i){this.cbRollFinished=i},l.start=function(){this.bonusTime=g.luckyBonusTime,this.updateTimer(),this.schedule(this.updateTimer,1),d.showPanel(this)},l.prefixInteger=function(i,t){return(Array(t).join("0")+i).slice(-t)},l.updateTimer=function(){if(!this.isRolling){var i=(c.now()-this.bonusTime)/1e3;if(i<C){var t=C-i,n=Math.floor(t/60),e=Math.floor(t%60),o=this.prefixInteger(n,2)+":"+this.prefixInteger(e,2);this.labelTimer.string=o,this.buttonRoll.node.active=!1,this.buttonRollDisabled.node.active=!0}else this.labelTimer.string="",this.buttonRollDisabled.node.active=!1,this.buttonRoll.node.active=!0}},l.onCloseClick=function(){d.closePanel(this)},l.onRollClick=function(){var i=this;if(!this.isRolling){var t=h.randomRange(5,8),n=2*(360+1440*Math.random());t+=n/360;var e=n;console.log("fRotation:"+e),this.nodeBoard.angle=0,p(this.nodeBoard).by(t,{angle:e},{easing:"backInOut"}).call((function(){i.onRollingStopped()})).start(),this.buttonRoll.node.active=!1,this.buttonRollDisabled.node.active=!0,this.isRolling=!0}},l.onRollingStopped=function(){this.isRolling=!1;var i=this.getRollingResult();this.bonusTime=c.now(),g.luckyBonusTime=this.bonusTime,console.log("bonus:"+i),this.cbRollFinished&&this.cbRollFinished(i)},l.getRollingResult=function(){var i=this.nodeBoard.angle%360,t=Math.floor(i/30);console.log("fRotation:"+this.nodeBoard.angle),console.log("iMod: "+i),console.log("iNum: "+t);var n=1;return 0==t||6==t?n=1:1==t||7==t?n=2:2==t?n=10:8==t?n=3:3==t||9==t?n=4:4==t||10==t?n=5:5!=t&&11!=t||(n=6),console.log("iBonus: "+n),n},t.isLuckyBonusAvailable=function(){return(c.now()-g.luckyBonusTime)/1e3>=C},t}(b)).prototype,"labelTimer",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(k.prototype,"nodeBoard",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(k.prototype,"buttonRoll",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(k.prototype,"buttonRollDisabled",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=k))||B));l._RF.pop()}}}));

System.register("chunks:///_virtual/AppMaskFg.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,e,a,o,i,s;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator,o=t.UIOpacity,i=t.tween,s=t.Component}],execute:function(){var c,u;e._RF.push({},"295dewaYB5FxIzQhJ3RGSpe","AppMaskFg",void 0);var r=a.ccclass;a.property,t("AppMaskFg",r("AppMaskFg")(((u=function(t){function e(){for(var n,e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return(n=t.call.apply(t,[this].concat(a))||this)._tweenFadeIn=null,n._tweenFadeOut=null,n}n(e,t);var a=e.prototype;return a.onLoad=function(){e.instance=this},a.start=function(){},a.update=function(t){},a.show=function(t){var n=this;this.fadeIn(.5,(function(){n.fadeOut(.5,t)}))},a.fadeIn=function(t,n){var e=this;this.node.active=!0;var a=this.getComponent(o);this._tweenFadeIn&&this._tweenFadeIn.stop(),this._tweenFadeIn=i(a).set({opacity:0}).to(t||.5,{opacity:255}).call((function(){n&&n(),e._tweenFadeIn=null})).start()},a.fadeOut=function(t,n){var e=this,a=this.getComponent(o);this._tweenFadeOut&&this._tweenFadeOut.stop(),this._tweenFadeOut=i(a).set({opacity:255}).to(t||.5,{opacity:0}).call((function(){n&&n(),e._tweenFadeOut=null,e.node.active=!1})).start()},e}(s)).instance=null,c=u))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/AppMessageBoxUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts"],(function(e){var n,t,l,i,r,o,a,s,c;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,l=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,a=e.Label,s=e.Component},function(e){c=e.gAppHelper}],execute:function(){var u,p,f,b,h,g,C,y,v;r._RF.push({},"e75d9MGQRJFvJgXJdkOCELD","AppMessageBoxUI",void 0);var O=o.ccclass,K=o.property;e("AppMessageBoxUI",(u=O("AppMessageBoxUI"),p=K(a),f=K(a),b=K(a),u((C=n((g=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return n=e.call.apply(e,[this].concat(r))||this,l(n,"labelTitle",C,i(n)),l(n,"labelContent",y,i(n)),l(n,"labelOK",v,i(n)),n.funcOK=null,n.funcClose=null,n}t(n,e);var r=n.prototype;return r.setParams=function(e,n,t,l,i){this.labelTitle.string=e,this.labelContent.string=n,l&&l.length&&(this.labelOK.string=l),this.funcOK=t,this.funcClose=i},r.start=function(){c.showPanel(this)},r.onOKClick=function(){var e=this;c.closePanel(this,(function(){e.funcOK&&e.funcOK()}))},r.onCloseClick=function(){var e=this;c.closePanel(this,(function(){e.funcClose&&e.funcClose()}))},n}(s)).prototype,"labelTitle",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=n(g.prototype,"labelContent",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=n(g.prototype,"labelOK",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=g))||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/AppMsgBoxUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts"],(function(e){var t,n,o,i,r,l,c,a,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,c=e.Label,a=e.Component},function(e){s=e.gAppUI}],execute:function(){var u,p,f,b,h,g,y;r._RF.push({},"72e7cMm+GJIzJtWPKfLl6lY","AppMsgBoxUI",void 0);var v=l.ccclass,A=l.property;e("AppMsgBoxUI",(u=v("AppMsgBoxUI"),p=A(c),f=A(c),u((g=t((h=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,o(t,"labelContent",g,i(t)),o(t,"labelTitle",y,i(t)),t}n(t,e);var r=t.prototype;return r.start=function(){s.runShowPanelEffect(this)},r.close=function(){s.runClosePanelEffect(this,(function(){}))},r.onOKClick=function(){this.close()},r.onCloseClick=function(){this.close()},t}(a)).prototype,"labelContent",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(h.prototype,"labelTitle",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=h))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/AppPlatform.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GFunction.ts","./PlatformByteDance.ts","./PlatformIOS.ts","./PlatformAndroid.ts"],(function(t){var n,e,i,r,o,a,s,c,l,u,A,d,R,_;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass},function(t){i=t.cclegacy,r=t._decorator,o=t.log,a=t.js,s=t.warn,c=t.sys,l=t.native,u=t.Component},function(t){A=t.enumSetKeysAsValues},function(t){d=t.PlatformByteDance},function(t){R=t.PlatformIOS},function(t){_=t.PlatformAndroid}],execute:function(){i._RF.push({},"994f76uF0xHr5U12LAqiQLd","AppPlatform",void 0);var S=t("AppPlatformF",function(t){return t.enableAd="",t.enableRank="",t.enableStore="",t.isInterstitialAdReady="",t.requestInterstitialAd="",t.showInterstitialAd="",t.isRewardedAdReady="",t.requestRewardedAd="",t.showRewardedAd="",t.isRewardedInterstitialAdReady="",t.requestRewardedInterstitialAd="",t.showRewardedInterstitialAd="",t.setBannerAdMaxHeight="",t.showBannerAd="",t.hideBannerAd="",t.showInAppRating="",t.openAppStoreReview="",t.purchaseProduct="",t.restorePurchase="",t.reportScore="",t.reportMagics="",t.showRank="",t.showShareMenu="",t.getDeviceModel="",t.getSystemVersion="",t.canOpenURL="",t.setupConfigs="",t.loadModule="",t.getInfos="",t}({}));A(S);var f=S;r.ccclass,r.property;t("AppPlatform",function(t){function i(){for(var n,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return(n=t.call.apply(t,[this].concat(i))||this).MSG_SHARE_COMPLETE="MSG_SHARE_COMPLETE",n.MSG_SYS_SHARE_COMPLETE="MSG_SYS_SHARE_COMPLETE",n.MSG_IAP_PURCHASE_BEGIN="MSG_IAP_PURCHASE_BEGIN",n.MSG_IAP_PURCHASE_FINISHED="MSG_IAP_PURCHASE_FINISHED",n.MSG_IAP_PURCHASE_RESTORED="MSG_IAP_PURCHASE_RESTORED",n.MSG_IAP_PURCHASE_FAILED="MSG_IAP_PURCHASE_FAILED",n.MSG_BANNER_AD_CLOSE_CLICKED="MSG_BANNER_AD_CLOSE_CLICKED",n.MSG_INTERSTITIAL_AD_READY="MSG_INTERSTITIAL_AD_READY",n.MSG_REWARDED_AD_READY="MSG_REWARDED_AD_READY",n.MSG_REWARDED_AD_BONUS="MSG_REWARDED_AD_BONUS",n.MSG_REWARDED_INSTERSTITIAL_AD_READY="MSG_REWARDED_INSTERSTITIAL_AD_READY",n.MSG_REWARDED_INSTERSTITIAL_AD_BONUS="MSG_REWARDED_INSTERSTITIAL_AD_BONUS",n._infos=null,n}n(i,t);var r=i.prototype;return r.onLoad=function(){var t=this;if(o(a.getClassName(this)+" onLoad()"),i._instance)return s(a.getClassName(this)+"} instance already existed!"),void(this.node.active=!1);i._instance=this,window.gNative=this,s("window['gNative'] = this;, for native calls."),c.isNative&&(l.bridge.onNative=function(n,e){t.notify(n,e)})},r.callFunction=function(t,n){console.log("AppPlatform::callFunction():"+t+" param:"+n);var e="";return n=n||"",c.isNative?c.os===c.OS.ANDROID?e=_.instance.callFunction(t,n):c.os!==c.OS.IOS&&c.os!==c.OS.OSX||(e=R.instance.callFunction(t,n)):c.platform==c.Platform.WECHAT_GAME||c.platform==c.Platform.BYTEDANCE_MINI_GAME&&(e=d.instance.callFunction(t,n)),console.log("AppPlatform::callFunction() typeof(result):"+typeof e),console.log("AppPlatform::callFunction() return:"+e),e},r.notify=function(t,n){console.log("AppPlatform::notify():"+t+" param:"+n),this.node.emit(t,n)},r.enableAd=function(){return this.callFunction(f.enableAd)},r.enableRank=function(){return this.callFunction(f.enableRank)},r.enableStore=function(){return this.callFunction(f.enableStore)},r.showBannerAd=function(){return this.callFunction(f.showBannerAd)},r.hideBannerAd=function(){return this.callFunction(f.hideBannerAd)},r.isInterstitialAdReady=function(){return"1"==this.callFunction(f.isInterstitialAdReady)},r.requestInterstitialAd=function(){return this.callFunction(f.requestInterstitialAd)},r.showInterstitialAd=function(){return this.callFunction(f.showInterstitialAd)},r.isRewardedAdReady=function(){return"1"==this.callFunction(f.isRewardedAdReady)},r.requestRewardedAd=function(){return this.callFunction(f.requestRewardedAd)},r.showRewardedAd=function(){return this.callFunction(f.showRewardedAd)},r.isRewardedInterstitialAdReady=function(){return"1"==this.callFunction(f.isRewardedInterstitialAdReady)},r.requestRewardedInterstitialAd=function(){return this.callFunction(f.requestRewardedInterstitialAd)},r.showRewardedInterstitialAd=function(){return this.callFunction(f.showRewardedInterstitialAd)},r.showInAppRating=function(){return this.callFunction(f.showInAppRating)},r.openAppStoreReview=function(){return this.callFunction(f.openAppStoreReview)},r.purchaseProduct=function(t){return this.callFunction(f.purchaseProduct,t)},r.restorePurchase=function(){return this.callFunction(f.restorePurchase)},r.showShareMenu=function(t,n){return this.callFunction(f.showShareMenu,JSON.stringify({content:t,url:n}))},r.getDeviceModel=function(){return this.callFunction(f.getDeviceModel)},r.getSystemVersion=function(){return this.callFunction(f.getSystemVersion)},r.reportScore=function(t){return this.callFunction(f.reportScore,t.toString())},r.reportMagics=function(t){return this.callFunction(f.reportMagics,t.toString())},r.showRank=function(){return this.callFunction(f.showRank)},r.canOpenURL=function(t){return"1"==this.callFunction(f.canOpenURL,t)},r.getInfos=function(){if(!this._infos){var t=this.callFunction(f.getInfos);t&&t.length>0&&(this._infos=JSON.parse(t))}return this._infos},r.setupConfigs=function(t){return this.callFunction(f.setupConfigs,t)},r.loadModule=function(t){return this.callFunction(f.loadModule,t)},e(i,null,[{key:"instance",get:function(){return i._instance}}]),i}(u))._instance=null,i._RF.pop()}}}));

System.register("chunks:///_virtual/AppPrivacyDialogUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts"],(function(t){var n,c,o,i,r;return{setters:[function(t){n=t.inheritsLoose},function(t){c=t.cclegacy,o=t._decorator,i=t.Component},function(t){r=t.gAppHelper}],execute:function(){var e;c._RF.push({},"26e17MkgrFDdId2dZlUDugY","AppPrivacyDialogUI",void 0);var s=o.ccclass;o.property,t("AppPrivacyDialogUI",s("AppPrivacyDialogUI")(e=function(t){function c(){for(var n,c=arguments.length,o=new Array(c),i=0;i<c;i++)o[i]=arguments[i];return(n=t.call.apply(t,[this].concat(o))||this).funcOK=null,n}n(c,t);var o=c.prototype;return o.start=function(){this.show()},o.show=function(){r.showPanel(this)},o.close=function(){r.closePanel(this)},o.onAcceptClick=function(){this.funcOK&&this.funcOK(),this.close()},c}(i))||e);c._RF.pop()}}}));

System.register("chunks:///_virtual/AppPrivacyPolicy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./i18n.ts","./GConfig.ts"],(function(t){var i,e,n,o,r,c,a,l,s,u,y,p;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,c=t._decorator,a=t.TextAsset,l=t.sys,s=t.Component},function(t){u=t.gAppUI},function(t){y=t.i18n},function(t){p=t.GConfig}],execute:function(){var P,f,h,v,x,g,d,C,m,T,b;r._RF.push({},"8d1287GlERPIo30TYtiKAKt","AppPrivacyPolicy",void 0);var w=c.ccclass,A=c.property;t("AppPrivacyPolicy",(P=w("AppPrivacyPolicy"),f=A(a),h=A(a),v=A(a),x=A(a),P((C=i((d=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),c=0;c<e;c++)r[c]=arguments[c];return i=t.call.apply(t,[this].concat(r))||this,n(i,"txtPrivacyPolicy",C,o(i)),n(i,"txtTermsCondition",m,o(i)),n(i,"txtPrivacyPolicyZh",T,o(i)),n(i,"txtTermsConditionZh",b,o(i)),i}e(i,t);var r=i.prototype;return r.start=function(){l.isNative||p.testing||(this.node.active=!1)},r.onPrivacyPolicyClick=function(){l.Language.CHINESE==l.language?u.showTextViewer(this.txtPrivacyPolicyZh.text,y.t("privacyPolicy")):u.showTextViewer(this.txtPrivacyPolicy.text,y.t("privacyPolicy"))},r.onTermsConditionClick=function(){l.Language.CHINESE==l.language?u.showTextViewer(this.txtTermsConditionZh.text,y.t("termsAndConditions")):u.showTextViewer(this.txtTermsCondition.text,y.t("termsAndConditions"))},i}(s)).prototype,"txtPrivacyPolicy",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=i(d.prototype,"txtTermsCondition",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=i(d.prototype,"txtPrivacyPolicyZh",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=i(d.prototype,"txtTermsConditionZh",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=d))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/AppRatingBoxUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./AppData.ts","./GConfig.ts"],(function(t){var e,n,i,o,r,a,c,s,l,p,u,h,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,c=t.Node,s=t.Component},function(t){l=t.gAppHelper,p=t.gAppUI,u=t.gAppPlatform},function(t){h=t.gAppData},function(t){f=t.GConfig}],execute:function(){var g,d,v,A,C,R,I;r._RF.push({},"518e4YdwaJDcqexFhoGsroi","AppRatingBoxUI",void 0);var S=a.ccclass,w=a.property;t("AppRatingBoxUI",(g=S("AppRatingBoxUI"),d=w(c),v=w(c),g((R=e((C=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"coinInfo",R,o(e)),i(e,"stars",I,o(e)),e.cbOK=null,e.selectedStar=5,e}n(e,t);var r=e.prototype;return r.start=function(){this.coinInfo.active=l.isChannelApproved(),l.showPanel(this)},r.onRatingClick=function(){var t=this;l.isVersionRated()||(h.ratedVersion=f.channel_version,l.scheduleOnce((function(){p.showRewardCollect(t.selectedStar+5,(function(){}))}),10)),h.inAppRatingShowedCount++,h.inAppRatingShowedCount<4?u.showInAppRating():u.openAppStoreReview(),this.cbOK&&this.cbOK(this.selectedStar),this.onCloseClick()},r.onCloseClick=function(){l.closePanel(this)},r.onStarClick=function(t){var e=t.target;if(e&&(console.log("onStarClick(), type:",e.name),this.selectedStar=parseInt(e.name),this.selectedStar>0))for(var n=this.stars.children,i=0;i<n.length;i++){var o=n[i];if(o.children.length>0){var r=o.children[0],a=parseInt(o.name);r.active=a<=this.selectedStar}}},e}(s)).prototype,"coinInfo",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(C.prototype,"stars",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=C))||A));r._RF.pop()}}}));

System.register("chunks:///_virtual/AppRatingButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts"],(function(t){var n,o,i,e,p,r,s;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,i=t._decorator,e=t.sys,p=t.Component},function(t){r=t.gAppHelper,s=t.gAppUI}],execute:function(){var c;o._RF.push({},"1110cbEl9tOdaJaF8pZYr0A","AppRatingButton",void 0);var u=i.ccclass;i.property,t("AppRatingButton",u("AppRatingButton")(c=function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var i=o.prototype;return i.start=function(){e.isNative&&r.isChannelApproved()&&!r.isVersionRated()||(this.node.active=!1)},i.onClick=function(){s.showRatingBox((function(t){}))},o}(p))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/AppRemoteConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GConfig.ts","./App.ts"],(function(o){var e,t,n,c,i,a;return{setters:[function(o){e=o.inheritsLoose},function(o){t=o.cclegacy,n=o._decorator,c=o.Component},function(o){i=o.GConfig},function(o){a=o.gAppUtils}],execute:function(){var r,l;t._RF.push({},"415edTcpihJUbJRhAQEdujR","AppRemoteConfig",void 0);var s=n.ccclass,p=(n.property,"AppRemoteConfig"),d=i;o("AppRemoteConfig",s("AppRemoteConfig")(((l=function(o){function t(){for(var e,t=arguments.length,n=new Array(t),c=0;c<t;c++)n[c]=arguments[c];return(e=o.call.apply(o,[this].concat(n))||this).downloaded=!1,e}e(t,o);var n=t.prototype;return n.onLoad=function(){var o=this;console.log("AppRemoteConfigCtl onLoad()"),this.loadData(),console.log("RemoteConfig:",d),this.schedule((function(){o.downloaded||o.downloadRemote()}),60,3,1)},n.start=function(){console.log("AppRemoteConfigCtl start()")},n.loadData=function(){a.loadObject(p,d)},n.saveData=function(){},n.downloadRemote=function(){var o=this,e=d.remote_config_url;a.request(e,(function(e,n){if(console.log(n),!e){var c=n;try{c=JSON.parse(n)}catch(o){console.error(n)}"good"==c.secrect_code?(console.log("AppRemoteConfig:good!"),a.saveObject(p,c),o.loadData(),o.downloaded=!0,o.node.emit(t.EVT_UPDATED)):console.log("AppRemoteConfig: no valid secrect.")}}))},t}(c)).EVT_UPDATED="EVT_UPDATED",r=l))||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/AppRes.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GConst.ts"],(function(e){var n,r,t,a,o,s,u,l,i,d,c,p,f,B,g;return{setters:[function(e){n=e.inheritsLoose,r=e.asyncToGenerator,t=e.regeneratorRuntime},function(e){a=e.cclegacy,o=e._decorator,s=e.log,u=e.resources,l=e.warn,i=e.Prefab,d=e.assetManager,c=e.error,p=e.Component},function(e){f=e.BUNDLE_INFO,B=e.DIR_PREFAB,g=e.DIR_VIEW}],execute:function(){var b;a._RF.push({},"e897fUJ3f1IwpOLRkWTX4Xn","AppRes",void 0);var h=o.ccclass;o.property,e("AppRes",h("AppRes")(b=function(e){function a(){for(var n,r=arguments.length,t=new Array(r),a=0;a<r;a++)t[a]=arguments[a];return(n=e.call.apply(e,[this].concat(t))||this).mapBundles=new Map,n.mapPrefabs=new Map,n.isPrefabDirLoaded=!1,n}n(a,e);var o=a.prototype;return o.start=function(){s("AppRes.start()"),this.mapBundles.set("resources",u)},o.preloadBundleDirs=function(){var e=r(t().mark((function e(){var n,r,a,o,u=this;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],r=t().mark((function e(){var r,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=f[a],o=new Promise((function(e,n){u.loadBundle(r.bundleName,(function(){r.preload&&(u.loadBundleDir(r.bundleName,g,(function(){})),u.loadBundleDir(r.bundleName,B,(function(){}))),e(0)}))})),n.push(o);case 3:case"end":return e.stop()}}),e)})),e.t0=t().keys(f);case 3:if((e.t1=e.t0()).done){e.next=8;break}return a=e.t1.value,e.delegateYield(r(),"t2",6);case 6:e.next=3;break;case 8:return e.next=10,Promise.all(n);case 10:o=e.sent,s("AppRes.preloadBundleDirs() res = "+o);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o.getPrefab=function(e){var n;return(n=this.mapPrefabs.get(e))||l("getPrefab("+e+") is null!"),n},o.getBundle=function(e){s("AppRes.getBundle("+e+")");var n;return(n=this.mapBundles.get(e))||l("bundle "+e+" not loaded!"),n},o.getView=function(e){return s("AppRes.getView("+e+")"),this.getPrefab(e)},o.getBundleNameByView=function(e){for(var n in f){var r=f[n];if(r.views&&r.views.indexOf(e)>=0)return r.bundleName}return null},o.loadBundleDir=function(e,n,r){var t=this;s("AppRes.loadBundlePrefabs("+e+")");var a=this.getBundle(e);a?a.loadDir(""+n,i,(function(e,a){if(e)l("loadDir("+n+") error:"+e.message);else{for(var o=0;o<a.length;o++)s("prefabs: arrData[i]:"+a[o].name),t.mapPrefabs.set(a[o].name,a[o]);r&&r(a)}})):this.loadBundle(e,(function(){t.loadBundleDir(e,n,r)}))},o.loadBundle=function(e,n){var r=this;s("AppRes.loadBundle("+e+")"),d.loadBundle(e,(function(t,a){t?c("loadBundle("+e+") error:"+t):(s("AppRes bundle loaded:"+e),r.mapBundles.set(e,a),n&&n(a))}))},o.loadBundlePrefab=function(e,n,r,t){var a=this;console.log("AppRes.loadBundlePrefab("+e+", "+n+", "+r+")"),r=r||B;var o=this.getBundle(e);o?o.load(r+"/"+n,i,(function(e,r){e?l("loadPrefab("+n+") error:"+e.message):(a.mapPrefabs.set(n,r),t&&t(r))})):this.loadBundle(e,(function(){a.loadBundlePrefab(e,n,r,t)}))},o.loadBundleView=function(e,n,r){console.log("AppRes.loadBundleView("+e+", "+n+")"),this.loadBundlePrefab(e,n,g,r)},o.loadView=function(e,n){console.log("AppRes.loadView("+e+")");var r=this.getBundleNameByView(e);r?this.loadBundleView(r,e,n):l("bundle "+r+" not found!")},a}(p))||b);a._RF.pop()}}}));

System.register("chunks:///_virtual/AppResolution.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,o,r,s,c;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy,o=t._decorator,r=t.size,s=t.view,c=t.Component}],execute:function(){var u,l;n._RF.push({},"4ba73XI1tJFV6v6Y2VfHO4m","AppResolution",void 0);var a=t("AppResolutionPolicy",function(t){return t[t.fixedHeightPortrait=0]="fixedHeightPortrait",t[t.fixedHeightLandscape=1]="fixedHeightLandscape",t[t.fixedWidthPortrait=2]="fixedWidthPortrait",t}({})),p=o.ccclass;o.property,t("AppResolution",p("AppResolution")(((l=function(t){function n(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this)._policy=a.fixedHeightPortrait,e._winSize=r(),e.lastCheckTime=0,e}e(n,t);var o=n.prototype;return o.isLargeH=function(){return s.getVisibleSize().height>=1136},o.isMiddleH=function(){return s.getVisibleSize().height<1136&&s.getVisibleSize().height>=1e3},o.isShortH=function(){return s.getVisibleSize().height<1e3},o.start=function(){},o.update=function(t){},o.adjustResolutionPolicy=function(){},i(n,[{key:"size",get:function(){return r(s.getVisibleSize())}},{key:"policy",get:function(){return this._policy},set:function(t){this._policy=t}}]),n}(c)).EVT_SIZE_CHANGED="EVT_SIZE_CHANGED",u=l))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/AppRewardCollectUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./AppCoinInfo.ts","./AppUser.ts","./AppAudioRes.ts"],(function(o){var n,t,e,i,l,c,r,a,s,u,p,d,f,h,y,C,g,w,b,v,A;return{setters:[function(o){n=o.applyDecoratedDescriptor,t=o.inheritsLoose,e=o.initializerDefineProperty,i=o.assertThisInitialized},function(o){l=o.cclegacy,c=o._decorator,r=o.Node,a=o.Label,s=o.v3,u=o.tween,p=o.quat,d=o.find,f=o.Component,h=o.instantiate,y=o.bezier,C=o.sys},function(o){g=o.gAppHelper,w=o.gAppAudioPlayer},function(o){b=o.AppCoinInfo},function(o){v=o.gAppUser},function(o){A=o.AUD}],execute:function(){var I,P,m,S,O,U,z,R,x;l._RF.push({},"38dbcTKQupCa7BuY0YeJSmZ","AppRewardCollectUI",void 0);var D=c.ccclass,L=c.property;o("AppRewardCollectUI",(I=D("AppRewardCollectUI"),P=L(r),m=L(r),S=L(a),I((z=n((U=function(o){function n(){for(var n,t=arguments.length,l=new Array(t),c=0;c<t;c++)l[c]=arguments[c];return n=o.call.apply(o,[this].concat(l))||this,e(n,"lighting",z,i(n)),e(n,"coinIcon",R,i(n)),e(n,"labelCount",x,i(n)),n.destroyOnClose=!1,n.onComplete=null,n.count=0,n.coinScaleOrg=s(1,1,1),n}t(n,o);var l=n.prototype;return l.setParams=function(o,n){this.destroyOnClose=!0,this.count=o,this.onComplete=n},l.onLoad=function(){this.coinScaleOrg=s(this.coinIcon.scale),this.labelCount.node.active=!1},l.start=function(){this.show()},l.show=function(){g.showPanel(this),u(this.coinIcon).set({scale:s(0,0,1)}).to(.2,{scale:this.coinScaleOrg}).start(),this.scheduleOnce(this.onGiftClick,.5)},l.close=function(){g.closePanel(this)},l.onGiftClick=function(){var o=this;u(this.lighting).by(10,{rotation:p(0,0,1,0)}).repeatForever().start(),this.coinIcon.active=!0;var n=this.collectCoins();this.scheduleOnce((function(){o.onComplete&&o.onComplete(),o.close()}),n)},l.collectCoins=function(){for(var o=this,n=0,t=s(b.coinWorldPos),e=d("Canvas"),i=.1,l=this.count,c=function(c){var r=c,a=h(o.coinIcon);a.parent=e;a.worldPosition;u(a).delay(i).call((function(){o.labelCount.node.active=!0,o.labelCount.string=(c+1).toString()})).to(.5,{scale:s(.1,.1,1)},{onUpdate:function(o,n){var e=y(a.worldPosition.x,a.worldPosition.x+20,t.x+20,t.x,n),i=y(a.worldPosition.y,a.worldPosition.y+20,t.y+20,t.y,n);a.worldPosition=s(e,i,a.worldPosition.z)}}).call((function(){r<l-1?(v.addCoin(1),C.now()-n>=100&&(w.playSound(A.AddGold),n=C.now())):(v.addCoin(1),w.playSound(A.BuyMagics),u(o.coinIcon).to(.1,{scale:s(1.5*o.coinScaleOrg.x,1.5*o.coinScaleOrg.y,1)}).delay(.1).to(.1,{scale:o.coinScaleOrg}).start())})).removeSelf().start(),i+=c<9?.1:.05},r=0;r<l;r++)c(r);return i+=.8},n}(f)).prototype,"lighting",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=n(U.prototype,"coinIcon",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=n(U.prototype,"labelCount",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=U))||O));l._RF.pop()}}}));

System.register("chunks:///_virtual/AppRewardMessageUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./AppCoinInfo.ts","./AppUser.ts"],(function(e){var t,n,o,i,r,l,a,s,c,u,p,d,f,g,h,C,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,a=e.Label,s=e.Node,c=e.Button,u=e.v3,p=e.tween,d=e.find,f=e.Component,g=e.instantiate},function(e){h=e.gAppUI},function(e){C=e.AppCoinInfo},function(e){b=e.gAppUser}],execute:function(){var w,y,v,I,R,A,m,P,U,z,O;r._RF.push({},"0be0eviaolFFJi0XuVBpoZW","AppRewardMessageUI",void 0);var B=l.ccclass,F=l.property;e("AppRewardMessageUI",(w=B("AppRewardMessageUI"),y=F(a),v=F(s),I=F(c),R=F(s),w((P=t((m=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,o(t,"labelRewardCount",P,i(t)),o(t,"nodeCoinIcon",U,i(t)),o(t,"buttonOK",z,i(t)),o(t,"lighting",O,i(t)),t.destroyOnClose=!1,t.funcCollected=null,t}n(t,e);var r=t.prototype;return r.setParams=function(e,t){this.destroyOnClose=!0,this.labelRewardCount.string=e.toString(),this.funcCollected=t},r.start=function(){this.show()},r.show=function(){var e=this.node.getChildByName("Panel");e.setScale(u(0,0,1)),p(e).to(.1,{scale:u(1,1,1)}).start(),p(this.lighting).by(5,{angle:-360}).union().repeatForever().start()},r.close=function(){var e=this,t=this.node.getChildByName("Panel");p(t).to(.1,{scale:u(0,0,1)}).call((function(){e.destroyOnClose?e.node.destroy():e.node.active=!1})).start()},r.onOKClick=function(){var e=parseInt(this.labelRewardCount.string);h.showRewardCollect(e,this.funcCollected),this.close()},r.onCloseClick=function(){h.antiDoubleClicks(),this.close()},r.collectCoins=function(){for(var e,t=this,n=u(C.coinWorldPos),o=d("Canvas"),i=0,r=parseInt(this.labelRewardCount.string),l=0;l<r;l++)e=void 0,(e=g(t.nodeCoinIcon)).parent=o,p(e).delay(i).call((function(){t.labelRewardCount.string=(parseInt(t.labelRewardCount.string)-1).toString()})).to(.5,{worldPosition:n,scale:u(.1,.1,1)}).call((function(){b.addCoin(1)})).removeSelf().start(),i+=.1;return i},t}(f)).prototype,"labelRewardCount",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(m.prototype,"nodeCoinIcon",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(m.prototype,"buttonOK",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(m.prototype,"lighting",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=m))||A));r._RF.pop()}}}));

System.register("chunks:///_virtual/AppSceneLoaderUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts"],(function(e){var t,n,o,c,r,a,i,s,p;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,c=e.UIOpacity,r=e.tween,a=e.director,i=e.Label,s=e.Component},function(e){p=e.gAppUI}],execute:function(){var l;n._RF.push({},"caac5sBN5FBRaQDTAWvcO/t","AppSceneLoaderUI",void 0);var u=o.ccclass;o.property,e("AppSceneLoaderUI",u("AppSceneLoaderUI")(l=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(t=e.call.apply(e,[this].concat(o))||this).strScene="",t}return t(n,e),n.prototype.start=function(){var e,t=this,n=this.node.getComponent(c);n||console.error("compnent missing: UIOpacity"),n.opacity=0,r(n).to(.3,{opacity:255}).call((function(){a.loadScene(t.strScene,(function(e,t){p.showFadeOut()}))})).start();var o=null==(e=this.node.getChildByName("LabelLoading"))?void 0:e.getComponent(i);o&&r(o.node).hide().delay(3).show().call((function(){var e=o.string,n=0,c=[".","..","..."];t.schedule((function(){o.string=e+c[n++%c.length]}),.5,100)})).start()},n}(s))||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/AppSetterForEditor.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var r,e,i,n,o,a,c;return{setters:[function(t){r=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,c=t.Component}],execute:function(){var p,s,u,l,d;o._RF.push({},"64f8ciH2c5LkIz8BBAHk9Zq","AppSetterForEditor",void 0);var f=a.ccclass,E=a.property,y=a.executeInEditMode;t("AppSetterForEditor",f("AppSetterForEditor")(p=y(!0)(((d=function(t){function r(){for(var r,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o))||this,i(r,"isPortrait",u,n(r)),i(r,"isLandscape",l,n(r)),r}e(r,t);var o=r.prototype;return o.start=function(){},o.update=function(t){},r}(c)).EVT_SETTING_CHANGE="EVT_SETTING_CHANGE",d.landscaping=!1,d.portraiting=!1,u=r((s=d).prototype,"isPortrait",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),l=r(s.prototype,"isLandscape",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),p=s))||p)||p);o._RF.pop()}}}));

System.register("chunks:///_virtual/AppShareButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./PopData.ts","./AppData.ts","./GConfig.ts","./PlatformByteDance.ts"],(function(n){var t,o,e,r,a,i,c,s,u,p,l,h;return{setters:[function(n){t=n.inheritsLoose},function(n){o=n.cclegacy,e=n._decorator,r=n.log,a=n.sys,i=n.Component},function(n){c=n.gAppUI,s=n.gAppPlatform},function(n){u=n.gPopData},function(n){p=n.gAppData},function(n){l=n.GConfig},function(n){h=n.PlatformByteDance}],execute:function(){var f;o._RF.push({},"028c1csa6xN8bru2DBisTgv","AppShareButton",void 0);var g=e.ccclass;e.property,n("AppShareButton",g("AppShareButton")(f=function(n){function o(){return n.apply(this,arguments)||this}t(o,n);var e=o.prototype;return e.start=function(){},e.onClick=function(){r("AppShareButton.onClick()");var n=l.share_url,t="My HighScore:("+u.highScore+").\n Come play with me in PopCandy Game.";a.isBrowser?navigator.share&&navigator.share({title:t,url:n}).then((function(){console.log("Thanks for sharing!")})).catch(console.error):h.instance.isDouyin()?h.instance.share("",null,null,null,(function(){a.now()-p.shareClaimTime>864e5&&(c.showRewardCollect(5,(function(){})),p.shareClaimTime=a.now())})):s.showShareMenu(t,n)},o}(i))||f);o._RF.pop()}}}));

System.register("chunks:///_virtual/AppSoundButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./AppData.ts"],(function(t){var n,o,e,u,i,r,a,c,p,s;return{setters:[function(t){n=t.applyDecoratedDescriptor,o=t.inheritsLoose,e=t.initializerDefineProperty,u=t.assertThisInitialized},function(t){i=t.cclegacy,r=t._decorator,a=t.Node,c=t.Component},function(t){p=t.gAppAudioPlayer},function(t){s=t.gAppData}],execute:function(){var l,d,f,h,y,m,v;i._RF.push({},"ccd241YjN9FT7PenXEdTmLy","AppSoundButton",void 0);var A=r.ccclass,g=r.property;t("AppSoundButton",(l=A("AppSoundButton"),d=g(a),f=g(a),l((m=n((y=function(t){function n(){for(var n,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return n=t.call.apply(t,[this].concat(i))||this,e(n,"soundOn",m,u(n)),e(n,"soundOff",v,u(n)),n}o(n,t);var i=n.prototype;return i.start=function(){this.updateButtton()},i.updateButtton=function(){this.soundOn.active=s.musicVolume>=.5,this.soundOff.active=!this.soundOn.active},i.onClick=function(){var t=s.musicVolume>.5?0:1;p.setMusicVolume(t),p.setSoundVolume(t),this.updateButtton()},n}(c)).prototype,"soundOn",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=n(y.prototype,"soundOff",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=y))||h));i._RF.pop()}}}));

System.register("chunks:///_virtual/AppStarterView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./GConst.ts"],(function(e){var t,r,i,n,o,a,s,l,p,c,u,g,d,h,y,b,f,m,S,k;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,s=e.Node,l=e.ProgressBar,p=e.Label,c=e.UITransform,u=e.v3,g=e.sys,d=e.tween,h=e.UIOpacity,y=e.Component},function(e){b=e.gAppRes,f=e.gAppUtils,m=e.gAppDirector},function(e){S=e.DESIGN_H,k=e.VIEW_HOME}],execute:function(){var w,P,_,v,L,A,C,N,B,H,V,z,E;o._RF.push({},"e7182ZtJFJJdpoIe/rA71ZQ","AppStarterView",void 0);var I=a.ccclass,D=a.property;e("AppStarterView",(w=I("AppStarterView"),P=D(s),_=D(l),v=D(p),L=D(s),A=D(s),w((B=t((N=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"sparklePoint",B,n(t)),i(t,"progressBar",H,n(t)),i(t,"labelProgress",V,n(t)),i(t,"candyWithStick",z,n(t)),i(t,"candyNoStick",E,n(t)),t._tweenCandyNoStick=null,t._bResLoaded=!1,t._bTimesUp=!1,t._bHomeViewLoaded=!1,t}r(t,e);var o=t.prototype;return o.onLoad=function(){var e=this,t=this.sparklePoint.position.y/S,r=this.sparklePoint.parent,i=r.getComponent(c);r.on(s.EventType.SIZE_CHANGED,(function(){e.sparklePoint.position=u(e.sparklePoint.position.x,t*i.height,e.sparklePoint.position.z)}))},o.start=function(){var e=this;this.progressBar.progress=0,g.language==g.Language.CHINESE?this.labelProgress.string="":this.labelProgress.string="Loading",this.schedule((function(){e.updateProgress()}),.02,89),this.scheduleOnce((function(){e._bTimesUp=!0,e.schedule((function(){e.updateProgress()}),.5,8)}),3),b.preloadBundleDirs().then((function(){e._bResLoaded=!0,e.schedule((function(){e.updateProgress()}),.02,8)})),this._tweenCandyNoStick=d(this.candyNoStick).by(.5,{angle:-45}).repeatForever().start()},o.updateProgress=function(){var e=f.formatFloat(this.progressBar.progress+.01,3);this.progressBar.progress=Math.min(1,e),console.log("LoadingView.updateProgress() f="+e),this.progressBar.progress>=1&&this.loadHomeScene()},o.loadHomeScene=function(){if(!this._bHomeViewLoaded&&this._bResLoaded&&this._bTimesUp){this._bHomeViewLoaded=!0,d(this.progressBar.getComponent(h)).to(.5,{opacity:0}).start(),d(this.candyNoStick.getComponent(h)).to(.5,{opacity:0}).start(),d(this.candyWithStick.getComponent(h)).to(.5,{opacity:255}).start(),this._tweenCandyNoStick.stop();var e=.5*Math.abs(this.candyWithStick.angle/45);e>.5?e=.5:e<.1&&(e=.1),d(this.candyWithStick).to(e,{angle:0}).by(.5,{angle:-45}).by(.5,{angle:45}).by(.5,{angle:-45}).by(.5,{angle:45}).delay(.3).call((function(){m.loadView(k)})).start()}},t}(y)).prototype,"sparklePoint",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(N.prototype,"progressBar",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(N.prototype,"labelProgress",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(N.prototype,"candyWithStick",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(N.prototype,"candyNoStick",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=N))||C));o._RF.pop()}}}));

System.register("chunks:///_virtual/AppStoreHelper.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./AppUser.ts","./GConfig.ts","./i18n.ts"],(function(o){var r,e,n,c,t,i,u,s,d,p,a;return{setters:[function(o){r=o.inheritsLoose},function(o){e=o.cclegacy,n=o._decorator,c=o.log,t=o.Component},function(o){i=o.gAppPlatform,u=o.gAppUI,s=o.gAppAdHelper},function(o){d=o.gUserData},function(o){p=o.GConfig},function(o){a=o.i18n}],execute:function(){var h;e._RF.push({},"84e49ZktYlMFITaEYqCgy+T","AppStoreHelper",void 0);var l=n.ccclass;n.property;o("AppStoreHelper",l("AppStoreHelper")(h=function(o){function e(){for(var r,e=arguments.length,n=new Array(e),c=0;c<e;c++)n[c]=arguments[c];return(r=o.call.apply(o,[this].concat(n))||this).isPurchasing=!1,r}r(e,o);var n=e.prototype;return n.getProducts=function(){return[{id:p.product_rewarded_ad,icon:"coin",xSymbol:"x",count:5,description:"",currency:"",price:a.t("free"),hot:!1},{id:p.product_buy100,icon:"coin",xSymbol:"x",count:100,description:"",currency:"$",price:"9.99",hot:!0},{id:p.product_buy50,icon:"coin",xSymbol:"x",count:50,description:"",currency:"$",price:"8.99",hot:!1},{id:p.product_buy35,icon:"coin",xSymbol:"x",count:35,description:"",currency:"$",price:"5.99",hot:!1},{id:p.product_buy18,icon:"coin",xSymbol:"x",count:18,description:"",currency:"$",price:"2.99",hot:!1},{id:p.product_buy5,icon:"coin",xSymbol:"x",count:5,description:"",currency:"$",price:"0.99",hot:!1},{id:p.product_remove_ad,icon:"",xSymbol:"",count:1,description:a.t("noAds"),currency:"$",price:"0.99",hot:!1},{id:p.product_restore_purchased,icon:"",xSymbol:"",count:1,description:a.t("purchasedItem"),currency:"",price:a.t("restore"),hot:!1}]},n.start=function(){var o=this;i.node.on(i.MSG_IAP_PURCHASE_BEGIN,(function(r){console.log("MSG_IAP_PURCHASE_BEGIN:"+r),u.showWaiting(),o.isPurchasing=!0})),i.node.on(i.MSG_IAP_PURCHASE_FINISHED,(function(r){console.log("MSG_IAP_PURCHASE_FINISHED:"+r),o.handlePurchaseFinished(r),u.hideWaiting(),o.isPurchasing=!1})),i.node.on(i.MSG_IAP_PURCHASE_FAILED,(function(r){console.log("MSG_IAP_PURCHASE_FAILED:"+r),u.hideWaiting(),r&&r.length>0?"user_canceled"!=r&&u.showTips("Purchase error:, "+r):u.showTips("Purchase error!"),o.isPurchasing=!1})),i.node.on(i.MSG_IAP_PURCHASE_RESTORED,(function(r){console.log("MSG_IAP_PURCHASE_RESTORED:"+r),o.handlePurchasedRestored(r),u.hideWaiting(),o.isPurchasing=!1}))},n.purchase=function(o){c("AppStoreHelper.purchase("+o+")");var r=this.getProducts().find((function(r,e,n){return r.id==o}));r||u.showTips("No product found for:"+o),i.purchaseProduct(r.id)},n.restorePurchasedItems=function(){i.restorePurchase()},n.coinsOfProduct=function(o){var r=0,e=this.getProducts().find((function(r,e,n){return r.id==o}));return e&&(r=e.count),r},n.handlePurchaseFinished=function(o){var r=this.coinsOfProduct(o);r>0?u.showRewardCollect(r,(function(){})):o==p.product_remove_ad&&(d.adRemoved=!0,s.hideBannerAd())},n.handlePurchasedRestored=function(o){o==p.product_remove_ad&&(d.adRemoved=!0,s.hideBannerAd(),u.showTips("Purchased item restoring completed!"))},e}(t))||h);e._RF.pop()}}}));

System.register("chunks:///_virtual/AppStoreItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GConfig.ts"],(function(e){var t,i,n,r,l,o,a,c,u,s,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){l=e.cclegacy,o=e._decorator,a=e.Node,c=e.Label,u=e.log,s=e.Component},function(e){p=e.GConfig}],execute:function(){var b,h,m,f,d,I,y,g,C,v,S,w,z,_,D,A,P,T,x,E;l._RF.push({},"9b0a0DP75lNzb064Qosogds","AppStoreItem",void 0);var L=o.ccclass,R=o.property;e("AppStoreItemInfo",(function(){this.id="",this.icon="coin",this.xSymbol="x",this.count=0,this.description="",this.currency="$",this.price="0.99",this.hot=!1})),e("AppStoreItem",(b=L("AppStoreItem"),h=R(a),m=R(c),f=R(c),d=R(c),I=R(c),y=R(c),g=R(a),C=R(a),b(((E=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];return t=e.call.apply(e,[this].concat(l))||this,n(t,"icon",w,r(t)),n(t,"labelX",z,r(t)),n(t,"labelCount",_,r(t)),n(t,"labelDescriptioin",D,r(t)),n(t,"labelCurrency",A,r(t)),n(t,"labelPrice",P,r(t)),n(t,"hotItem",T,r(t)),n(t,"adRewardItem",x,r(t)),t.itemId="",t}i(t,e);var l=t.prototype;return l.start=function(){u("AppStoreItem.start()")},l.update=function(e){},l.updateItem=function(e){this.itemId=e.id,this.icon.active=e.icon.length>0,this.labelX.string=e.xSymbol,this.labelX.node.active=e.xSymbol.length>0,this.labelCount.string=""+e.count,this.labelCount.node.active=e.xSymbol.length>0,this.labelDescriptioin.string=e.description,this.labelDescriptioin.string.length>0&&(this.labelDescriptioin.fontSize=26),this.labelCurrency.string=e.currency,this.labelCurrency.node.active=e.currency.length>0,this.labelPrice.string=e.price,this.labelCurrency.node.active||(this.labelPrice.fontSize=26),this.hotItem.active=e.hot,this.adRewardItem.active=this.itemId==p.product_rewarded_ad},l.onItemButtonClick=function(e){u("AppStoreItem.onItemButtonClick()"),u("itemId: "+this.itemId),this.node.emit(t.EVT_ITEM_CLICK,this.itemId)},t}(s)).EVT_ITEM_CLICK="EVT_ITEM_CLICK",w=t((S=E).prototype,"icon",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(S.prototype,"labelX",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(S.prototype,"labelCount",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(S.prototype,"labelDescriptioin",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(S.prototype,"labelCurrency",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(S.prototype,"labelPrice",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(S.prototype,"hotItem",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(S.prototype,"adRewardItem",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=S))||v));l._RF.pop()}}}));

System.register("chunks:///_virtual/AppStoreUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./AppStoreItem.ts","./GConfig.ts","./i18n.ts","./GConst.ts"],(function(t){var e,n,i,o,r,c,a,s,l,u,p,d,h,f,g,b,w,C;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,c=t._decorator,a=t.Node,s=t.Label,l=t.instantiate,u=t.log,p=t.Component},function(t){d=t.gAppUI,h=t.gAppStoreHelper,f=t.gAppAdHelper},function(t){g=t.AppStoreItem},function(t){b=t.GConfig},function(t){w=t.i18n},function(t){C=t.EFFECT_SLIDE_UP_DOWN}],execute:function(){var A,I,v,y,m,P,_,S,k,R,E;r._RF.push({},"2418cOEU4JDOLqbYuSUKLnv","AppStoreUI",void 0);var U=c.ccclass,D=c.property,O=0;t("AppStoreUI",(A=U("AppStoreUI"),I=D(a),v=D(a),y=D(s),m=D(a),A((S=e((_=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r))||this,i(e,"content",S,o(e)),i(e,"waiting",k,o(e)),i(e,"labelWaiting",R,o(e)),i(e,"loading",E,o(e)),e.waitingTicks=0,e.strWaitingOrg="Please Wait",e.waitingClickCount=0,e}n(e,t);var r=e.prototype;return r.start=function(){var t=this;this.strWaitingOrg=this.labelWaiting.string,d.runShowPanelEffect(this,C);var e=this.content.children[0];this.content.children.forEach((function(t){t.active=!1})),this.scheduleOnce((function(){for(var n=h.getProducts(),i=0;i<n.length;i++){var o=n[i],r=i<t.content.children.length?t.content.children[i]:l(e);r.parent=t.content,r.active=!0,r.getComponent(g).updateItem(o),r.on(g.EVT_ITEM_CLICK,t.onItemButtonClick,t)}t.scheduleOnce((function(){t.loading.active=!1}))}),O++?.3:1)},r.onItemButtonClick=function(t){u("AppStoreUI.onItemButtonClick("+t+")"),d.antiDoubleClicks(),b.product_rewarded_ad==t?f.isRewardedAdReady()?d.showVideoAdMessage((function(){f.showRewardedAd()})):d.showTips(w.t("videoAdRewardNotReady")):b.product_restore_purchased==t?this.onRestorePurchasedClick():this.buy(t)},r.onCloseClick=function(){d.runClosePanelEffect(this,(function(){}),C)},r.buy=function(t){h.isPurchasing?d.showTips(w.t("purchasing")):b.testing?d.showRewardCollect(h.coinsOfProduct(t),(function(){})):h.purchase(t)},r.onRestorePurchasedClick=function(){h.isPurchasing?d.showTips(w.t("purchasing")):(d.antiDoubleClicks(),h.restorePurchasedItems())},e}(p)).prototype,"content",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(_.prototype,"waiting",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(_.prototype,"labelWaiting",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(_.prototype,"loading",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=_))||P));r._RF.pop()}}}));

System.register("chunks:///_virtual/AppTextViewerUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts"],(function(e){var t,n,i,o,l,r,s,a,c,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){l=e.cclegacy,r=e._decorator,s=e.Label,a=e.RichText,c=e.Node,u=e.Component},function(e){p=e.gAppHelper}],execute:function(){var f,h,b,g,C,w,y,T,d;l._RF.push({},"fa59fT21NxKapz0eo1XT8YK","AppTextViewerUI",void 0);var v=r.ccclass,x=r.property;e("AppTextViewerUI",(f=v("AppTextViewerUI"),h=x(s),b=x(a),g=x(c),f((y=t((w=function(e){function t(){for(var t,n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return t=e.call.apply(e,[this].concat(l))||this,i(t,"labelTitle",y,o(t)),i(t,"labelContent",T,o(t)),i(t,"loading",d,o(t)),t.strContent="",t.onClose=null,t}n(t,e);var l=t.prototype;return l.setParams=function(e,t,n){this.strContent=e,this.labelTitle.string=t,this.onClose=n},l.start=function(){this.show()},l.show=function(){var e=this;p.showPanel(this),this.scheduleOnce((function(){e.labelContent.string=e.strContent,e.loading.active=!1}),.5)},l.close=function(){p.closePanel(this)},l.onCloseClick=function(){this.onClose&&this.onClose(),this.close()},t}(u)).prototype,"labelTitle",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(w.prototype,"labelContent",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=t(w.prototype,"loading",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=w))||C));l._RF.pop()}}}));

System.register("chunks:///_virtual/AppTipsUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts"],(function(t){var e,n,i,r,o,s,a,l,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator,a=t.Label,l=t.Component},function(t){p=t.gAppHelper}],execute:function(){var c,u,h,f,y;o._RF.push({},"e5b47hu9+lBB7l10N5DRXNy","AppTipsUI",void 0);var b=s.ccclass,d=s.property;t("AppTipsUI",(c=b("AppTipsUI"),u=d(a),c((y=e((f=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,i(e,"labelContent",y,r(e)),e.duration=3,e}n(e,t);var o=e.prototype;return o.setPrarams=function(t,e){this.labelContent.string=t,e&&(this.duration=e)},o.start=function(){var t=this;p.showPanel(this),this.scheduleOnce((function(){p.closePanel(t)}),this.duration)},e}(l)).prototype,"labelContent",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=f))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/AppUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AppLoadingUI.ts","./App.ts","./AppFadeOutUI.ts","./AppFadeInUI.ts","./GConst.ts","./AppTipsUI.ts","./AppTextViewerUI.ts","./AppLuckyUI.ts","./AppRewardMessageUI.ts","./AppRewardCollectUI.ts","./AppMessageBoxUI.ts","./AppStoreUI.ts","./AppPrivacyDialogUI.ts","./AppAboutUsUI.ts","./AppVideoAdMessageUI.ts","./AppRatingBoxUI.ts","./AppDebugUI.ts","./AppHotUpdateTestUI.ts","./AppBlockerUI.ts","./AppWaitingUI.ts","./AppMsgBoxUI.ts"],(function(t){var e,n,o,s,a,i,p,c,r,f,u,l,h,g,d,C,m,A,w,U,I,b,P,N,v,y,B,x,R,L,M,T,k,F,V,D;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,s=t.find,a=t.log,i=t.instantiate,p=t.error,c=t.js,r=t.v3,f=t.tween,u=t.view,l=t.UIOpacity,h=t.Component},function(t){g=t.AppLoadingUI},function(t){d=t.gAppRes,C=t.gAppAdHelper},function(t){m=t.AppFadeOutUI},function(t){A=t.AppFadeInUI},function(t){w=t.LAYER_UI,U=t.LAYER_FG1},function(t){I=t.AppTipsUI},function(t){b=t.AppTextViewerUI},function(t){P=t.AppLuckyUI},function(t){N=t.AppRewardMessageUI},function(t){v=t.AppRewardCollectUI},function(t){y=t.AppMessageBoxUI},function(t){B=t.AppStoreUI},function(t){x=t.AppPrivacyDialogUI},function(t){R=t.AppAboutUsUI},function(t){L=t.AppVideoAdMessageUI},function(t){M=t.AppRatingBoxUI},function(t){T=t.AppDebugUI},function(t){k=t.AppHotUpdateTestUI},function(t){F=t.AppBlockerUI},function(t){V=t.AppWaitingUI},function(t){D=t.AppMsgBoxUI}],execute:function(){var O;n._RF.push({},"9c1d4TRXiVEGbb6T4Q4vxEs","AppUI",void 0);var S=o.ccclass;o.property;function E(){return s(w)}function _(){return s(U)}t("AppUI",S("AppUI")(O=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var o=n.prototype;return o.addNode=function(t){E().addChild(t)},o.showPrefab=function(t,e,n){a("AppUI.showPrefab("+t+")");var o=i(d.getPrefab(""+t));return o&&(e&&e(o),o.parent=n||E()),o},o.runShowPanelEffect=function(t,e){var n=t.node.getChildByName("Panel");if(n)if(e){var o=r(n.position),s=u.getVisibleSize().height;f(n).set({position:r(o.x,o.y+s,o.z)}).by(.2,{position:r(0,-s,0)}).start()}else{var a=r(n.scale);n.setScale(r(0,0,1)),f(n).to(.1,{scale:a}).start()}else p(c.getClassName(t)+".Can't find Panel node.")},o.runClosePanelEffect=function(t,e,n){this.antiDoubleClicks();var o=t.node.getChildByName("Panel");if(o){var s=function(){e&&e(),t.node.destroy()};if(n){var a=u.getVisibleSize().height;f(o).by(.2,{position:r(0,a,0)}).call((function(){s()})).start()}else{var i=o.getComponent(l);i&&f(i).to(.18,{opacity:0}).start(),f(o).to(.18,{scale:r(.01,.01,1)}).call((function(){s()})).start()}}else p(c.getClassName(t)+".Can't find Panel node.")},o.showTips=function(t){this.showPrefab(c.getClassName(I),(function(e){e.getComponent(I).setPrarams(t)}))},o.showTextViewer=function(t,e,n){this.showPrefab(c.getClassName(b),(function(o){o.getComponent(b).setParams(t,e,n)}))},o.showLuckyCompass=function(){var t=this,e=function(e){t.showRewardCollect(e,(function(){C.showInterstitialAd()}))};this.showPrefab(c.getClassName(P),(function(t){t.getComponent(P).setParams(e)}))},o.showRewardMessage=function(t,e){this.showPrefab(c.getClassName(N),(function(n){n.getComponent(N).setParams(t,e)}))},o.showRewardCollect=function(t,e){this.showPrefab(c.getClassName(v),(function(n){n.getComponent(v).setParams(t,e)}))},o.showMessageBox=function(t,e,n,o){this.showPrefab(c.getClassName(y),(function(s){s.getComponent(y).setParams(t,e,n,o)}))},o.showStore=function(){E().getChildByName(""+c.getClassName(B))||this.showPrefab(c.getClassName(B),(function(t){}))},o.showPrivacyDialog=function(t){this.showPrefab(c.getClassName(x),(function(e){e.getComponent(x).funcOK=t}))},o.showAboutUs=function(){this.showPrefab(c.getClassName(R),(function(t){}))},o.showVideoAdMessage=function(t){this.showPrefab(c.getClassName(L),(function(e){var n=e.getComponent(L);t&&(n.cbOK=t)}))},o.showRatingBox=function(t){this.showPrefab(c.getClassName(M),(function(e){var n=e.getComponent(M);t&&(n.cbOK=t)}))},o.showDebug=function(){this.showPrefab(c.getClassName(T),(function(t){}))},o.showHotUpdateTest=function(){this.showPrefab(c.getClassName(k),(function(t){}))},o.showFadeIn=function(t){this.showPrefab(c.getClassName(A),(function(e){e.getComponent(A).onComplete=t}))},o.showFadeOut=function(t){this.showPrefab(c.getClassName(m),(function(e){e.getComponent(m).onComplete=t}))},o.showBlocker=function(){this.showPrefab(c.getClassName(F),(function(t){}))},o.hideBlocker=function(){var t=E().getChildByName(""+c.getClassName(F));t&&(t.destroy(),t.removeFromParent())},o.showWaiting=function(t){this.showPrefab(c.getClassName(V),(function(e){var n=e.getComponent(V);t&&(n.maxTouchCount=t)}))},o.hideWaiting=function(){var t=E().getChildByName(""+c.getClassName(V));t&&(t.destroy(),t.removeFromParent())},o.showLoading=function(){a("AppUI.showLoading()"),this.showPrefab(c.getClassName(g),(function(t){t.getComponent(g)}),_())},o.hideLoading=function(){a("AppUI.hideLoading()");var t=_().getChildByName(""+c.getClassName(g));t&&t.destroy()},o.antiDoubleClicks=function(){var t=this;this.showBlocker(),this.scheduleOnce((function(){t.hideBlocker()}),.3)},o.showMsgBox=function(t,e){this.showPrefab(c.getClassName(D),(function(n){var o=n.getComponent(D);o.labelContent.string=t,e&&(o.labelTitle.string=e)}))},n}(h))||O);n._RF.pop()}}}));

System.register("chunks:///_virtual/AppUser.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewModel.ts","./App.ts"],(function(t){var e,a,o,n,s,i,r;return{setters:[function(t){e=t.inheritsLoose},function(t){a=t.cclegacy,o=t._decorator,n=t.log,s=t.Component},function(t){i=t.VM},function(t){r=t.gAppUtils}],execute:function(){var c,u;a._RF.push({},"17b89CEjGZEz7deG939ysEa","AppUser",void 0);var p=o.ccclass,d=(o.property,t("gUserData",new function(){this.userId="",this.userName="",this.coin=100,this.purchasedCoin=0,this.adRemoved=!1,this.luckyBonusTime=0})),l="UserDataV2",h="gUserData",f=d,v=(t("AppUser",p("AppUser")(((u=function(a){function o(){return a.apply(this,arguments)||this}e(o,a);var s=o.prototype;return s.onLoad=function(){n("AppDataCtl.onLoad()"),v||(v=t("gAppUser",this),this.loadData(),this.bindVM())},s.bindVM=function(){var t=this;i.add(f,h,!0),i.bindPath(h,(function(e,a,o){t.scheduleOnce((function(){t.saveData()}))}),this)},s.loadData=function(){n("AppUser.loadData()");var t="DataUser",e=localStorage.getItem(t);if(e&&e.length>0)return n("Loading previous data of DataUser, "+e),r.loadObject(t,f),this.saveData(),void localStorage.removeItem(t);r.loadObject(l,f)},s.saveData=function(){r.saveObject(l,f)},s.addCoin=function(t){f.coin+=t,this.node.emit(o.EVT_COIN_CHANGED,t)},s.setAdRemoved=function(){f.adRemoved=!0},o}(s)).EVT_COIN_CHANGED="EVT_COIN_CHANGED",c=u))||c),t("gAppUser",null));a._RF.pop()}}}));

System.register("chunks:///_virtual/AppUtils.ts",["cc"],(function(e){var t,n,o,i,r,l,a,s,c,u,g,d,h,v,p;return{setters:[function(e){t=e.cclegacy,n=e.log,o=e.Node,i=e.director,r=e.warn,l=e.Component,a=e.js,s=e.Button,c=e.assetManager,u=e.error,g=e.view,d=e.find,h=e.UITransform,v=e.v3,p=e.tween}],execute:function(){t._RF.push({},"142d79hrZVO65VHxgdOGvzv","AppUtils",void 0);e("AppUtils",function(){function e(){}return e.createPersistNode=function(e){n("createPersistNode("+e);var t=new o(e);return t.parent=i.getScene(),i.addPersistRootNode(t),i.isPersistRootNode(t)||r("!director.isPersistRootNode()"),t},e.addClick=function(e,t,n,o){void 0===t&&(t=null),void 0===n&&(n=null),void 0===o&&(o=null);var i=new l.EventHandler;i.target=n,i.component=a.getClassName(n),i.handler=t||"onBtnClicked",i.customEventData=o||e.name;var r=e.getComponent(s).clickEvents;r.length=0,r.push(i)},e.addComponentNodeTo=function(e,t){console.log("AppUtils::addComponentNodeTo()");var n=a.getClassName(e);console.log("js.getClassName(classConstructor):",n);var i=new o(n),r=i.addComponent(e);return i.parent=t,r},e.bindClick=function(e,t,n,o){e.on(s.EventType.CLICK,(function(){t.call(n,o)}),n)},e.loadBundleRes=function(e,t,o){n("loadBundleRes("+e+","+t+")"),c.loadBundle(e,(function(n,i){n?u("loadBundle"+e+" error!"):i.load(t,(function(e,n){e?u("bundle.load"+t+" error!"):o&&o(n)}))}))},e.loadBundleDir=function(e,t,n){console.log("loadBundleDir(bundle,"+t+")"),e?e.loadDir(t,(function(e,t){e?console.error("bundle.loadDir(Prefab) error:",e):n(t)})):console.error("bundle is null!")},e.getBundleAsset=function(e,t){var n=null;return e?((n=e.get(t))||console.error("bundle.get("+t+") error!"),n):(console.error("bundle null!"),n)},e.getDateString=function(){var e,t=function(e){return e<10?"0"+e:String(e)},n=new Date;return t(n.getFullYear())+t(n.getMonth()+1)+t(n.getDate())+t(n.getHours())+t(n.getMinutes())+t(n.getSeconds())+((e=n.getMilliseconds())<10?"00"+e:e<100?"0"+e:String(e))},e.loadObject=function(e,t){var n=localStorage.getItem(e);if(n){var o=JSON.parse(n);Object.getOwnPropertyNames(o).forEach((function(e){t.hasOwnProperty(e)&&(t[e]=o[e])}))}},e.saveObject=function(e,t){localStorage.setItem(e,JSON.stringify(t))},e.addItemTo=function(e,t,n){if(t.push(e),t.length>n){var o=t.length-n;o>0&&o<t.length&&t.splice(0,o)}},e.request=function(e,t){console.log("AppUtils::request()",e);var n=new XMLHttpRequest;n.onreadystatechange=function(){4==n.readyState&&(console.log("xhr.status:",n.status),n.status>=200&&n.status<400?t(null,n.responseText):t("failed",n.status))},n.open("GET",e,!0),n.send()},e.printSizes=function(){var e=g.getDevicePixelRatio();console.log("view.getDevicePixelRatio():",e),console.log("view.getScaleX(),view.getScaleY():",g.getScaleX(),g.getScaleY());var t=g.getFrameSize();console.log("view.getFrameSize():",t.width,t.height),t=g.getCanvasSize(),console.log("view.getCanvasSize():",t.width,t.height);var n=d("Canvas").getComponent(h);console.log("find('Canvas'):",n.width,n.height),t=g.getVisibleSize(),console.log("view.getVisibleSize():",t.width,t.height),t=g.getVisibleSizeInPixel(),console.log("view.getVisibleSizeInPixel():",t.width,t.height),t=g.getViewportRect(),console.log("view.getViewportRect():",t.x,t.y,t.width,t.height),console.log("screen.width, height:",screen.width,screen.height),console.log("screen.availWidthHeight:",screen.availWidth,screen.availHeight),console.log("screen.pixelDepth:",screen.pixelDepth),console.log("window.devicePixelRatio:",window.devicePixelRatio)},e.bezierTo=function(e,t,n,o,i,r){r=r||Object.create(null);return r.onUpdate=function(t,r){var l,a,s,c,u,g;e.position=(s=o,c=i,u=(1-(l=r))*(1-l)*(a=n).x+2*l*(1-l)*s.x+l*l*c.x,g=(1-l)*(1-l)*a.y+2*l*(1-l)*s.y+l*l*c.y,v(u,g,0))},p(e).to(t,{},r)},e.compareVersion=function(e,t){for(var n=e.split("."),o=t.split("."),i=Math.max(n.length,o.length);n.length<i;)n.push("0");for(;o.length<i;)o.push("0");for(var r=0;r<i;r++){var l=parseInt(n[r]),a=parseInt(o[r]);if(l>a)return 1;if(l<a)return-1}return 0},e.formatFloat=function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/AppVideoAdButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts"],(function(t){var e,o,i,n,r,s,p,a,d,u,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,p=t.Node,a=t.UITransform,d=t.Component},function(t){u=t.gAppAdHelper,c=t.gAppUI}],execute:function(){var l,h,f,A,y;r._RF.push({},"dc1beZ8tXdDm6HYXo5WKbNi","AppVideoAdButton",void 0);var v=s.ccclass,b=s.property;t("AppVideoAdButton",(l=v("AppVideoAdButton"),h=b(p),l((y=e((A=function(t){function e(){for(var e,o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,i(e,"symbol",y,n(e)),e.width=60,e}o(e,t);var r=e.prototype;return r.start=function(){this.width=this.node.getComponent(a).width,this.updateButton(),this.schedule(this.updateButton,60,100,10)},r.updateButton=function(){this.node.active=u.isRewardedAdReady()},r.onClick=function(){var t=this;this.symbol.active=!1,c.showVideoAdMessage((function(){u.showRewardedAd(),t.node.active=!1}))},e}(d)).prototype,"symbol",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=A))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/AppVideoAdMessageUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts"],(function(e){var t,n,o,s,c;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,s=e.Component},function(e){c=e.gAppHelper}],execute:function(){var i;n._RF.push({},"bdc87M4T65EF5oad3LdS549","AppVideoAdMessageUI",void 0);var r=o.ccclass;o.property,e("AppVideoAdMessageUI",r("AppVideoAdMessageUI")(i=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))||this).cbOK=null,t}t(n,e);var o=n.prototype;return o.start=function(){c.showPanel(this)},o.onWatchClick=function(){this.cbOK&&this.cbOK(),c.closePanel(this)},o.onCloseClick=function(){c.closePanel(this)},n}(s))||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/AppWaitingUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./i18n.ts"],(function(t){var n,o,e,i,c,u,r,a;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,i=t.find,c=t.Label,u=t.Node,r=t.Component},function(t){a=t.i18n}],execute:function(){var s;o._RF.push({},"bad78TgmNtDiZ82YEvbcxs7","AppWaitingUI",void 0);var p=e.ccclass;e.property,t("AppWaitingUI",p("AppWaitingUI")(s=function(t){function o(){for(var n,o=arguments.length,e=new Array(o),i=0;i<o;i++)e[i]=arguments[i];return(n=t.call.apply(t,[this].concat(e))||this).maxTouchCount=100,n.touchCount=0,n}return n(o,t),o.prototype.start=function(){var t=this,n=i("Panel/Label",this.node),o=n?n.getComponent(c):null;if(o){var e=0,r=a.t("pleaseWait"),s=[".","..","...",""];this.schedule((function(){o.string=r+s[e++%s.length]}),1,100)}i("Bg",this.node).on(u.EventType.TOUCH_START,(function(){t.touchCount++,t.touchCount>=t.maxTouchCount&&t.node.destroy()}),this)},o}(r))||s);o._RF.pop()}}}));

System.register("chunks:///_virtual/AppWidgetMaxWH.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e,r,o,h,a;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,r=t._decorator,o=t.Widget,h=t.view,a=t.Component}],execute:function(){var n;e._RF.push({},"e9c29+8siBHf799cmQ3oqcH","AppWidgetMaxWH",void 0);var g=r.ccclass;r.property,t("AppWidgetMaxWH",g("AppWidgetMaxWH")(n=function(t){function e(){for(var i,e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return(i=t.call.apply(t,[this].concat(r))||this).maxWidth=1400,i.maxHeight=1400,i.leftOrg=0,i.rightOrg=0,i.topOrg=0,i.bottomOrg=0,i}i(e,t);var r=e.prototype;return r.start=function(){},r.updateLayout=function(){var t=this.getComponent(o);t.left=this.leftOrg,t.right=this.rightOrg,t.top=this.topOrg,t.bottom=this.bottomOrg;var i=h.getVisibleSize();i.width>this.maxWidth&&(t.left=t.right=(i.width-this.maxWidth)/2),i.height>this.maxHeight&&(t.top=t.bottom=(i.height-this.maxHeight)/2)},e}(a))||n);e._RF.pop()}}}));

System.register("chunks:///_virtual/CandyRopes.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./AppResolution.ts"],(function(n){var o,e,t,i,r,s,a,p,c,h,d;return{setters:[function(n){o=n.inheritsLoose},function(n){e=n.cclegacy,t=n._decorator,i=n.UIOpacity,r=n.tween,s=n.randomRange,a=n.v3,p=n.randomRangeInt,c=n.Component},function(n){h=n.gAppResolution},function(n){d=n.AppResolution}],execute:function(){var u;e._RF.push({},"fa4d2gf6btITZeZ9dmMpS7O","CandyRopes",void 0);var l=t.ccclass,f=(t.property,0);n("CandyRopes",l("CandyRopes")(u=function(n){function e(){for(var o,e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return(o=n.call.apply(n,[this].concat(t))||this).arrItems=[],o.arrDropDowns=[],o.droppingIndex=0,o._arrTweens=[],o}o(e,n);var t=e.prototype;return t.onLoad=function(){for(var n=0;n<this.node.children.length;n++){var o=this.node.children[n];0==n&&(f=o.position.y),this.arrItems[n]=this.node.children[n]}},t.onDestroy=function(){this._arrTweens.forEach((function(n){n.stop()}))},t.start=function(){var n=this;this.updateLayout(),h.node.on(d.EVT_SIZE_CHANGED,(function(){n.updateLayout()}),this);var o=this.getComponent(i);if(o){var e=o.opacity;o.opacity=0,this.scheduleOnce((function(){o.opacity=e;for(var t=0;t<n.node.children.length;t++){var i=n.node.children[t];i.position=i.position.add3f(0,200,0),r(i).by(s(.2,.6),{position:a(0,-200,0)}).start()}}))}},t.updateLayout=function(){var n=this,o=this.node.children.slice();this._arrTweens.forEach((function(n){n.stop()})),this._arrTweens=[],this.scheduleOnce((function(){o.forEach((function(n){n.position=a(n.position.x,f,n.position.z)})),n.ropeDown()}),3)},t.ropeDown=function(){var n=this;if(!(this._arrTweens.length>0)){var o=this.node.children.slice();o=o.sort((function(n,o){return p(-50,50)}));for(var e=function(){var e=o[t],i=a(e.position),p=r(e).set({position:a(i.x,f,i.z)}).delay(0==t?1:s(1.5,3)).by(.2,{position:a(0,t>0?0:10,0)},{easing:"linear"}).by(.3,{position:a(0,t>0?0:-20,0)},{easing:"linear"}).by(.2,{position:a(0,t>0?0:10,0)},{easing:"linear"}).by(1,{position:a(0,-100,0)}).by(1,{position:a(0,100,0)}).call((function(){n._arrTweens.splice(n._arrTweens.indexOf(p),1)})).start();n._arrTweens.push(p),0==t&&n.scheduleOnce((function(){n.ropeDown()}),7)},t=0;t<1;t++)e()}},t.ropeDown1=function(){var n=this;if(!(this._arrTweens.length>0)){for(var o=this.node.children,e=[this.droppingIndex],t=p(1,o.length+1);e.length<t;)for(var i=p(0,t);i<o.length;i++)if(e.indexOf(i)<0){e.push(i);break}e=e.sort((function(o,e){return o==n.droppingIndex?1:p(-50,50)})),console.log("arrToDrop:"+e.toString());for(var c=function(){var t=e[h],i=o[t],p=a(i.position),c=r(i).set({position:a(p.x,0,p.z)}).delay(0==h?1:s(1.5,2)).by(1,{position:a(0,-100,0)}).by(1,{position:a(0,100,0)}).call((function(){n._arrTweens.splice(n._arrTweens.indexOf(c),1)})).start();n._arrTweens.push(c),0==h&&n.scheduleOnce((function(){n.droppingIndex=(n.droppingIndex+1)%n.node.children.length,n.ropeDown()}),7)},h=0;h<e.length;h++)c()}},e}(c))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/FloatingClouds.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,o,n,r,a,s,l,h,p,c,u,d,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.randomRange,l=t.randomRangeInt,h=t.tween,p=t.v3,c=t.view,u=t.UITransform,d=t.instantiate,g=t.Component}],execute:function(){var m,v,f;r._RF.push({},"e6bbcE1pupKQ6yeLp10xf6K","FloatingClouds",void 0);var S=a.ccclass,C=a.property;t("FloatingClouds",S("FloatingClouds")((f=e((v=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,o(e,"speedScale",f,n(e)),e.arrSamples=[],e.count=0,e}i(e,t);var r=e.prototype;return r.start=function(){this.moveClouds()},r.moveClouds=function(){var t=this;this.node.children.forEach((function(e){if(e.active){var i=s(1,3),o=l(-50,-20)*t.speedScale,n=l(-10,10);h(e).by(i,{position:p(o,n,0)}).by(i,{position:p(o,-n,0)}).call((function(){e.position.x<-(c.getVisibleSize().width/2+e.getComponent(u).width)&&(e.position=p(c.getVisibleSize().width/2+e.getComponent(u).width,e.position.y,e.position.z))})).union().repeatForever().start()}}))},r.recreateClouds=function(){this.removeClouds(),this.createClouds1()},r.removeClouds=function(){for(var t=this.node.children,e=0;e<t.length;e++){var i=t[e];i.active&&i.destroy()}},r.createClouds1=function(){var t=this.arrSamples[0].getComponent(u).width,e=this.arrSamples[0].getComponent(u).height,i=c.getVisibleSize(),o=2*t,n=Math.max(2,Math.ceil(i.width/o)),r=(i.height-320)/2/(1.5*e);r=Math.max(1,Math.floor(r));for(var a=0;a<r;a++)for(var h=0;h<n;h++){var d=0==this.count?this.arrSamples[a%this.arrSamples.length].position.x:o*h+(-i.width/2+t/2+s(-t/2,t)),g=0==this.count?this.arrSamples[a%this.arrSamples.length].position.y:-e*a+i.height/2+-e/2+s(-e/2,0);this.createCloudAt(l(0,this.arrSamples.length),p(d,g))}this.count++},r.createCloudAt=function(t,e){var i=this,o=this.arrSamples[0].getComponent(u).width,n=(this.arrSamples[0].getComponent(u).height,c.getVisibleSize()),r=d(this.arrSamples[t>=0?t:l(0,this.arrSamples.length)]);r.active=!0,r.parent=this.node,r.position=p(e);var a=s(1,3),g=l(-50,-20)*this.speedScale,m=l(-10,10);this.scheduleOnce((function(){h(r).by(a,{position:p(g,m,0)}).by(a,{position:p(g,-m,0)}).call((function(){var t=l(-160,0)+-n.width/2-o/2;r.position.x<t&&(r.destroy(),i.createCloudAt(l(0,i.arrSamples.length),p(n.width/2+o/2,r.position.y+s(-100,100),r.position.z)))})).union().repeatForever().start()}),1)},e}(g)).prototype,"speedScale",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),m=v))||m);r._RF.pop()}}}));

System.register("chunks:///_virtual/GConfig.ts",["cc"],(function(o){var a,e;return{setters:[function(o){a=o.cclegacy,e=o.sys}],execute:function(){a._RF.push({},"dfdd96Wy2VFAoN/XIVjrH7g","GConfig",void 0);var n=o("GConfig",{testing:!1,version:"5.2",channel:"web-mobile",channel_version:"1.0.0",channel_approved_version:"1.0.0",share_url:"https://popcandy.cc",remote_config_url:"https://popcandy.cc/api/popcandy/ios/app_config.json",storeEnabled:!0,rankEnabled:!0,adEnabled:!1,maxSkillsToEquip:3,interstitial_ad_interval:300,product_rewarded_ad:"",product_buy5:"",product_buy18:"",product_buy35:"",product_buy50:"",product_buy100:"",product_remove_ad:"",product_restore_purchased:""}),r=n;(e.Platform.BYTEDANCE_MINI_GAME==e.platform?r={channel_version:"1.0.0",share_url:"https://www.popcandy.cc",remote_config_url:"https://api.zeeuu.com/api/pengpengtang/douyin/app_config.json",storeEnabled:!1,rankEnabled:!1,adEnabled:!1}:e.Platform.IOS==e.platform&&(r={channel:"popcandy",channel_version:"6.0",share_url:"https://popcandy.cc",remote_config_url:"https://popcandy.cc/api/popcandy/ios/app_config.json",storeEnabled:!0,rankEnabled:!0,isInterstitialAdEnabled:!0,product_rewarded_ad:"rewarded_ad",product_buy5:"com.hahamobile.PopCandy.buy5candies",product_buy18:"com.hahamobile.PopCandy.buy18candies",product_buy35:"com.hahamobile.PopCandy.buy35candies",product_buy50:"com.hahamobile.PopCandy.buy50candies",product_buy100:"com.hahamobile.PopCandy.buy100candies",product_remove_ad:"com.hahamobile.PopCandy.removeAd",product_restore_purchased:"product_restore_purchased"}),r!==n)&&Object.getOwnPropertyNames(r).forEach((function(o){n.hasOwnProperty(o)&&(n[o]=r[o])}));a._RF.pop()}}}));

System.register("chunks:///_virtual/GConst.ts",["cc"],(function(e){var a,E,_;return{setters:[function(e){a=e.cclegacy,E=e.ResolutionPolicy,_=e.sys}],execute:function(){a._RF.push({},"74a48u4DCJFN7+6PAXmbsIS","GConst",void 0);e("GConst",new function(){this.SUPPORTED_LANGUAGES=[_.Language.ENGLISH,_.Language.CHINESE]}),e("DESIGN_W",640),e("DESIGN_H",1136),e("DESIGN_POLICY",E.FIXED_WIDTH),e("CANVAS","Canvas"),e("LAYER_BG","Canvas/LayerBg"),e("LAYER_VIEW","Canvas/LayerView"),e("LAYER_UI","Canvas/LayerUI"),e("LAYER_FG1","Canvas/LayerFg1"),e("LAYER_FG2","Canvas/LayerFg2"),e("DIR_PREFAB","prefab"),e("DIR_VIEW","view"),e("VIEW_TEST","TestView"),e("VIEW_HOME","HomeView");var s=e("VIEW_POPGAME","PopGameView");e("BUNDLE_INFO",{resources:{bundleName:"resources",preload:!0,views:[]},app:{bundleName:"app",preload:!0,views:[]},home:{bundleName:"home",preload:!0,views:[]},popgame:{bundleName:"popgame",preload:!1,views:[s]},audio:{bundleName:"audio",preload:!1,views:[]}}),e("EVT_VIEW_SIZE_CHANGE","EVT_VIEW_SIZE_CHANGE"),e("EVT_PREFAB_LOADED","EVT_PREFAB_LOADED"),e("EFFECT_SCALE_IN_OUT",0),e("EFFECT_SLIDE_UP_DOWN",1);a._RF.pop()}}}));

System.register("chunks:///_virtual/GFunction.ts",["cc","./GConst.ts"],(function(t){var n,e,r;return{setters:[function(t){n=t.cclegacy,e=t.find},function(t){r=t.CANVAS}],execute:function(){t({enumGetKeys:function(t){return Object.keys(t).filter((function(t,n,e){return isNaN(Number(t))}))},enumSetKeysAsValues:function(t){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var e=t[n];("string"!=typeof e||e.trim().length<=0)&&isNaN(Number(n))&&(t[n]=n)}},findCanvas:function(){return e(r)},setObjKeysAsValues:function(t){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var e=t[n];("string"!=typeof e||e.trim().length<=0)&&isNaN(Number(n))&&(t[n]=n)}}}),n._RF.push({},"60a8fonacZFur3kmS0kbjYQ","GFunction",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/Global.ts",["cc"],(function(c){var t,e;return{setters:[function(c){t=c.cclegacy,e=c._decorator}],execute:function(){t._RF.push({},"6965cixdddPd62ZlG670wBG","Global",void 0);e.ccclass,e.property,c("Global",new function(){});t._RF.pop()}}}));

System.register("chunks:///_virtual/HomeLayout.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GFunction.ts","./App.ts","./GConst.ts"],(function(e){var t,i,o,r,n,a,h,s,u,l,c,g,d,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,h=e.UITransform,s=e.Node,u=e.sys,l=e.view,c=e.Component},function(e){g=e.findCanvas},function(e){d=e.gAppResolution},function(e){f=e.DESIGN_H}],execute:function(){var p,y,m,H,v,b,L,w,R;n._RF.push({},"8cd5cY+ATJJdZqBrI5Joc4F","HomeLayout",void 0);var O=a.ccclass,z=a.property;e("HomeLayout",(p=O("HomeLayout"),y=z(h),m=z(h),H=z(h),p((L=t((b=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=e.call.apply(e,[this].concat(n))||this,o(t,"headerRow0",L,r(t)),o(t,"middle",w,r(t)),o(t,"footer",R,r(t)),t.footerHeightOrg=160,t.middleHeightOrg=800,t.headerRow0HeightOrg=0,t}i(t,e);var n=t.prototype;return n.onLoad=function(){this.headerRow0HeightOrg=this.headerRow0.height,this.middleHeightOrg=this.middle.height,this.footerHeightOrg=this.footer.height},n.start=function(){var e=this;this.updateLayout(),g().on(s.EventType.SIZE_CHANGED,(function(){e.updateLayout()}),this)},n.updateLayout=function(){console.log("GameLayout.updateLayout()");u.getSafeAreaRect();if(this.headerRow0.height=this.headerRow0HeightOrg,this.middle.height=this.middleHeightOrg,this.footer.height=this.footerHeightOrg,d.isMiddleH()||d.isShortH()){var e=l.getVisibleSize().height-f;e<0&&(e=Math.abs(e),this.middle.height-=e>80?e-80:e)}else if(d.isLargeH()){var t=l.getVisibleSize().height-f;if(t>0)if(t<60);else{var i=[this.middle];i.forEach((function(e){e.height+=t/i.length}))}}},t}(c)).prototype,"headerRow0",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(b.prototype,"middle",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(b.prototype,"footer",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=b))||v));n._RF.pop()}}}));

System.register("chunks:///_virtual/HomeView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./PopData.ts","./AppAudioRes.ts","./AppData.ts","./AppHotUpdate.ts","./AppCoinInfo.ts","./i18n.ts","./GConfig.ts","./GConst.ts"],(function(t){var n,i,e,o,a,s,c,r,l,p,u,f,g,h,d,y,b,w,A,v,m,k,C,R,D,V,E,T,U,H,I,M,_;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,c=t.Node,r=t.log,l=t.randomRangeInt,p=t.tween,u=t.easing,f=t.macro,g=t.v3,h=t.view,d=t.sys,y=t.js,b=t.game,w=t.Component,A=t.UIOpacity},function(t){v=t.gAppDirector,m=t.gAppAudioPlayer,k=t.gAppUI,C=t.gAppHotUpdate,R=t.gAppPlatform},function(t){D=t.gPopData},function(t){V=t.AppAudioRes,E=t.AUD},function(t){T=t.gAppData},function(t){U=t.AppHotUpdate},function(t){H=t.AppCoinInfo},function(t){I=t.i18n},function(t){M=t.GConfig},function(t){_=t.VIEW_POPGAME}],execute:function(){var N,P,S,O,z,B,G,L,F,x,W;a._RF.push({},"9d0cfG8ozlIVINtmbInkCH7","HomeView",void 0);var j=s.ccclass,q=s.property,J=!1,K=!1;t("HomeView",(N=j("HomeView"),P=q(c),S=q(c),O=q(c),z=q([c]),N((L=n((G=function(t){function n(){for(var n,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a))||this,e(n,"btnRank",L,o(n)),e(n,"title",F,o(n)),e(n,"shiningLight",x,o(n)),e(n,"arrAnimNodes",W,o(n)),n._clickTestCount=0,n}i(n,t);var a=n.prototype;return a.onDestroy=function(){r("HomeSceneView.onDestroy()")},a.start=function(){var t=this;H.instance.node.active=!0,J||v.preloadView(_,(function(){J=!0,V.loadClips((function(){m.playMusic(E.MainMenuBg)}))}));for(var n=function(n){var i=t.arrAnimNodes[n];if(i){var e=i.getComponent(A);if(e){var o=e.opacity;e.opacity=0,t.scheduleOnce((function(){e.opacity=o;var t=g(i.scale);p(i).set({scale:g(0,0,1)}).delay(.3+.15*n).to(.3,{scale:t},{easing:u.backOut}).start()}))}}},i=0;i<this.arrAnimNodes.length;i++)n(i);this.schedule((function(){t.title.children.forEach((function(t){if(t.active){var n=l(-50,50)>0?1:-1;p(t).by(.3,{angle:5*n},{easing:u.backOut}).by(.3,{angle:-10*n},{easing:u.backIn}).by(.3,{angle:5*n},{easing:u.smooth}).start()}}))}),10,f.REPEAT_FOREVER,1.5);var e=g(this.title.position),o=h.getVisibleSize().height/2;p(this.title).set({position:g(e.x,200+o+e.y,e.z)}).delay(1).by(.6,{position:g(0,-200-o,0)},{easing:"backOut"}).call((function(){p(t.title).by(1.2,{position:g(3,10,0)},{easing:u.sineInOut}).by(2.4,{position:g(-3,-10,0)},{easing:u.sineInOut}).union().repeatForever().start()})).start(),p(this.shiningLight).by(3,{angle:-60}).repeatForever().start(),(M.testing||d.isNative&&!T.privacyPolicyAccepted)&&k.showPrivacyDialog((function(){T.privacyPolicyAccepted=!0})),d.isNative&&this.scheduleOnce((function(){r("newVersionDownloaded:"+C.newVersionDownloaded+", bHotUpdateMsgShowed:"+K),C.newVersionDownloaded?K||t.showHotUpdateMsg():C.node.on(U.EVT_NEED_RESTART,(function(){r(y.getClassName(t)+",on:EVT_NEED_RESTART"),K||t.showHotUpdateMsg()}),t)}),.2),m.playMusic(E.MainMenuBg),this.btnRank.active=M.rankEnabled},a.showHotUpdateMsg=function(){k.showMessageBox(I.t("hotUpdateTitle"),I.t("hotUpdateContent"),(function(){b.restart()}),I.t("hotUpdateApplyNow")),K=!0},a.onStartClick=function(){m.playSound(E.SelectGem),v.loadView(_,!0,!0,(function(){}))},a.onSettingClick=function(){},a.onRankClick=function(){R.reportScore(D.highScore),this.scheduleOnce((function(){R.showRank()}),.1)},a.onInfoClick=function(){k.showAboutUs()},a.onGiftClick=function(){d.openURL("https://popcandy.cc")},a.onBtnClick=function(){k.showWaiting(),v.loadView(_,!0,!0,(function(){k.hideWaiting()}))},a.onBtnMessageBoxClick=function(){k.showAboutUs()},a.onToggleTestBtnClick=function(){this._clickTestCount++,M.testing&&this._clickTestCount>=10&&(M.testing=!M.testing,k.showTips("test mode: "+M.testing),this._clickTestCount=0)},n}(w)).prototype,"btnRank",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=n(G.prototype,"title",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=n(G.prototype,"shiningLight",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=n(G.prototype,"arrAnimNodes",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=G))||B));a._RF.pop()}}}));

System.register("chunks:///_virtual/i18n.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var e,a,t,l,o,r,u;return{setters:[function(n){e=n.createClass},function(n){a=n.cclegacy,t=n.sys,l=n.assetManager,o=n.JsonAsset,r=n.SpriteFrame,u=n.TextAsset}],execute:function(){a._RF.push({},"4d31fK34n9Gkb//AVCwIJm2","i18n",void 0);var i=n("DefaultLanguage",t.Language.CHINESE);n("i18n",new(function(){function n(){this.defaultLanguage=i,this._lang=i,this.bundle=null,this.langValues={}}var a=n.prototype;return a.init=function(n){var e=this,a=n.find((function(n){return n==t.language}));a||(a=t.Language.ENGLISH),this.loadLanguage(a,(function(n){n&&(console.warn("load language failed, ",a),a!=t.Language.ENGLISH&&(console.log("now use Language.ENGLISH instead..."),e.loadLanguage(t.Language.ENGLISH,(function(n){n&&console.warn("load language 2 failed:",t.Language.ENGLISH)}))))}))},a.loadLanguage=function(n,e){var a=this;this.bundle?this.bundle.load(n+"/lang",o,(function(t,l){t?(console.error("load lang.json error:",t),e(t)):(a.langValues=l.json,a.bundle.loadDir(n,r,null,(function(t,l){t?(console.error("loadDir error:",t),e(t)):(console.log("i18n loaded",l.length,"assets for language:",n),a._lang=n,e(null))})))})):l.loadBundle("i18n",(function(e,t){e?console.error("loadBundle error:",e):(a.bundle=t,a.loadLanguage(n,(function(n){n&&console.warn("load language failed, use default language:",i)})))}))},a.getSpriteFrame=function(n){if(this.bundle&&this.lang!=i){var e=this.lang+"/"+n+"/spriteFrame";return this.bundle.get(e,r)}},a.setSpriteFrame=function(n){var e=n.spriteFrame.name,a=this.getSpriteFrame(e);a?n.spriteFrame=a:console.warn("can not find sprite frame for key:",e)},a.getTextAsset=function(n,e){if(this.bundle){var a=this.lang+"/"+n;this.bundle.load(a,u,(function(n,a){e&&e(n,a)}))}},a.getValue=function(n){return this.langValues?this.langValues[n]:(console.warn("can not find text for key:",n),null)},a.t=function(n){var e=this.getValue(n);return null!=e&&e.length>=0?e:(console.warn("can not find text for key:",n),n)},a.setLabelString=function(n,e){if(this.bundle&&this.lang!=i){var a=this.t(e);null!=a&&a.length>=0?n.string=a:console.warn("can not find text for key:",e)}},e(n,[{key:"lang",get:function(){return this._lang}}]),n}()));a._RF.pop()}}}));

System.register("chunks:///_virtual/JsonOb.ts",["cc"],(function(t){var r;return{setters:[function(t){r=t.cclegacy}],execute:function(){r._RF.push({},"1ffd3Wve91BGZGBFT0qs0S8","JsonOb",void 0);var e=Object.prototype,o="[object Object]",c="[object Array]",i=["push","pop","shift","unshift","sort","reverse","splice"];t("JsonOb",function(){function t(t,r){this._callback=void 0,e.toString.call(t)!==o&&e.toString.call(t)!==c&&console.error(""),this._callback=r,this.observe(t,[])}var r=t.prototype;return r.observe=function(t,r){var i=this;e.toString.call(t)===c&&this.overrideArrayProto(t,r),Object.keys(t).forEach((function(n){var s=i,a=t[n],l=r&&r.slice();l?l.push(n):l=[n],Object.defineProperty(t,n,{get:function(){return a},set:function(t){if(a!==t){var r=e.toString.call(t);r!==o&&r!==c||s.observe(t,l);var i=a;a=t,s._callback(t,i,l)}}}),e.toString.call(t[n])!==o&&e.toString.call(t[n])!==c||i.observe(t[n],l)}),this)},r.overrideArrayProto=function(t,r){var e,o=Array.prototype,c=Object.create(Array.prototype),n=this;i.forEach((function(t){Object.defineProperty(c,t,{value:function(){var c=this.slice();return e=o[t].apply(this,arguments),n.observe(this,r),n._callback(this,c,r),e}})})),t.__proto__=c},t}());r._RF.pop()}}}));

System.register("chunks:///_virtual/LocalizedLabel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./i18n.ts"],(function(e){var t,n,i,r,o,a,l,c,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Label,c=e.Component},function(e){u=e.i18n}],execute:function(){var s,p,d;o._RF.push({},"edf98QH2D1AUoCrtQlbxFrU","LocalizedLabel",void 0);var f=a.ccclass,L=a.property,b=a.executeInEditMode;e("LocalizedLabel",f("LocalizedLabel")(s=b((d=t((p=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))||this).label=null,i(t,"key",d,r(t)),t.defaultString="",t}n(t,e);var o=t.prototype;return o.onLoad=function(){this.defaultString=this.getComponent(l).string},o.start=function(){this.updateLabel()},o.updateLabel=function(){u.setLabelString(this.getComponent(l),this.key)},t}(c)).prototype,"key",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),s=p))||s)||s);o._RF.pop()}}}));

System.register("chunks:///_virtual/LocalizedSprite.ts",["./rollupPluginModLoBabelHelpers.js","cc","./i18n.ts"],(function(t){var e,r,n,i,o,c;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,n=t._decorator,i=t.Sprite,o=t.Component},function(t){c=t.i18n}],execute:function(){var a;r._RF.push({},"c05c25C4xNAupWYMB93tIzp","LocalizedSprite",void 0);var p=n.ccclass;n.property,t("default",p("LocalizedSprite")(a=function(t){function r(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))||this).defaultSpriteFrame=null,e}e(r,t);var n=r.prototype;return n.onLoad=function(){this.defaultSpriteFrame=this.getComponent(i).spriteFrame},n.start=function(){this.updateSprite()},n.updateSprite=function(){c.setSpriteFrame(this.getComponent(i))},r}(o))||a);r._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./App.ts","./AppAdHelper.ts","./AppAudioPlayer.ts","./AppAudioRes.ts","./AppData.ts","./AppDirector.ts","./AppHelper.ts","./AppHotUpdate.ts","./AppPlatform.ts","./AppRemoteConfig.ts","./AppRes.ts","./AppResolution.ts","./AppStoreHelper.ts","./AppUI.ts","./AppUser.ts","./AppUtils.ts","./AppCoinInfo.ts","./AppDebugBg.ts","./AppGrid.ts","./AppLayout.ts","./AppLayoutAdaptor.ts","./AppLuckyButton.ts","./AppMaskFg.ts","./AppRatingButton.ts","./AppSetterForEditor.ts","./AppShareButton.ts","./AppSoundButton.ts","./AppVideoAdButton.ts","./AppWidgetMaxWH.ts","./CandyRopes.ts","./MyGiftButton.ts","./MyLayoutItem.ts","./MyScaleToFit.ts","./MyVisibleItem.ts","./RotateForever.ts","./TapAndHold.ts","./PlatformAndroid.ts","./PlatformByteDance.ts","./PlatformIOS.ts","./AppAboutUsUI.ts","./AppBlockerUI.ts","./AppDebugUI.ts","./AppFadeInUI.ts","./AppFadeOutUI.ts","./AppHotUpdateTestUI.ts","./AppLoadingUI.ts","./AppLuckyUI.ts","./AppMessageBoxUI.ts","./AppMsgBoxUI.ts","./AppPrivacyDialogUI.ts","./AppPrivacyPolicy.ts","./AppRatingBoxUI.ts","./AppRewardCollectUI.ts","./AppRewardMessageUI.ts","./AppSceneLoaderUI.ts","./AppStoreItem.ts","./AppStoreUI.ts","./AppTextViewerUI.ts","./AppTipsUI.ts","./AppVideoAdMessageUI.ts","./AppWaitingUI.ts","./GConfig.ts","./GConst.ts","./GFunction.ts","./Global.ts","./HomeLayout.ts","./HomeView.ts","./LocalizedLabel.ts","./LocalizedSprite.ts","./i18n.ts","./JsonOb.ts","./StringFormat.ts","./VMBase.ts","./VMLabel.ts","./ViewModel.ts","./Pop.ts","./PopCommon.ts","./PopConfirmDialogUI.ts","./PopData.ts","./PopEffect.ts","./PopGame.ts","./PopGameHelpUI.ts","./PopGameLayout.ts","./PopGameOverUI.ts","./PopGameView.ts","./PopGem.ts","./PopGlobal.ts","./PopGrid.ts","./PopHelper.ts","./PopInterstitialUI.ts","./PopMagic.ts","./PopMagicButton.ts","./PopMagicCollectUI.ts","./PopMagicStoreUI.ts","./PopNewHighScoreUI.ts","./PopRes.ts","./PopResultUI.ts","./PopRetryDialogUI.ts","./PopSettingUI.ts","./PopStageBg.ts","./PopStageIntroUI.ts","./PopStageStar.ts","./PopStarTest.ts","./PopUI.ts","./AppStarterView.ts","./MainScene.ts","./FloatingClouds.ts","./PlatformPanelTestView.ts","./TestPanel.ts","./TestView.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MainScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts"],(function(n){var e,o,t,i,c,a,s,r;return{setters:[function(n){e=n.inheritsLoose},function(n){o=n.cclegacy,t=n._decorator,i=n.find,c=n.Node,a=n.UITransform,s=n.Component},function(n){r=n.App}],execute:function(){var l;o._RF.push({},"19b1aNB9ilOCb1Rj03fwdFf","MainScene",void 0);var u=t.ccclass;t.property,n("MainScene",u("MainScene")(l=function(n){function o(){return n.apply(this,arguments)||this}e(o,n);var t=o.prototype;return t.onLoad=function(){this.addComponent(r)},t.start=function(){console.log("MainScene start"),i("Canvas").on(c.EventType.SIZE_CHANGED,this.onSizeChanged,this)},t.onSizeChanged=function(){console.log("Canvas size changed");var n=i("Canvas").getComponent(a).contentSize;console.log("Canvas size:",n)},t.onBtnClick=function(){console.log("MainScene.onBtnClick()")},o}(s))||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/MyGiftButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AppData.ts","./App.ts","./PlatformByteDance.ts"],(function(n){var t,i,e,a,o,s,c,r,u,l,f,p;return{setters:[function(n){t=n.inheritsLoose},function(n){i=n.cclegacy,e=n._decorator,a=n.sys,o=n.macro,s=n.resources,c=n.instantiate,r=n.find,u=n.Component},function(n){l=n.gAppData},function(n){f=n.gAppUI},function(n){p=n.PlatformByteDance}],execute:function(){var d;i._RF.push({},"a22a5DL2r9IPphnJC9irI/A","MyGiftButton",void 0);var y=e.ccclass;e.property,n("MyGiftButton",y("MyGiftButton")(d=function(n){function i(){return n.apply(this,arguments)||this}t(i,n);var e=i.prototype;return e.onLoad=function(){this.node.active=!1,p.instance.isDouyin()&&p.instance.isSideBarBonusAvailable()&&(this.node.active=!0)},e.start=function(){var n=this;p.instance.isDouyin()&&p.instance.isSideBarBonusAvailable()&&this.schedule((function(){p.instance.isLaunchFromSideBar()&&p.instance.isSideBarBonusAvailable()&&(f.showRewardCollect(5,(function(){})),l.giftClaimTime=a.now(),n.node.active=!1)}),1,o.REPEAT_FOREVER,1)},e.onClick=function(){p.instance.isDouyin()&&s.load("dysidebar/BytedanceSidebarTip",(function(n,t){n?console.error(n):c(t).parent=r("Canvas/LayerUI")}))},i}(u))||d);i._RF.pop()}}}));

System.register("chunks:///_virtual/MyLayoutItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./AppResolution.ts","./GFunction.ts"],(function(t){var e,n,o,a,i,r,s,u,l,c,p,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){i=t.cclegacy,r=t._decorator,s=t.Node,u=t.js,l=t.Component},function(t){c=t.gAppResolution},function(t){p=t.AppResolution},function(t){d=t.findCanvas}],execute:function(){var f,h,y,g,m;i._RF.push({},"1c482/7WJ9P2Jiogg114xiN","MyLayoutItem",void 0);var L=r.ccclass,P=r.property;t("MyLayoutItem",(f=L("MyLayoutItem"),h=P(s),f((m=e((g=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e=t.call.apply(t,[this].concat(i))||this,o(e,"middleHParent",m,a(e)),e.defaultParent=null,e}n(e,t);var i=e.prototype;return i.onLoad=function(){var t=this;console.log(u.getClassName(this)+".onLoad()"),this.defaultParent=this.node.parent,d().on(p.EVT_SIZE_CHANGED,(function(){t.updateLayout()}),this)},i.start=function(){console.log(u.getClassName(this)+".start()"),this.updateLayout()},i.updateLayout=function(){console.log(u.getClassName(this)+".updateLayout"),c.isLargeH()?this.defaultParent&&(this.node.parent=this.defaultParent):this.middleHParent&&(this.node.parent=this.middleHParent)},e}(l)).prototype,"middleHParent",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=g))||y));i._RF.pop()}}}));

System.register("chunks:///_virtual/MyScaleToFit.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GConst.ts","./App.ts"],(function(t){var o,e,n,i,c,s,r,u;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator,i=t.view,c=t.v3,s=t.Component},function(t){r=t.DESIGN_H},function(t){u=t.gAppResolution}],execute:function(){var a;e._RF.push({},"def94b6U4hGGo/odsu+9RgR","MyScaleToFit",void 0);var l=n.ccclass;n.property,t("MyScaleToFit",l("MyScaleToFit")(a=function(t){function e(){return t.apply(this,arguments)||this}o(e,t);var n=e.prototype;return n.onLoad=function(){var t=i.getVisibleSize();if(console.log("winSize:"+t.toString()),u.isShortH()){var o=r-118-t.height;o>0&&this.node.setScale(c(1-o/640,1-o/640,1)),console.log("scale:"+this.node.scale.toString())}},n.start=function(){},n.update=function(t){},e}(s))||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/MyVisibleItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./GFunction.ts"],(function(i){var e,t,n,s,o,l,r,a,c;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,n=i.initializerDefineProperty,s=i.assertThisInitialized},function(i){o=i.cclegacy,l=i._decorator,r=i.view,a=i.Component},function(i){c=i.gAppResolution},null],execute:function(){var u,b,p,h,d,g,V,f,H;o._RF.push({},"47e06yc1UFOXLmefigcuzf9","MyVisibleItem",void 0);var y=l.ccclass,O=l.property;i("MyVisibleItem",(u=y("MyVisibleItem"),b=O({type:Boolean}),p=O({type:Boolean}),h=O({type:Boolean}),u((V=e((g=function(i){function e(){for(var e,t=arguments.length,o=new Array(t),l=0;l<t;l++)o[l]=arguments[l];return e=i.call.apply(i,[this].concat(o))||this,n(e,"isVisibleOnLargeH",V,s(e)),n(e,"isVisibleOnMiddleH",f,s(e)),n(e,"isVisibleOnShortH",H,s(e)),e}t(e,i);var o=e.prototype;return o.start=function(){},o.updateVisible=function(){var i=r.getVisibleSize().height;this.node.active=this.isVisibleOnShortH&&c.isShortH()||this.isVisibleOnMiddleH&&c.isMiddleH()||this.isVisibleOnLargeH&&c.isLargeH(),console.log("this.node.name:",this.node.name),console.log("visibleH",i),console.log("this.isVisibledOnLargeH:",this.isVisibleOnLargeH),console.log("this.isVisibledOnMiddleH:",this.isVisibleOnMiddleH),console.log("this.isVisibledOnShortH:",this.isVisibleOnShortH),console.log("this.node.active:",this.node.active)},o.update=function(i){},e}(a)).prototype,"isVisibleOnLargeH",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),f=e(g.prototype,"isVisibleOnMiddleH",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),H=e(g.prototype,"isVisibleOnShortH",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),d=g))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/PlatformAndroid.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,e,c;return{setters:[function(n){t=n.createClass},function(n){e=n.cclegacy,c=n.native}],execute:function(){e._RF.push({},"27cf7OuqtlBbZcmvovaj/7x","PlatformAndroid",void 0),n("PlatformAndroid",function(){function n(){}return n.prototype.callFunction=function(n,t){return c.bridge.sendToNative(n,t),""},t(n,null,[{key:"instance",get:function(){return n._instance||(n._instance=new n),n._instance}}]),n}())._instance=null,e._RF.pop()}}}));

System.register("chunks:///_virtual/PlatformByteDance.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AppData.ts"],(function(n){var e,o,t,i;return{setters:[function(n){e=n.createClass},function(n){o=n.cclegacy,t=n.sys},function(n){i=n.gAppData}],execute:function(){o._RF.push({},"af24aP3UBVMQp70oQeqzuDL","PlatformByteDance",void 0);var c=null;n("PlatformByteDance",function(){function n(){}var o=n.prototype;return o.isDouyin=function(){return null!==c},o.isLaunchFromSideBar=function(){console.log("PlatformByteDance.isLaunchFromSideBar");var n=!1;if(c){console.log('window["ShowResult"]:',window.ShowResult);var e=window.ShowResult;n="homepage"===(null==e?void 0:e.launch_from)}return console.log("result:",n),n},o.navigateToSidebar=function(){c&&c.navigateToScene&&c.navigateToScene({scene:"sidebar",success:function(n){console.log("navigate to scene success")},fail:function(n){console.log("navigate to scene fail: ",n)}})},o.isSideBarBonusAvailable=function(){return t.now()-i.giftClaimTime>864e5},o.share=function(n,e,o,t,i){c.shareAppMessage({title:n,desc:e||"",imageUrl:o||"",query:t||"",success:function(n){console.log(":",n),null==i||i()},fail:function(n){console.error(":",n)}})},o.callFunction=function(n,e){if("function"==typeof this[n])return this[n](e)},e(n,null,[{key:"instance",get:function(){return n._instance||(n._instance=new n,void 0!==window.tt&&(c=window.tt)),n._instance}}]),n}())._instance=null,o._RF.pop()}}}));

System.register("chunks:///_virtual/PlatformIOS.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,e,c;return{setters:[function(n){t=n.createClass},function(n){e=n.cclegacy,c=n.native}],execute:function(){e._RF.push({},"83a7cDhSmtLmrUD3UB39Apz","PlatformIOS",void 0),n("PlatformIOS",function(){function n(){}return n.prototype.callFunction=function(n,t){return c.reflection.callStaticMethod("NativeHelper","callFunctionWithName:andParam:",n,t)},t(n,null,[{key:"instance",get:function(){return n._instance||(n._instance=new n),n._instance}}]),n}())._instance=null,e._RF.pop()}}}));

System.register("chunks:///_virtual/PlatformPanelTestView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./GConst.ts"],(function(e){var t,i,n,o,r,l,c,a,u,s,p,m,f,h,d,g,b,F,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,c=e.ScrollView,a=e.EditBox,u=e.RichText,s=e.Node,p=e.sys,m=e.instantiate,f=e.Label,h=e.Color,d=e.Component},function(e){g=e.gAppPlatform,b=e.gAppUtils,F=e.gAppDirector},function(e){v=e.VIEW_HOME}],execute:function(){var C,P,w,y,N,S,x,T,R,V,k;r._RF.push({},"e92e8XkiHZFUY/ugu6uWt7d","PlatformPanelTestView",void 0);var A=l.ccclass,z=l.property;e("TestPlatformPanel",(C=A("TestPlatformPanel"),P=z(c),w=z(a),y=z(u),N=z(s),C((T=t((x=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,n(t,"scrollViewFunctions",T,o(t)),n(t,"editboxParams",R,o(t)),n(t,"richTextResult",V,o(t)),n(t,"itemSample",k,o(t)),t.curSelectedFunctionName="",t}i(t,e);var r=t.prototype;return r.start=function(){if(p.isNative){this.itemSample.active=!1;for(var e=g.callFunction("getAvailableFunctions").split(","),t=0;t<e.length;t++){var i=e[t],n=m(this.itemSample);n.parent=this.itemSample.parent,n.getComponent(f).string=i,n.active=!0,b.addClick(n,"onFunctionNameItemClicked",this,i)}}},r.onFunctionNameItemClicked=function(e,t){this.curSelectedFunctionName=t;for(var i=this.scrollViewFunctions.content.children,n=0;n<i.length;n++){i[n].getComponent(f).color=h.BLACK}e.target.getComponent(f).color=h.GREEN},r.onCallFunctionClicked=function(e,t){if(this.curSelectedFunctionName){var i=g.callFunction(this.curSelectedFunctionName,this.editboxParams.string),n="Function:"+this.curSelectedFunctionName+" called; returns:\n";i&&0!=i.length?n+="<color=#00ff00>"+i+"</color>":n+="<color=#ff0000>Nothing returns!</color>",this.richTextResult.string=n}else this.richTextResult.string="No functionName was selected!"},r.onCloseClick=function(e){F.loadView(v)},t}(d)).prototype,"scrollViewFunctions",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(x.prototype,"editboxParams",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(x.prototype,"richTextResult",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(x.prototype,"itemSample",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=x))||S));r._RF.pop()}}}));

System.register("chunks:///_virtual/Pop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopGame.ts","./PopRes.ts","./PopEffect.ts","./PopGrid.ts","./PopMagic.ts","./PopUI.ts","./PopHelper.ts"],(function(e){var i,t,n,o,r,l,p,u,a,c,f,g,s,P,b;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,p=e.log,u=e.Component},function(e){a=e.PopGame},function(e){c=e.PopRes},function(e){f=e.PopEffect},function(e){g=e.PopGrid},function(e){s=e.PopMagic},function(e){P=e.PopUI},function(e){b=e.PopHelper}],execute:function(){var h,m,d,y,z,v,w,G,I,M,R,E,H,L,U,_,D,j;r._RF.push({},"55a2czOv01B+r0fygcjhv20","Pop",void 0);var x=l.ccclass,B=l.property,F=l.executeInEditMode;e("Pop",(h=x("Pop"),m=F(!0),d=B(a),y=B(c),z=B(P),v=B(b),w=B(f),G=B(g),I=B(s),h(M=m((E=i((R=function(i){function r(){for(var e,t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return e=i.call.apply(i,[this].concat(r))||this,n(e,"game",E,o(e)),n(e,"res",H,o(e)),n(e,"ui",L,o(e)),n(e,"helper",U,o(e)),n(e,"effect",_,o(e)),n(e,"grid",D,o(e)),n(e,"magic",j,o(e)),e}return t(r,i),r.prototype.onLoad=function(){p("Pop.onLoad()"),e("gPop",this),e("gPopGame",this.game),e("gPopRes",this.res),e("gPopUI",this.ui),e("gPopHelper",this.helper),e("gPopEffect",this.effect),e("gPopGrid",this.grid),e("gPopMagic",this.magic)},r}(u)).prototype,"game",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=i(R.prototype,"res",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=i(R.prototype,"ui",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=i(R.prototype,"helper",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=i(R.prototype,"effect",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=i(R.prototype,"grid",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=i(R.prototype,"magic",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=R))||M)||M)),e("gPop",null),e("gPopGame",null),e("gPopRes",null),e("gPopUI",null),e("gPopHelper",null),e("gPopEffect",null),e("gPopGrid",null),e("gPopMagic",null);r._RF.pop()}}}));

System.register("chunks:///_virtual/PopCommon.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){function o(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var o=t[e];("string"!=typeof o||o.trim().length<=0)&&isNaN(Number(e))&&(t[e]=e)}}e._RF.push({},"92addg0IJ9AP7TL7KxkOHEl","PopCommon",void 0),o(t("PopStatus",function(t){return t.init="",t.ready="",t.playing="",t.paused="",t.end="",t.retry="",t.passed="",t.failed="",t}({}))),o(t("PopMagicId",function(t){return t.bomb="",t.color="",t.shuffle="",t}({})));t("PopGemType",{Empty:0,Min:1,Max:5}),t("PopGemColors",["#FFFFFF","#30FF30","#FC5050","#00B8FF","#EF30FF","#FFFF30"]);e._RF.pop()}}}));

System.register("chunks:///_virtual/PopConfirmDialogUI.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,o,e,i,r,l,s,c,a,u,f,h;return{setters:[function(t){n=t.applyDecoratedDescriptor,o=t.inheritsLoose,e=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,s=t.Toggle,c=t.Button,a=t.v3,u=t.tween,f=t.Sprite,h=t.Component}],execute:function(){var p,g,C,d,m,b,y;r._RF.push({},"a573dU0kNJENZCosiQKFj/T","PopConfirmDialogUI",void 0);var K=l.ccclass,v=l.property;t("PopConfirmDialogUI",(p=K("PopConfirmDialogUI"),g=v(s),C=v(c),p((b=n((m=function(t){function n(){for(var n,o=arguments.length,r=new Array(o),l=0;l<o;l++)r[l]=arguments[l];return n=t.call.apply(t,[this].concat(r))||this,e(n,"toggleConfirm",b,i(n)),e(n,"buttonOK",y,i(n)),n.funcOK=null,n.funcClose=null,n}o(n,t);var r=n.prototype;return r.setParams=function(t,n){this.funcOK=t,this.funcClose=n},r.start=function(){this.updateButton(),this.show()},r.show=function(){var t=this.node.getChildByName("Panel");t.setScale(a(0,0,1)),u(t).to(.1,{scale:a(1,1,1)}).start()},r.close=function(){var t=this,n=this.node.getChildByName("Panel");u(n).to(.1,{scale:a(0,0,1)}).call((function(){t.node.destroy()})).start()},r.updateButton=function(){this.buttonOK.interactable=this.toggleConfirm.isChecked,this.buttonOK.getComponent(f).grayscale=!this.buttonOK.interactable},r.onToggleClick=function(){this.updateButton()},r.onOKClick=function(){this.funcOK&&this.funcOK(),this.close()},r.onCloseClick=function(){this.funcClose&&this.funcClose(),this.close()},n}(h)).prototype,"toggleConfirm",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=n(m.prototype,"buttonOK",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=m))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/PopData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewModel.ts","./PopCommon.ts","./AppData.ts","./GConfig.ts","./i18n.ts","./App.ts"],(function(t){var e,a,r,n,o,c,i,u,g,s,h,f,l,d;return{setters:[function(t){e=t.inheritsLoose},function(t){a=t.cclegacy,r=t._decorator,n=t.log,o=t.randomRangeInt,c=t.js,i=t.warn,u=t.Component},function(t){g=t.VM},function(t){s=t.PopStatus},function(t){h=t.gAppData},function(t){f=t.GConfig},function(t){l=t.i18n},function(t){d=t.gAppUtils}],execute:function(){var S,m;a._RF.push({},"1bb6bKJHaVKTaqgLQDuNsXE","PopData",void 0);var p=r.ccclass,v=(r.property,[{id:"1",gemTypeCount:5,target:1e3},{id:"2",gemTypeCount:4,target:1500},{id:"3",gemTypeCount:4,target:2e3},{id:"4",gemTypeCount:5,target:2e3},{id:"5",gemTypeCount:5,target:2500},{id:"6",gemTypeCount:5,target:3e3},{id:"7",gemTypeCount:4,target:3e3},{id:"8",gemTypeCount:4,target:3e3},{id:"9",gemTypeCount:5,target:3500},{id:"10",gemTypeCount:3,target:4e3},{id:"11",gemTypeCount:5,target:4500},{id:"12",gemTypeCount:4,target:5e3},{id:"13",gemTypeCount:5,target:4500},{id:"14",gemTypeCount:5,target:4e3},{id:"15",gemTypeCount:5,target:3500}]),C=function(){this.version=f.version,this.curStage=0,this.bestStage=0,this.basicScore=0,this.curScore=0,this.targetScore=1e3,this.highScore=0,this.status=s.init,this.row=10,this.col=10,this.arrGems=[],this.magicQuota=5,this.magics=[{id:"bomb",count:5},{id:"color",count:5},{id:"shuffle",count:5}],this.consecutiveWins=0,this.consecutiveFails=0,this.doubleClickModeOn=!1},M=t("gPopData",new C),T=M,b="gPopData",D="PopDataV2",y=(t("PopDataCtl",p("PopDataCtl")(((m=function(a){function r(){return a.apply(this,arguments)||this}e(r,a);var u=r.prototype;return u.onLoad=function(){n("PopDataCtl.onLoad()"),y||(y=t("gPopDataCtl",this),this.loadData(),this.bindVM())},u.bindVM=function(){var t=this;g.add(T,b,!0),g.bindPath(b,(function(e,a,r){t.scheduleOnce((function(){t.saveData()}))}),this)},u.loadData=function(){var t="DataPop",e=localStorage.getItem(t);if(e&&e.length>0)return n("Loading previous data of DataPop, "+e),d.loadObject(t,T),T.status=s.init,T.curStage>0&&(T.curScore=this.getTargetScore(T.curStage-1),T.basicScore=T.curScore,this.saveData()),void localStorage.removeItem(t);d.loadObject(D,T)},u.saveData=function(){d.saveObject(D,T)},u.prepare=function(){switch(T.status){case s.retry:T.curScore=T.basicScore;break;case s.passed:T.curStage+=1,T.bestStage=Math.max(T.curStage,T.bestStage),T.status=s.init;break;case s.failed:T.curStage=Math.max(0,T.curStage-1),T.curScore=T.curStage>0?this.getTargetScore(T.curStage-1):0,T.status=s.init}s.init!=T.status&&s.retry!=T.status||(s.init==T.status&&(T.basicScore=T.curScore,T.targetScore=this.getTargetScore(T.curStage)),T.arrGems=this.generateGems(),T.status=s.ready,T.magicQuota=this.getMagicMaxInCurrentStage(T.curStage)),console.log("DataPop:",JSON.stringify(T))},u.generateGems=function(t){var e=[1,2,3,4,5],a=.01,r=T.targetScore-T.curScore;T.curStage>0&&(a=r>=5e3?100:r>=4e3?80:r>=3e3?50:20,o(0,100)<a&&e.splice(Math.floor(Math.random()*e.length),1)[0]);for(var n=[],c=0;c<100;c++)n[c]=e[Math.floor(Math.random()*e.length)];return n},u.generateGems_org=function(t){var e=[1,2,3,4,5],a=.01;T.targetScore-T.curScore<=1e3?a=10:T.targetScore-T.curScore<=1500?a=20:T.targetScore-T.curScore<=2e3?a=50:T.targetScore-T.curScore<=3e3?a=60:T.targetScore-T.curScore<=4e3?a=80:T.targetScore-T.curScore<=5e3&&(a=100),h.launchCount<3&&0==T.curStage&&(a=100),T.consecutiveFails>=5&&(a+=T.consecutiveFails),o(0,100)<a&&e.splice(Math.floor(Math.random()*e.length),1);for(var r=[],n=0;n<100;n++)r[n]=e[Math.floor(Math.random()*e.length)];return r},u.resetData=function(){var t=new C;d.saveObject(D,t),this.loadData()},u.addScore=function(t){T.curScore+=t},u.setStatus=function(t){T.status=t},u.getTargetScore=function(t){var e=t,a=0,r=[1e3,3e3,6e3,9e3,13e3,16e3,2e4,23e3,27e3,32e3],n=[3e3,4e3,5e3,3e3,4e3,5e3,4e3,5e3,5e3,5e3],o=0;if(n.forEach((function(t){o+=t})),e<r.length)a=r[e];else{for(var c=r[r.length-1]+Math.floor((e-r.length)/r.length)*o,i=e%n.length,u=0;u<i+1;u++)c+=n[u];a=c}return a},u.getTargetScore2=function(t){var e=0,a=[1e3,3e3,6e3,8e3,1e4,13e3,15e3,17e3,2e4,24e3];if(t<a.length)e=a[t];else{var r=Math.floor(T.curScore/1e3),n=T.curScore<20?2:3;e=1e3*r+1e3*o(n,6)}return e},u.getTargetScore_org=function(t){var e=[1e3,3e3,6e3,8e3,1e4,13e3,15e3,17e3,2e4,24e3];return t<e.length?e[t]:e[e.length-1]+4e3*(t-(e.length-1))},u.getTargetScore2_=function(t){for(var e=[],a=0,r=t,n=0;n<v.length;n++){var o=v[n];e[n]=o.target,n>0&&(e[n]=o.target+e[n-1])}if(r<e.length)a=e[r],v[r].gemTypeCount;else{var c=[3e3,3500,4e3,4500,5e3,4500,4e3,3500],i=(r-e.length)%c.length,u=0;c.forEach((function(t){u+=t}));var g=Math.floor((r-(e.length-1))/(c.length+1e-4));a=e[e.length-1]+g*u;for(var s=0;s<c.length;s++){c[s];i>=s&&(a+=c[s])}}return a},u.getMagicMaxInCurrentStage=function(t){for(var e=5,a=[10,20,30,40,50,60,70,80,90,100,150,200,300,400,500,1e3,1e4],r=0;r<a.length;r++){if(!(t>=a[r]))break;e+=1}return e},u.getMagicInfo=function(t){n(c.getClassName(this)+".getMagicInfo()");var e=[{id:"bomb",count:5,max:5,price:2,name:l.t("magicBomb")},{id:"color",count:5,max:5,price:2,name:l.t("magicColorSwitcher")},{id:"shuffle",count:5,max:5,price:1,name:l.t("magicShuffle")}].find((function(e,a,r){return e.id==t}));if(e){var a=T.magics.find((function(e,a,r){return e.id==t}));return a||i("!magicUser"),e.count=a.count,e}console.warn("getMagicInfo(), can't find magic id:",t)},u.getMagicCount=function(t){var e=0,a=T.magics.find((function(e,a,r){return e.id==t}));return a&&(e=a.count),e},u.useMagic=function(t){var e=T.magics.find((function(e,a,r){return e.id==t}));return!!(e&&e.count>0)&&(e.count--,T.magicQuota--,this.node.emit(r.EVT_MAGIC_CHANGED),!0)},u.addMagic=function(t,e){var a=T.magics.find((function(e,a,r){return e.id==t}));return!!a&&(a.count+=e,this.node.emit(r.EVT_MAGIC_CHANGED),!0)},r}(u)).EVT_MAGIC_CHANGED="EVT_MAGIC_CHANGED",S=m))||S),t("gPopDataCtl",null));a._RF.pop()}}}));

System.register("chunks:///_virtual/PopEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Pop.ts","./MyLayoutItem.ts","./AppAudioRes.ts","./App.ts","./GConst.ts"],(function(e){var o,t,n,i,a,r,l,c,s,p,u,d,f,y,b,g,m,h,S,v,C,P,w,G,E,x,z,J;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,l=e.Node,c=e.Label,s=e.Prefab,p=e.v3,u=e.instantiate,d=e.ParticleSystem2D,f=e.tween,y=e.UIOpacity,b=e.log,g=e.easing,m=e.find,h=e.sys,S=e.view,v=e.UITransform,C=e.Component},function(e){P=e.gPopGame,w=e.gPopRes,G=e.gPopGrid},function(e){E=e.MyLayoutItem},function(e){x=e.AUD},function(e){z=e.gAppAudioPlayer},function(e){J=e.LAYER_FG2}],execute:function(){var A,I,R,L,N,H,O,T,D,F,_,B,k,M,U,V,W,j,K,X,Y;a._RF.push({},"76b38yImcJD0KXNWpjHw0Ay","PopEffect",void 0);var q=r.ccclass,Q=r.property;e("PopEffect",(A=q("PopEffect"),I=Q(l),R=Q(l),L=Q(c),N=Q(c),H=Q(l),O=Q(l),T=Q(l),D=Q(s),F=Q(s),A((k=o((B=function(e){function o(){for(var o,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return o=e.call.apply(e,[this].concat(a))||this,n(o,"nodeParticleEraseGem",k,i(o)),n(o,"nodeParticleColorSwitch",M,i(o)),n(o,"labelSingleScore",U,i(o)),n(o,"labelSumScore",V,i(o)),n(o,"nodeGoodJobSamples",W,i(o)),n(o,"nodeGoodJobContainer",j,i(o)),n(o,"nodeComboSample",K,i(o)),n(o,"prefabNewHighScore",X,i(o)),n(o,"prefabTargetCleared",Y,i(o)),o}t(o,e);var a=o.prototype;return a.onLoad=function(){this.nodeGoodJobSamples.active=!1},a.start=function(){},a.playEraseItemEffect=function(e,o){var t=p(e),n=u(this.nodeParticleEraseGem);n.parent=this.node,n.active=!0,n.worldPosition=t;var i=n.getComponent(d);i&&(i.startColor=o,i.endColor=o,i.autoRemoveOnFinish=!0,i.resetSystem())},a.playItemScoreEffect=function(e,o){var t=p(e);this.labelSingleScore.string=o.toString();var n=u(this.labelSingleScore.node);n.parent=this.node,n.active=!0,n.worldPosition=t;var i=P.labelCurScore.node.worldPosition;f(n).by(.3,{worldPosition:p(0,10,0)}).to(.38,{worldPosition:i,scale:p(.5,.5,1)}).call((function(){P.addScore(o),n.destroy()})).start()},a.playSumScoreEffect=function(e,o){var t=p(e);this.labelSumScore.string=o.toString();var n=u(this.labelSumScore.node);n.parent=this.node,n.active=!0,t.y+=50,n.setWorldPosition(t);var i=p(n.position);i.x<-260?i.x=-260:i.x>260&&(i.x=260),n.setPosition(i),f(n).set({scale:p(.001,.001)}).to(.2,{scale:p(1,1)}).by(1.5,{position:p(0,60,0)}).call((function(){f(n.getComponent(y)).to(.2,{opacity:0}).start()})).to(.3,{scale:p(.001,.001)}).removeSelf().start()},a.playGoodJobEffect=function(e){var o=[7,10,15,25,30];if(e>=o[0]){for(var t=o.length-1;t>=0&&!(e>=o[t]);t--);var n=u(this.nodeGoodJobSamples.getChildByName("GoodJob"+(t+1)));n.parent=this.nodeGoodJobContainer,n.setScale(3,3),f(n).to(.2,{scale:p(1,1)},{easing:"backIn"}).call((function(){f(n.getComponent(y)).to(.05,{opacity:0}).to(.05,{opacity:255}).union().repeat(3*t).delay(1.5).to(t<4?.5:2,{opacity:0}).start()})).delay(t<4?2.6:5).removeSelf().start(),x.GoodJobs.length>0&&t<x.GoodJobs.length&&(z.playSound(x.GoodJobs[t]),4==t&&this.scheduleOnce((function(){z.playSound(x.GoodJobs[3])}),.5))}},a.playComboEffect=function(e,o){var t=this,n=200,i=p(e),a=u(this.nodeComboSample),r=a.getChildByName("LabelComboValue").getComponent(c);r.string="7",a.parent=this.node,a.active=!0,a.setWorldPosition(i);var l=p(a.position);l.x<-200?l.x=-200:l.x>n&&(l.x=n),a.setPosition(l);for(var s=function(e){t.scheduleOnce((function(){r.string=""+(e+1),f(r.node).to(.1,{scale:p(1.2,1.2,1.2)}).to(.1,{scale:p(1,1,1)}).start()}),.1*e)},d=0;d<o;d++)s(d);f(a).set({scale:p(.001,.001)}).to(.2,{scale:p(1,1)}).delay(.1*o+2).removeSelf().start()},a.playExposeGemEffect=function(e){var o=p(e),t=u(w.ParticleExposeGem);t.parent=this.node,t.active=!0,t.worldPosition=o,t.getComponent(d).autoRemoveOnFinish=!0,z.playSound(x.Bomb)},a.playColorSwitcherEffect=function(e){var o=p(e),t=u(this.nodeParticleColorSwitch);t.parent=this.node,t.active=!0,t.worldPosition=o,t.getComponent(d).autoRemoveOnFinish=!0,z.playSound(x.ReplaceGem)},a.playTargetClearEffect=function(){P.targetCleared.active=!0;var e=P.targetCleared.getComponent(E);e&&e.updateLayout();var o=p(P.targetCleared.worldPosition),t=p(P.targetCleared.scale);b("scaleOrg:"+t.toString());var n=P.targetCleared;n.getComponent(y).opacity=0;var i=u(this.prefabTargetCleared);i.getComponent(y).opacity=255,i.parent=this.node;var a=G.node.worldPosition.x,r=G.node.worldPosition.y+160;i.worldPosition=p(a,r,this.node.worldPosition.z),i.setScale(3*t.x,3*t.y),f(i).to(.2,{scale:p(1.5*t.x,1.5*t.y)},{easing:"backIn"}).call((function(){f(i.getComponent(y)).to(.1,{opacity:0}).to(.1,{opacity:255}).union().repeat(3).delay(1.5).start()})).delay(1.5).to(.5,{worldPosition:o,scale:t},{easing:g.circOut}).call((function(){n.getComponent(y).opacity=255,n.setScale(t),i.destroy()})).start(),z.playSound(x.TargetClear)},a.playNewHighScoreEffect=function(){var e=u(this.prefabNewHighScore),o=m(J);e.parent=o||this.node;var t=h.getSafeAreaRect(),n=S.getVisibleSize(),i=e.getComponent(v).contentSize,a=n.height/2+i.height/2;e.position=p(0,a,1),f(e).by(.3,{position:p(0,-(i.height+t.y))}).delay(2).by(.3,{position:p(0,i.height+t.y)}).call((function(){e.destroy(),f(P.labelHighScoreValue.node).hide().delay(.2).show().delay(.1).union().repeat(3).start()})).start(),z.playSound(x.NewHighScore)},o}(C)).prototype,"nodeParticleEraseGem",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=o(B.prototype,"nodeParticleColorSwitch",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=o(B.prototype,"labelSingleScore",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=o(B.prototype,"labelSumScore",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=o(B.prototype,"nodeGoodJobSamples",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=o(B.prototype,"nodeGoodJobContainer",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=o(B.prototype,"nodeComboSample",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=o(B.prototype,"prefabNewHighScore",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=o(B.prototype,"prefabTargetCleared",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=B))||_));a._RF.pop()}}}));

System.register("chunks:///_virtual/PopGame.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopData.ts","./Pop.ts","./PopCommon.ts","./App.ts","./AppCoinInfo.ts","./GConst.ts"],(function(e){var t,r,o,i,a,n,l,c,u,s,p,f,g,b,d,h,y,S,m,v,P,w,C,D;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,n=e._decorator,l=e.Node,c=e.Label,u=e.log,s=e.tween,p=e.UIOpacity,f=e.v3,g=e.Component},function(e){b=e.gPopDataCtl,d=e.gPopData},function(e){h=e.gPopGrid,y=e.gPopUI,S=e.gPopEffect},function(e){m=e.PopStatus},function(e){v=e.gAppPlatform,P=e.gAppDirector},function(e){w=e.AppCoinInfo},function(e){C=e.VIEW_HOME,D=e.VIEW_POPGAME}],execute:function(){var I,N,z,V,H,G,E,F,M,A,U,_,T,j,k,B,L,O,R,W,x,Q,Y,q;a._RF.push({},"33ccdPGSHlEMYjmtcS0ijQ3","PopGame",void 0);var J=n.ccclass,K=n.property;e("PopGame",(I=J("PopGame"),N=K(l),z=K(c),V=K(c),H=K(c),G=K(c),E=K(l),F=K(l),M=K(l),A=K([l]),U=K([l]),I(((q=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return t=e.call.apply(e,[this].concat(a))||this,o(t,"layout",j,i(t)),o(t,"labelCurScore",k,i(t)),o(t,"labelHighScoreValue",B,i(t)),o(t,"labelStageValue",L,i(t)),o(t,"labelTargetValue",O,i(t)),o(t,"targetCleared",R,i(t)),o(t,"fg",W,i(t)),o(t,"eventBlocker",x,i(t)),o(t,"arrUINodes",Q,i(t)),o(t,"arrDecorateNodes",Y,i(t)),t.curScoreForDisplay=0,t}r(t,e);var a=t.prototype;return a.start=function(){var e=this;u("PopGame.start()"),b.prepare(),this.labelCurScore.string=""+d.curScore,this.curScoreForDisplay=d.curScore,this.labelStageValue.string=""+(d.curStage+1),w.instance.node.active=!0,this.fg.active=!0,s(this.fg.getComponent(p)).to(2.5,{opacity:0}).call((function(){e.fg.destroy()})).start(),s(this.layout.getComponent(p)).set({opacity:0}).to(.5,{opacity:255}).start(),h.node.active=!1,m.end==d.status?y.showRetryDialog():y.showStageIntro()},a.onDestroy=function(){u("PopGame.destroy()")},a.addScore=function(e){if(0!=e&&(this.curScoreForDisplay+=e,this.labelCurScore.string=this.curScoreForDisplay.toString(),s(this.labelCurScore.node).to(.1,{scale:f(1.2,1.2,1.2)}).to(.1,{scale:f(1,1,1)}).start(),!this.targetCleared.active&&this.curScoreForDisplay>=d.targetScore&&(this.targetCleared.active=!0,S.playTargetClearEffect()),t.newHighScoreMade)){var r=parseInt(this.labelHighScoreValue.string);r>0&&this.curScoreForDisplay>r&&(S.playNewHighScoreEffect(),v.reportScore(d.highScore),v.reportMagics(d.bestStage),t.newHighScoreMade=!1)}},a.goHome=function(){P.loadView(C)},a.reload=function(){P.loadView(D)},a.hideNodes=function(e){e.forEach((function(e){var t=e.getComponent(p);if(t||(t=e.addComponent(p)),t&&t.node.active){var r=t.opacity;s(t).to(.3,{opacity:0}).call((function(){t.opacity=r,t.node.active=!1})).start()}}))},a.hideUINodes=function(){this.hideNodes(this.arrUINodes)},a.hideDecorateNodes=function(){this.hideNodes(this.arrDecorateNodes)},t}(g)).newHighScoreMade=!1,j=t((T=q).prototype,"layout",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(T.prototype,"labelCurScore",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(T.prototype,"labelHighScoreValue",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(T.prototype,"labelStageValue",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(T.prototype,"labelTargetValue",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(T.prototype,"targetCleared",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(T.prototype,"fg",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(T.prototype,"eventBlocker",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(T.prototype,"arrUINodes",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=t(T.prototype,"arrDecorateNodes",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=T))||_));a._RF.pop()}}}));

System.register("chunks:///_virtual/PopGameHelpUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts"],(function(e){var t,n,i,r,o,l,a,c,s,p,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,a=e.TextAsset,c=e.RichText,s=e.Node,p=e.Component},function(e){u=e.gAppHelper}],execute:function(){var f,h,b,g,y,v,d,m,P;o._RF.push({},"80480uUcINHro7WapgyvvZt","PopGameHelpUI",void 0);var x=l.ccclass,A=l.property;e("PopGameHelpUI",(f=x("PopGameHelpUI"),h=A(a),b=A(c),g=A(s),f((d=t((v=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,i(t,"txtAsset",d,r(t)),i(t,"labelContent",m,r(t)),i(t,"loading",P,r(t)),t}n(t,e);var o=t.prototype;return o.start=function(){var e=this;u.showPanel(this),this.scheduleOnce((function(){e.labelContent.string=e.txtAsset.text,e.loading.active=!1}),.2)},o.onCloseClick=function(){u.closePanel(this)},t}(p)).prototype,"txtAsset",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=t(v.prototype,"labelContent",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(v.prototype,"loading",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=v))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/PopGameLayout.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GFunction.ts","./App.ts","./GConst.ts"],(function(e){var r,t,i,o,n,a,l,h,u,g,c,d,s,f,p,w;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,l=e.UITransform,h=e.Label,u=e.Node,g=e.sys,c=e.view,d=e.v3,s=e.Component},function(e){f=e.findCanvas},function(e){p=e.gAppResolution},function(e){w=e.DESIGN_H}],execute:function(){var b,H,y,m,R,L,S,v,C,P,z,O,I,G,M,T,E,D,_,A,F,N,V,q,Z,j,k,x,B,U,J;n._RF.push({},"ccd15PRPdlLqomc5TD9a1qZ","PopGameLayout",void 0);var K=a.ccclass,Q=a.property;e("PopGameLayout",(b=K("PopGameLayout"),H=Q(l),y=Q(l),m=Q(l),R=Q(l),L=Q(l),S=Q(l),v=Q(h),C=Q(u),P=Q(u),z=Q(u),O=Q(u),I=Q(u),G=Q(u),M=Q(u),b((D=r((E=function(e){function r(){for(var r,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return r=e.call.apply(e,[this].concat(n))||this,i(r,"headerRow0",D,o(r)),i(r,"headerRow1",_,o(r)),i(r,"headerRow2",A,o(r)),i(r,"headerRow3",F,o(r)),i(r,"middle",N,o(r)),i(r,"footer",V,o(r)),i(r,"labelCurScore",q,o(r)),i(r,"nodeCurScoreLargeHParent",Z,o(r)),i(r,"nodeCurScoreMiddleHParent",j,o(r)),i(r,"nodeTargetClear",k,o(r)),i(r,"nodeTargetClearLargeHParent",x,o(r)),i(r,"nodeTargetClearMiddleHParent",B,o(r)),i(r,"nodeHighScoreInfo",U,o(r)),i(r,"nodeCurScoreInfoMiddleH",J,o(r)),r.row0HeightOrg=60,r.row1HeightOrg=60,r.row2HeightOrg=80,r.row3HeightOrg=80,r}t(r,e);var n=r.prototype;return n.onLoad=function(){this.row0HeightOrg=this.headerRow0.height,this.row1HeightOrg=this.headerRow1.height,this.row2HeightOrg=this.headerRow2.height,this.row3HeightOrg=this.headerRow3.height},n.start=function(){var e=this;this.updateLayout(),f().on(u.EventType.SIZE_CHANGED,(function(){e.updateLayout()}),this)},n.updateLayout=function(){console.log("PopGameLayout.updateLayout()"),this.headerRow0.height=this.row0HeightOrg,this.headerRow1.height=this.row1HeightOrg,this.headerRow2.height=this.row2HeightOrg,this.headerRow3.height=this.row3HeightOrg;g.getSafeAreaRect();if(this.headerRow3.node.active=p.isLargeH(),this.labelCurScore.node.parent=p.isLargeH()?this.nodeCurScoreLargeHParent:this.nodeCurScoreMiddleHParent,this.nodeHighScoreInfo.active=p.isLargeH(),this.nodeCurScoreInfoMiddleH.active=!this.nodeHighScoreInfo.active,p.isShortH()){this.headerRow0.height=0;var e=c.getVisibleSize().height-w+this.row3HeightOrg;if(e>0){var r=[this.middle];r.forEach((function(t){t.height+=e/r.length}))}else e<0&&this.middle.node.setScale(d(1+e/640,1+e/640,1))}else if(p.isMiddleH()){this.headerRow0.height=0;var t=c.getVisibleSize().height-w+this.row3HeightOrg;if(t>0){var i=[this.middle,this.footer];i.forEach((function(e){e.height+=t/i.length}))}}else if(p.isLargeH()){var o=c.getVisibleSize().height-w;if(o>0)if(o<100)this.headerRow1.height+=o;else{this.headerRow1.height+=100,o-=100;var n=[this.middle,this.footer];n.forEach((function(e){e.height+=o/n.length}))}console.log("PopGameLayout.updateLayout() deltaH="+o),console.log("headerRow1.height",this.headerRow1.height)}},r}(s)).prototype,"headerRow0",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=r(E.prototype,"headerRow1",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=r(E.prototype,"headerRow2",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=r(E.prototype,"headerRow3",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=r(E.prototype,"middle",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=r(E.prototype,"footer",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=r(E.prototype,"labelCurScore",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=r(E.prototype,"nodeCurScoreLargeHParent",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=r(E.prototype,"nodeCurScoreMiddleHParent",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=r(E.prototype,"nodeTargetClear",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=r(E.prototype,"nodeTargetClearLargeHParent",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=r(E.prototype,"nodeTargetClearMiddleHParent",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=r(E.prototype,"nodeHighScoreInfo",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=r(E.prototype,"nodeCurScoreInfoMiddleH",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=E))||T));n._RF.pop()}}}));

System.register("chunks:///_virtual/PopGameOverUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./AppAudioRes.ts"],(function(e){var t,o,n,i,r,s,a,l,c,u,p,d,f,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,a=e.Node,l=e.Layout,c=e.view,u=e.Component,p=e.v3,d=e.tween},function(e){f=e.gAppAudioPlayer},function(e){h=e.AUD}],execute:function(){var v,y,P,g,E,O;r._RF.push({},"d213fMps+dKHa8huHw2weox","PopGameOverUI",void 0);var m=s.ccclass,w=s.property;e("PopGameOverUI",(v=m("PopGameOverUI"),y=w(a),v(((O=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,n(t,"letters",E,i(t)),t.destroyOnClose=!1,t}o(t,e);var r=t.prototype;return r.setParams=function(e){this.node.on(t.EVT_COMPLETE,(function(){e&&e()}))},r.onLoad=function(){this.letters.getComponent(l).enabled=!1},r.start=function(){this.show()},r.show=function(){var e=this,o=c.getVisibleSize().width;console.log("view.getVisibleSize():",o);for(var n=0,i=this.letters.children,r=function(){var r=i[s],a=s;n+=.1;var l=p(r.position);r.setPosition(l.x+o,l.y,l.z),d(r).delay(n).to(.5,{position:l}).delay(1).by(.2,{position:p(0,100,0)}).to(.2,{position:l}).call((function(){a==i.length-1&&e.scheduleOnce((function(){e.node.emit(t.EVT_COMPLETE),e.destroyOnClose&&e.node.destroy()}),1)})).start()},s=0;s<i.length;s++)r();f.playSound(h.GameOver)},t}(u)).EVT_COMPLETE="EVT_COMPLETE",E=t((g=O).prototype,"letters",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=g))||P));r._RF.pop()}}}));

System.register("chunks:///_virtual/PopGameView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Pop.ts"],(function(o){var e,n,t,i,r,c;return{setters:[function(o){e=o.inheritsLoose},function(o){n=o.cclegacy,t=o._decorator,i=o.Component},function(o){r=o.gPopUI,c=o.gPopGame}],execute:function(){var p;n._RF.push({},"88971rvEX9Krr8Bm4oawd6p","PopGameView",void 0);var u=t.ccclass;t.property,o("PopGameView",u("PopGameView")(p=function(o){function n(){return o.apply(this,arguments)||this}e(n,o);var t=n.prototype;return t.start=function(){},t.onPauseClick=function(){r.showSetting()},t.onHomeClick=function(){c.goHome()},t.onGameHelpClick=function(){r.showGameHelp()},n}(i))||p);n._RF.pop()}}}));

System.register("chunks:///_virtual/PopGem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Pop.ts","./PopCommon.ts"],(function(t){var e,i,n,o,s,r,c,l,f,a,h,p,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator,c=t.Sprite,l=t.tween,f=t.v3,a=t.color,h=t.Component},function(t){p=t.gPop},function(t){u=t.PopGemType}],execute:function(){var g,y,d,b,m,E,w,v,_;s._RF.push({},"72cbcYmy9FEyrEuM0FFumd2","PopGem",void 0);var P=r.ccclass,F=r.property,H=r.executeInEditMode;t("PopGem",(g=P("PopGem"),y=H(!0),d=F(c),b=F(c),g(m=y((w=e((E=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,n(e,"bg",w,o(e)),n(e,"fg",v,o(e)),n(e,"type",_,o(e)),e._tweenSelectEffect=null,e._tweenHighlightedEffect=null,e}i(e,t);var s=e.prototype;return s.start=function(){},s.updateType=function(){this.type>=0&&(this.bg.spriteFrame=p.res.gemBgs[this.type],this.fg.spriteFrame=p.res.gemFgs[this.type]),this.node.active=!this.isEmpty()},s.isEmpty=function(){return this.type==u.Empty},s.setEmpty=function(){this.type=u.Empty},s.blink=function(){l(this.node).hide().delay(.2).show().delay(.1).union().repeat(3).start()},s.setEditing=function(t){var e=t?f(.9,.9,1):f(1,1,1);l(this.bg.node).to(.1,{scale:e}).start();var i=t?a(180,180,180,255):a(255,255,255,255);this.bg.color=i,this.fg.color=i},s.setHighlighted=function(t){this.bg.node.scale=t?f(1,1,1):f(.9,.9,1),this.bg.color=t?a(255,255,255,255):a(180,180,180,255),this.fg.color=t?a(255,255,255,255):a(180,180,180,255),t?(this._tweenHighlightedEffect&&(this._tweenHighlightedEffect.stop(),this._tweenHighlightedEffect=null),this._tweenHighlightedEffect=l(this.fg.node).to(.3,{scale:f(1.2,1.2,1)}).to(.3,{scale:f(1,1,1)}).union().repeatForever().start()):(this._tweenHighlightedEffect&&(this._tweenHighlightedEffect.stop(),this._tweenHighlightedEffect=null),this.fg.node.scale=f(1,1,1))},s.move=function(t,e){var i=this.node,n=f(i.position),o=f(n),s=0,r=0;l(n).by(.3,{x:t,y:e},{easing:"backIn",onUpdate:function(t,e){i&&i.position&&(s+=i.position.x-o.x,r+=i.position.y-o.y,i.setPosition(t.x+s,t.y+r,n.z),o=f(i.position))}}).start()},s.playSelectEffect=function(){var t=a(this.bg.color);t.a=100,this.bg.color=t,this._tweenSelectEffect=l(this.fg.node).to(1,{angle:360}).set({angle:0}).union().repeatForever().start()},s.stopSelectEffect=function(){this._tweenSelectEffect&&(this._tweenSelectEffect.stop(),this._tweenSelectEffect=null);var t=a(this.bg.color);t.a=255,this.bg.color=t,l(this.fg.node).set({angle:0}).start()},s.onClick=function(){},e}(h)).prototype,"bg",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(E.prototype,"fg",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(E.prototype,"type",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u.Empty}}),m=E))||m)||m));s._RF.pop()}}}));

System.register("chunks:///_virtual/PopGlobal.ts",["cc"],(function(e){var o;return{setters:[function(e){o=e.cclegacy}],execute:function(){o._RF.push({},"824a0DTsh9Fvqp9l82eoVh3","PopGlobal",void 0);var c=e("PopGlobal",(function(){}));c.newBestScoreShowed=!1,c.adClickTime=0,o._RF.pop()}}}));

System.register("chunks:///_virtual/PopGrid.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopGem.ts","./TapAndHold.ts","./Pop.ts","./PopData.ts","./PopCommon.ts","./PopGame.ts","./AppAudioRes.ts","./App.ts"],(function(e){var t,n,o,i,r,s,a,c,h,l,u,f,d,m,p,g,v,I,E,y,S,P,T,C,b,G,O,M;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,i=e.v3,r=e.Node,s=e.log,a=e.view,c=e.tween,h=e.randomRangeInt,l=e.js,u=e.easing,f=e.Component,d=e.color},function(e){m=e.PopGem},function(e){p=e.default},function(e){g=e.gPop,v=e.gPopMagic,I=e.gPopEffect,E=e.gPopGame,y=e.gPopUI},function(e){S=e.gPopData},function(e){P=e.PopMagicId,T=e.PopStatus,C=e.PopGemType,b=e.PopGemColors},function(e){G=e.PopGame},function(e){O=e.AUD},function(e){M=e.gAppAudioPlayer}],execute:function(){var w,x;n._RF.push({},"400de14GE5PR4BrXkgR/lEl","PopGrid",void 0);var A=o.ccclass,R=(o.property,10),D=10;e("PopGrid",A("PopGrid")(((x=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))||this).arrPositions=[],t.arrItems=[],t.arrSelectedItems=[],t.isEditing=!1,t.interactable=!1,t.doubleClickModeOn=!1,t}t(n,e);var o=n.prototype;return o.start=function(){for(var e=this,t=0;t<this.node.children.length;t++){this.arrPositions[t]=i(this.node.children[t].position);var n=this.node.children[t].getComponent(m);n.node.active=!1,this.arrItems[t]=n}this.scheduleOnce((function(){e.fromData(S.arrGems);var t=e.showUp();e.scheduleOnce((function(){e.isConnectable()?(e.arrItems.forEach((function(t){t.node.on(r.EventType.TOUCH_START,e.onItemTouchStart,e),t.node.on(r.EventType.TOUCH_END,e.onItemTouchEnd,e),t.node.on(p.EVT_TAP_AND_HOLD,e.onItemTapAndHold,e)})),e.interactable=!0):e.handleGameEnd(t)}),t)}))},o.onItemTouchStart=function(e){console.log("onItemTouchStart()"),(this.doubleClickModeOn||g.helper.isMagicToolBarAvailable())&&this.onItemTouch(e)},o.onItemTapAndHold=function(e,t){s("PopGrid.onItemTapAndHold()"),this.isEditing||e.active&&(this.deselect(),v.selectMagic(P.color),v.onMagicModeSelectItem(e.getComponent(m)))},o.onItemTouchEnd=function(e){console.log("onItemTouchEnd()"),e.propagationImmediateStopped?console.log("evt.evt.propagationImmediateStopped"):this.doubleClickModeOn||g.helper.isMagicToolBarAvailable()||this.onItemTouch(e)},o.onItemTouch=function(e){var t=e.target.getComponent(m);t&&!t.isEmpty()&&(this.isEditing?this.node.emit(n.EVT_ITEM_SELECT,t):this.touchItem(t))},o.selectItems=function(e){this.arrSelectedItems=e,this.arrSelectedItems.forEach((function(e){e.playSelectEffect()}))},o.deselect=function(){this.arrSelectedItems.forEach((function(e){e.stopSelectEffect()})),this.arrSelectedItems=[]},o.touchItem=function(e){var t=this.arrItems.indexOf(e);if(t>=0&&t<this.arrItems.length)if(this.arrSelectedItems.length>0&&this.arrSelectedItems.indexOf(e)>=0){var n=this.arrSelectedItems.slice(0);this.eraseItems(n),this.arrSelectedItems=[]}else{this.deselect();var o=[];this.findConnectableAtIndex(t,o),o.length>=2&&(this.selectItems(o),this.doubleClickModeOn||this.touchItem(e))}},o.eraseItems=function(e){for(var t=this,n=5*e.length,o=e.length*n,i=0,r=function(){var r=e[s],a=s,c=d(b[r.type]);r.setEmpty(),t.scheduleOnce((function(){r.updateType(),g.effect.playEraseItemEffect(r.node.worldPosition,c),O.Combos.length>0&&M.playSound(O.Combos[a%O.Combos.length]),g.effect.playItemScoreEffect(r.node.worldPosition,n)}),i),s==e.length-1&&t.scheduleOnce((function(){I.playSumScoreEffect(r.node.worldPosition,o),I.playGoodJobEffect(e.length)}),i),e.length>=7&&0==s&&t.scheduleOnce((function(){I.playComboEffect(e[0].node.worldPosition,e.length)}),i),i+=.1},s=0;s<e.length;s++)r();i+=this.arrangeItems(i);var a=S;a.curScore+=o,a.arrGems=this.toData(),this.isConnectable()||this.handleGameEnd(i)},o.replaceItem=function(e,t){if(e){e.type=t,S.arrGems=this.toData();var n=i(e.node.worldPosition);I.playColorSwitcherEffect(n),this.scheduleOnce((function(){e.updateType()}),.38)}},o.index2Pos=function(e){return this.arrPositions[e]},o.fromData=function(e){if(e.length==this.arrItems.length)for(var t=0;t<this.arrItems.length;t++){this.arrItems[t].type=e[t]}else console.warn("arr.length != this.arrItems.length")},o.toData=function(){for(var e=[],t=0;t<this.arrItems.length;t++)e[t]=this.arrItems[t].type;return e},o.showUp=function(){this.arrItems.forEach((function(e){e.node.active=!0,e.updateType()}));for(var e=0,t=0,n=0;n<this.arrItems.length;n++){var o=this.arrItems[n],r=Math.floor(n/D),s=n%D,h=i(o.node.position),l=i(h);l.y+=a.getVisibleSize().height,t=.1*(R-r-1)+.5*Math.random(),e=Math.max(t,e);var u=r==s&&o.type>0?function(){M.playSound(O.MoveDown)}:function(){};o.node.setPosition(l),c(o.node).delay(t).to(.5,{position:h},{easing:"sineIn"}).call(u).start()}return e+.5},o.findConnectableAtIndex=function(e,t){var n=Math.floor(e/D),o=e%D,i=this.arrItems;if(e>=0&&e<i.length){var r=i[e];if(r&&r.type>0){0==t.length&&t.push(r);for(var s=[n-1<0?-1:(n-1)*D+o,n+1>=R?-1:(n+1)*D+o,o-1<0?-1:n*D+(o-1),o+1>=D?-1:n*D+o+1],a=0;a<s.length;a++){var c=s[a];if(c>=0&&c<i.length){var h=i[c];r.type==h.type&&t.indexOf(h)<0&&(t.push(h),this.findConnectableAtIndex(c,t))}}}}},o.isConnectable=function(){for(var e=!1,t=this.arrItems.length-1;t>=0;t--){var n=[];if(this.findConnectableAtIndex(t,n),n.length>1){e=!0;break}}return e},o.moveItem=function(e,t,n){var o=this.index2Pos(t),i=this.index2Pos(n);e.move(i.x-o.x,i.y-o.y)},o.arrangeItems=function(e){for(var t=this,n=0,o=this.arrItems,i=!1,r=0;r<R;r++)for(var s=function(){var s=a*D+r,c=o[s];if(c&&0==c.type)for(var h=function(){var a=l*D+r,h=o[a];if(h&&h.type>0)return o[a]=c,o[s]=h,t.scheduleOnce((function(){c.node.active=!1,t.moveItem(h,a,s)}),e+n),i=!0,1},l=a-1;l>=0&&!h();l--);},a=9;a>=0;a--)s();n=i?n+.3:n,i&&this.scheduleOnce((function(){M.playSound(O.MoveDown)}),e+n);for(var c=!1,h=0;h<D;h++){var l=o[90+h];if(l&&0==l.type)for(var u=h+1;u<D;u++){var f=o[90+u];if(f&&f.type>0){for(var d=function(){var i=m*D+h,r=m*D+u,s=o[i],a=o[r];o[r]=s,o[i]=a,t.scheduleOnce((function(){s.node.active=!1,t.moveItem(a,r,i)}),e+n),c=!0},m=9;m>=0;m--)d();break}}}return n=c?n+.3:n,c&&this.scheduleOnce((function(){M.playSound(O.MoveDown2)}),e+n),n},o.calcBonus=function(){var e=2e3;return e=(e-=200*this.getRemainingGems().length)>=0?e:0},o.handleGameEnd=function(e){E.eventBlocker.active=!0,e+=this.blink(e),e+=this.showResult(e);var t=S;t.curScore+=this.calcBonus(),t.curScore>=t.targetScore?(t.status=T.passed,t.consecutiveWins++,t.consecutiveFails=0):(t.status=T.end,t.consecutiveWins=0,t.consecutiveFails++,t.curScore>t.highScore&&(t.highScore=t.curScore,G.newHighScoreMade=!0))},o.blink=function(e){var t=this;return this.scheduleOnce((function(){for(var e=0;e<t.arrItems.length;e++){t.arrItems[e].blink()}M.playSound(O.LevelEnd)}),e),1},o.showResult=function(e){return this.scheduleOnce((function(){y.showResult()}),e),1},o.eraseRemainingItems=function(e,t){for(var n=this,o=0,i=this.getRemainingGems(),r=function(r){var s=i[r],a=r,c=d(b[s.type]);s.setEmpty(),n.scheduleOnce((function(){s.updateType(),I.playEraseItemEffect(s.node.worldPosition,c),a<10?M.playSound(O.CalcRemaining):10==r&&M.playSound(O.CalcRemainingEnd),t(s,i)}),e+o),o=r<9?o+.2:o,o=9==r?o+.8:o},s=0;s<i.length;s++)r(s);return o},o.getRemainingGems=function(){for(var e=[],t=0;t<this.arrItems.length;t++){var n=this.arrItems[t];n.type!=C.Empty&&e.push(n)}return e},o.autoErase=function(){var e=this;if(this.interactable){var t=h(0,this.arrItems.length),n=t;do{var o=[];if(this.findConnectableAtIndex(n,o),o.length>1){this.eraseItems(o),this.scheduleOnce((function(){e.autoErase()}),.1*o.length);break}n=(n+1)%this.arrItems.length}while(n!=t)}},o.exposeGem=function(e){for(var t=this.arrItems,n=t[e],o=D,i=Math.floor(e/o),r=e%o,s=[i-1<0?-1:(i-1)*o+r,i+1>=10?-1:(i+1)*o+r,r-1<0?-1:i*o+(r-1),r+1>=o?-1:i*o+r+1],a=[n],c=0;c<s.length;c++){var h=s[c];if(h>=0&&h<t.length){var l=t[h];l.type!=C.Empty&&a.push(l)}}I.playExposeGemEffect(n.node.worldPosition),this.eraseItems(a)},o.setEditing=function(e){this.isEditing=e;for(var t=0;t<this.arrItems.length;t++){this.arrItems[t].setEditing(e)}},o.shuffle=function(){console.log(l.getClassName(this)+" shuffle()");var e=u.smooth;s("easing:"+e.toString());for(var t=!1,n=this.arrItems,o=this.getRemainingGems();o.length>=2;){var i=h(0,o.length),r=o.splice(i,1)[0],a=h(0,o.length),f=o.splice(a,1)[0],d=n.indexOf(r),m=n.indexOf(f);n[d]=f,n[m]=r;var p=this.index2Pos(d),g=this.index2Pos(m);c(r.node).to(.5,{position:g},{easing:e}).start(),c(f.node).to(.5,{position:p},{easing:e}).start(),t||(t=!0)}return S.arrGems=this.toData(),M.playSound(O.Shuffle),t},n}(f)).EVT_ITEM_SELECT="EVT_ITEM_SELECT",x.iRandIndex=0,w=x))||w);n._RF.pop()}}}));

System.register("chunks:///_virtual/PopHelper.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,o,n;return{setters:[function(e){r=e.inheritsLoose},function(e){t=e.cclegacy,o=e._decorator,n=e.Component}],execute:function(){var c;t._RF.push({},"f40bbfLtyRCgqHPnf5PYoW/","PopHelper",void 0);var p=o.ccclass;o.property,e("PopHelper",p("PopHelper")(c=function(e){function t(){return e.apply(this,arguments)||this}r(t,e);var o=t.prototype;return o.start=function(){},o.isMagicToolBarAvailable=function(){return!0},t}(n))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/PopInterstitialUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Pop.ts","./App.ts"],(function(t){var e,o,n,i,r,a,s,l,c,u,p,h,g,f,m,d,y,b,C,v,w,I,k;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Node,l=t.warn,c=t.log,u=t.js,p=t.find,h=t.Camera,g=t.UIOpacity,f=t.tween,m=t.v3,d=t.ParticleSystem2D,y=t.UITransform,b=t.easing,C=t.game,v=t.Component},function(t){w=t.gPop,I=t.gPopGame},function(t){k=t.gAppAdHelper}],execute:function(){var P,z,D,T,F,U,x,H,O,R,A,B,L,_,M,N,S,j,G,E,J,K;r._RF.push({},"61b3alC5KJFZr4FMC/fe0MG","PopInterstitialUI",void 0);var Z=a.ccclass,q=a.property;t("PopInterstitialUI",(P=Z("PopInterstitialUI"),z=q(s),D=q(s),T=q(s),F=q(s),U=q(s),x=q(s),H=q(s),O=q(s),R=q(s),P(((K=function(t){function e(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this).levelDelta=1,e.bFinished=!1,e.orthoHeightOrg=480,e.camera=null,n(e,"container",L,i(e)),n(e,"containerBg",_,i(e)),n(e,"bgUp",M,i(e)),n(e,"bgDown",N,i(e)),n(e,"rocket",S,i(e)),n(e,"prevTarget",j,i(e)),n(e,"curTarget",G,i(e)),n(e,"nextTarget",E,i(e)),n(e,"fg",J,i(e)),e}o(e,t);var r=e.prototype;return r.onLoad=function(){e.loadCount>e.destroyCount&&l("PopInterstitialUI.loadCount > PopInterstitialUI.destroyCount, memory may leaks."),e.loadCount++,c(u.getClassName(this)+".onLoad(), loadCount:"+e.loadCount)},r.onDestroy=function(){e.destroyCount++,c(u.getClassName(this)+".onDestroy(), destroyCount:"+e.destroyCount)},r.start=function(){var t=this;if(this.camera=p("Canvas/Camera").getComponent(h),this.orthoHeightOrg=this.camera.orthoHeight,this.levelDelta<0){var e=p("Stones",w.node);e&&(e.active=!1)}this.container.getComponent(g).opacity=0,f(this.rocket).set({scale:m(.1,.1,1)}).to(1,{scale:m(1,1,1)}).start(),f(this.rocket.getComponent(g)).set({opacity:0}).to(1,{opacity:255}).start(),f(p("Rocket/Particle",this.rocket).getComponent(d)).set({emissionRate:1}).to(2.5,{emissionRate:100}).start(),f(this.curTarget.getComponent(g)).set({opacity:0}).to(2,{opacity:255}).start(),this.scheduleOnce((function(){var e=t.node.getComponent(y),o=t.containerBg.getComponent(y);t.containerBg.children.forEach((function(t){t.getComponent(y).height=e.height})),t.scheduleOnce((function(){t.fg.getComponent(y).height=o.height,t.show()}))}))},r.update=function(t){this.bFinished||(this.camera.node.position=m(this.rocket.position.x,this.rocket.position.y,this.camera.node.position.z))},r.show=function(){var t=this;f(this.container.getComponent(g)).to(.1,{opacity:255}).start(),f(I.layout.getComponent(g)).to(.5,{opacity:0}).start();var e=m(this.rocket.position),o=this.levelDelta>0?this.nextTarget:this.prevTarget;this.rocket.position=m(e.x,0,e.z);var n=p("Rocket",this.rocket),i=p("Particle",n);f(this.rocket).delay(.5).to(1,{worldPosition:m(o.worldPosition)},{easing:b.expoInOut}).call((function(){f(o.getComponent(g)).delay(1.2).to(.2,{opacity:0}).start(),f(n).to(1.2,{scale:m(.5,.5,1)}).start(),f(i.getComponent(d)).to(1.2,{emissionRate:0}).start(),f(t.fg.getComponent(g)).delay(1).to(.3,{opacity:255}).call((function(){})).start(),f(t.rocket.getComponent(g)).to(1.3,{opacity:0}).call((function(){t.onFinished()})).start()})).start()},r.onFinished=function(){this.camera.node.position=m(0,0,this.camera.node.position.z),this.camera.orthoHeight=this.orthoHeightOrg,this.bFinished||(this.bFinished=!0,I.reload(),0!=this.levelDelta&&C.totalTime>12e4&&k.showInterstitialAd())},e}(v)).loadCount=0,K.destroyCount=0,L=e((B=K).prototype,"container",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(B.prototype,"containerBg",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(B.prototype,"bgUp",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(B.prototype,"bgDown",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(B.prototype,"rocket",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(B.prototype,"prevTarget",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(B.prototype,"curTarget",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(B.prototype,"nextTarget",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(B.prototype,"fg",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=B))||A));r._RF.pop()}}}));

System.register("chunks:///_virtual/PopMagic.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopCommon.ts","./Pop.ts","./PopGrid.ts","./PopData.ts","./App.ts","./AppResolution.ts","./GConst.ts","./GConfig.ts","./i18n.ts"],(function(e){var t,o,i,n,r,c,s,l,a,h,u,d,g,p,f,m,w,M,S,I,P,b,C,v,y,E,k,T,x,_,G,B,F;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,c=e._decorator,s=e.Node,l=e.director,a=e.log,h=e.js,u=e.input,d=e.Input,g=e.KeyCode,p=e.instantiate,f=e.Button,m=e.tween,w=e.v3,M=e.easing,S=e.Component},function(e){I=e.PopMagicId,P=e.PopGemType},function(e){b=e.gPopGrid,C=e.gPopUI,v=e.gPopEffect},function(e){y=e.PopGrid},function(e){E=e.gPopDataCtl,k=e.gPopData},function(e){T=e.gAppResolution,x=e.gAppUI},function(e){_=e.AppResolutionPolicy},function(e){G=e.EVT_VIEW_SIZE_CHANGE},function(e){B=e.GConfig},function(e){F=e.i18n}],execute:function(){var O,A,K,R,z,D,L,U,H,N,V,Y,j;r._RF.push({},"8b435OtZexET7c1+170Cd6i","PopMagic",void 0);var Q=c.ccclass,W=c.property;e("PopMagic",(O=Q("PopMagic"),A=W(s),K=W(s),R=W(s),z=W(s),D=W(s),O((H=t((U=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];return t=e.call.apply(e,[this].concat(r))||this,i(t,"mask",H,n(t)),i(t,"maskGridFrame",N,n(t)),i(t,"colorSwitcher",V,n(t)),i(t,"iconBomb",Y,n(t)),i(t,"iconColor",j,n(t)),t.colorSwitcherPanel=null,t.colorSwitcherPanelColors=null,t.curSelectedItem=null,t.gridFrameOrg=null,t.curMagicId="",t.curMagicIcon=null,t}o(t,e);var r=t.prototype;return r.onLoad=function(){this.colorSwitcherPanel=this.colorSwitcher.getChildByName("Panel"),this.colorSwitcherPanelColors=this.colorSwitcherPanel.getChildByName("Colors"),this.mask.active=!1,this.colorSwitcher.active=!1,this.gridFrameOrg=b.node.parent},r.start=function(){var e=this;this.mask.on(s.EventType.TOUCH_START,this.onMaskTouchStart,this),l.on(G,(function(t,o,i){a(h.getClassName(e)+"."+G),e.mask.active&&e.exitEditMode()}),this),u.on(d.EventType.KEY_UP,this.onKeyUp,this)},r.onKeyUp=function(e){switch(console.log("Release "+e.keyCode+" key"),e.keyCode){case g.KEY_J:this.selectMagic(I.color);break;case g.KEY_K:this.selectMagic(I.bomb);break;case g.KEY_L:this.selectMagic(I.shuffle)}},r.selectMagic=function(e){b.interactable&&(this.mask.active&&this.exitEditMode(),this.curMagicId=e,e==I.bomb||e==I.color?this.enterEditMode():e==I.shuffle&&this.useShuffle())},r.enterEditMode=function(){var e=this;b.setEditing(!0),this.mask.active=!0,this.scheduleOnce((function(){e.maskGridFrame.worldPosition=b.node.worldPosition,b.node.parent=e.maskGridFrame}));var t=this.curMagicId==I.bomb?this.iconBomb:this.iconColor;this.curMagicIcon=p(t),this.curMagicIcon.getComponent(f).destroy(),this.curMagicIcon.parent=this.node,m(this.curMagicIcon).to(.3,{scale:w(1.2,1.2,1)}).to(.3,{scale:w(1,1,1)}).union().repeatForever().start(),this.curMagicIcon.worldPosition=t.worldPosition,b.node.on(y.EVT_ITEM_SELECT,this.onMagicModeSelectItem,this)},r.exitEditMode=function(){b.node.parent=this.gridFrameOrg,this.hideColorSwitcher(),b.setEditing(!1),this.mask.active=!1,this.curMagicIcon&&(this.curMagicIcon.destroy(),this.curMagicIcon=null),this.curMagicId="",b.node.off(y.EVT_ITEM_SELECT,this.onMagicModeSelectItem,this)},r.onMaskTouchStart=function(e){this.exitEditMode()},r.onMagicModeSelectItem=function(e){console.log("PopMagic::onGridItemSelect()"),this.curMagicId==I.color?this.showColorSwitcher(e):this.curMagicId==I.bomb?this.useBomb(e):console.log("something might be wrong...")},r.showColorSwitcher=function(e){this.curSelectedItem&&this.hideColorSwitcher(),this.curSelectedItem=e,this.curSelectedItem.setHighlighted(!0),this.colorSwitcher.active=!0,this.colorSwitcher.worldPosition=w(e.node.worldPosition),this.colorSwitcher.angle=T.policy==_.fixedHeightLandscape&&b.arrItems.indexOf(e)<20?180:0;var t=b.node.worldPosition.x-320,o=w(this.colorSwitcherPanel.worldPosition);o.x<190+t?o.x=190+t:o.x>450+t&&(o.x=450+t),this.colorSwitcherPanel.setWorldPosition(o);for(var i=this.colorSwitcherPanelColors.children,n=0;n<i.length;n++){var r=i[n];r.active=r.name!=e.type.toString()}},r.hideColorSwitcher=function(){this.colorSwitcher.active=!1,this.curSelectedItem&&(this.curSelectedItem.setHighlighted(!1),this.curSelectedItem=null)},r.onColorSwitchItemClick=function(e){console.log("onColorTypeClick(),evt:",e);var t=e.target;if(console.log("type:",t.name),this.curSelectedItem){var o=parseInt(t.name);o<=0||o>P.Max?console.warn("parseInt(), type error:",o):this.useColorSwitcher(this.curSelectedItem,o,t)}else console.warn("this.curSelectedItem is null")},r.useColorSwitcher=function(e,t,o){var i=E.getMagicInfo(I.color);if(i)if(k.magicQuota<=0&&!B.testing)x.showTips(F.t("magicQuotaRanOut"));else if(i.count<=0)x.antiDoubleClicks(),C.showMagicStoreUI(I.color,1,this.node);else if(b.replaceItem(e,t),this.spendMagic(I.color),o){var n=w(e.node.worldPosition),r=p(o);r.parent=v.node,r.worldPosition=n,m(r).set({scale:w(2.5,2.5,1)}).to(.45,{angle:180,worldPosition:n,scale:w(1,1,1)},{easing:M.linear}).removeSelf().start()}this.exitEditMode()},r.useBomb=function(e){var t=this,o=w(e.node.worldPosition),i=p(this.iconBomb);i.parent=v.node,i.worldPosition=e.node.worldPosition,i.setScale(2,2,1),m(i).to(.5,{worldPosition:o,scale:w(.5,.5,1)},{easing:"fade"}).call((function(){b.exposeGem(b.arrItems.indexOf(e)),t.spendMagic(I.bomb)})).removeSelf().start(),this.exitEditMode()},r.useShuffle=function(){b.shuffle()&&this.spendMagic(I.shuffle)},r.spendMagic=function(e){E.useMagic(e)},t}(S)).prototype,"mask",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(U.prototype,"maskGridFrame",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(U.prototype,"colorSwitcher",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(U.prototype,"iconBomb",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(U.prototype,"iconColor",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=U))||L));r._RF.pop()}}}));

System.register("chunks:///_virtual/PopMagicButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopData.ts","./Pop.ts","./App.ts","./GConst.ts","./GConfig.ts","./i18n.ts"],(function(t){var n,i,e,o,a,r,c,u,s,p,l,g,d,f,h,m,b,C,I,P,v,w,y,z,M;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,c=t.Label,u=t.Node,s=t.size,p=t.UITransform,l=t.log,g=t.js,d=t.director,f=t.v3,h=t.UIOpacity,m=t.Component},function(t){b=t.gPopDataCtl,C=t.PopDataCtl,I=t.gPopData},function(t){P=t.gPopMagic,v=t.gPopUI},function(t){w=t.gAppUI},function(t){y=t.EVT_VIEW_SIZE_CHANGE},function(t){z=t.GConfig},function(t){M=t.i18n}],execute:function(){var S,_,A,B,D,O,E,N,G,U,L,T;a._RF.push({},"b7fb2XK0uBO5LUIch5QDmJ0","PopMagicButton",void 0);var H=r.ccclass,Q=r.property;t("PopMagicButton",(S=H("PopMagicButton"),_=Q(c),A=Q(u),B=Q(u),D=Q(u),S((N=n((E=function(t){function n(){for(var n,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return n=t.call.apply(t,[this].concat(a))||this,e(n,"labelCount",N,o(n)),e(n,"nodePrompt",G,o(n)),e(n,"iconAdd",U,o(n)),e(n,"iconMagic",L,o(n)),e(n,"magicId",T,o(n)),n.parentOriginSize=s(100,100),n}i(n,t);var a=n.prototype;return a.onLoad=function(){this.parentOriginSize=s(this.node.parent.getComponent(p).width,this.node.parent.getComponent(p).height),l("parentOriginSize:"+this.parentOriginSize.toString())},a.start=function(){var t=this;l(g.getClassName(this)+".start"),d.on(y,(function(n){l(g.getClassName(t)+".VIEW_SIZE_CHANGE"),t.scheduleOnce((function(){var n=s(t.node.parent.getComponent(p).width,t.node.parent.getComponent(p).height);l("szParentNew:"+n.toString()),t.node.scale=f(n.width/t.parentOriginSize.width,n.width/t.parentOriginSize.width,1),l(g.getClassName(t)+",node.scale:"+t.node.scale.toString())}))}),this),this.updateButton(),b.node.on(C.EVT_MAGIC_CHANGED,(function(){t.updateButton()}),this)},a.updateButton=function(){var t=b.getMagicInfo(this.magicId);t&&(this.getComponent(h).opacity=I.magicQuota>0?225:100,this.labelCount.string=""+t.count,this.nodePrompt.active=t.count>0,this.iconAdd.active=t.count<=0)},a.onButtonClick=function(){var t=b.getMagicInfo(this.magicId);if(t){if(I.magicQuota<=0&&!z.testing)return void w.showTips(M.t("magicQuotaRanOut"));t.count>0?P.selectMagic(this.magicId):(w.antiDoubleClicks(),v.showMagicStoreUI(this.magicId,1,this.node))}},n}(m)).prototype,"labelCount",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=n(E.prototype,"nodePrompt",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=n(E.prototype,"iconAdd",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=n(E.prototype,"iconMagic",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=n(E.prototype,"magicId",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),O=E))||O));a._RF.pop()}}}));

System.register("chunks:///_virtual/PopMagicCollectUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopData.ts","./App.ts"],(function(t){var i,o,n,e,l,r,c,s,a,u,h,p,f,g,d;return{setters:[function(t){i=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,e=t.assertThisInitialized},function(t){l=t.cclegacy,r=t._decorator,c=t.Node,s=t.Label,a=t.tween,u=t.warn,h=t.v3,p=t.bezier,f=t.Component},function(t){g=t.gPopDataCtl},function(t){d=t.gAppHelper}],execute:function(){var v,b,P,C,m,w,y,I,k;l._RF.push({},"6e819ZKmP9HNbsymjIBSYJL","PopMagicCollectUI",void 0);var z=r.ccclass,M=r.property;t("PopMagicCollectUI",(v=z("PopMagicCollectUI"),b=M(c),P=M(c),C=M(s),v((y=i((w=function(t){function i(){for(var i,o=arguments.length,l=new Array(o),r=0;r<o;r++)l[r]=arguments[r];return i=t.call.apply(t,[this].concat(l))||this,n(i,"lighting",y,e(i)),n(i,"icons",I,e(i)),n(i,"labelCount",k,e(i)),i.magicId="",i.count=3,i.invoker=null,i.onComplete=null,i.bCollected=!1,i}o(i,t);var l=i.prototype;return l.setParams=function(t,i,o,n){this.magicId=t,this.count=i,this.invoker=o,this.onComplete=n},l.start=function(){this.show()},l.show=function(){var t=this;a(this.lighting).by(5,{angle:360}).union().repeatForever().start(),this.labelCount.string=""+this.count;var i=g.getMagicInfo(this.magicId);i&&this.icons.children.forEach((function(t){t.active=t.name==i.id})),d.showPanel(this),this.scheduleOnce((function(){t.onClick()}))},l.close=function(){d.closePanel(this)},l.onClick=function(){var t=this;if(!this.bCollected){if(!g.getMagicInfo(this.magicId))return u("!info"),void this.close();this.bCollected=!0;var i=this.icons.children.find((function(t,i,o){return t.active}));if(i&&this.invoker){var o=i,n=(o.worldPosition,this.invoker.worldPosition);a(i).to(.1,{scale:h(1.5,1.5)}).to(.5,{scale:h(.01,.01,1)},{onUpdate:function(t,i){var e=p(o.worldPosition.x,o.worldPosition.x+20,n.x+20,n.x,i),l=p(o.worldPosition.y,o.worldPosition.y+20,n.y+20,n.y,i);o.worldPosition=h(e,l,o.worldPosition.z)}}).call((function(){t.onComplete&&t.onComplete(),t.close()})).start()}else this.close()}},i}(f)).prototype,"lighting",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=i(w.prototype,"icons",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=i(w.prototype,"labelCount",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=w))||m));l._RF.pop()}}}));

System.register("chunks:///_virtual/PopMagicStoreUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AppUser.ts","./PopData.ts","./Pop.ts","./App.ts","./GConfig.ts","./i18n.ts"],(function(e){var t,i,n,o,a,r,c,l,s,u,g,h,p,f,d,b,C,v,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,c=e.Label,l=e.Node,s=e.v3,u=e.tween,g=e.Component},function(e){h=e.gUserData,p=e.gAppUser},function(e){f=e.gPopDataCtl},function(e){d=e.gPopUI},function(e){b=e.gAppUI,C=e.gAppAdHelper},function(e){v=e.GConfig},function(e){m=e.i18n}],execute:function(){var I,w,y,P,x,A,M,k,U,E,R;a._RF.push({},"05814TERKlCOZpT71Ik3VM5","PopMagicStoreUI",void 0);var T=r.ccclass,D=r.property;e("PopMagicStoreUI",(I=T("PopMagicStoreUI"),w=D(c),y=D(c),P=D(c),x=D(l),I((k=t((M=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,n(t,"labelExchangeCount",k,o(t)),n(t,"labelPrice",U,o(t)),n(t,"labelTitle",E,o(t)),n(t,"magicIcons",R,o(t)),t.magicId="",t.exchangeCount=3,t.invoker=null,t}i(t,e);var a=t.prototype;return a.setParams=function(e,t,i){this.magicId=e,this.exchangeCount=t,this.invoker=i},a.start=function(){this.show()},a.onBgClick=function(){this.close()},a.onExchangeClick=function(){var e=f.getMagicInfo(this.magicId);if(e){var t=e.price*this.exchangeCount;if(h.coin>=t){var i=this.magicId,n=this.exchangeCount;d.showMagicCollect(i,n,this.invoker,(function(){h.coin>=t&&(p.addCoin(-t),f.addMagic(i,n))}))}else v.storeEnabled?(b.showStore(),b.showTips(m.t("noEnoughCoins"))):b.showVideoAdMessage((function(){C.isRewardedAdReady()?C.showRewardedAd():b.showTips(m.t("videoAdRewardNotReady"))}))}},a.onCloseClick=function(){this.close()},a.show=function(){this.labelExchangeCount.string=""+this.exchangeCount;var e=f.getMagicInfo(this.magicId);if(e){var t=e.price*this.exchangeCount;this.labelPrice.string=""+t,this.labelTitle.string=e.name,this.magicIcons.children.forEach((function(t){t.active=t.name==e.id}))}var i=this.node.getChildByName("Panel");i.setScale(s(0,0,1)),u(i).to(.1,{scale:s(1,1,1)}).start()},a.close=function(){var e=this;b.antiDoubleClicks();var t=this.node.getChildByName("Panel");u(t).to(.1,{scale:s(0,0,1)}).call((function(){e.node.destroy()})).start()},t}(g)).prototype,"labelExchangeCount",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(M.prototype,"labelPrice",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(M.prototype,"labelTitle",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(M.prototype,"magicIcons",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=M))||A));a._RF.pop()}}}));

System.register("chunks:///_virtual/PopNewHighScoreUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./AppAudioRes.ts"],(function(e){var t,o,n,i,r,c,s,p,a,u,h;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,n=e._decorator,i=e.sys,r=e.view,c=e.UITransform,s=e.v3,p=e.tween,a=e.Component},function(e){u=e.gAppAudioPlayer},function(e){h=e.AUD}],execute:function(){var l;o._RF.push({},"7444c5k0o1MVoVK9+AaKka/","PopNewHighScoreUI",void 0);var f=n.ccclass;n.property,e("PopNewHighScoreUI",f("PopNewHighScoreUI")(l=function(e){function o(){for(var t,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).funcComplete=null,t}t(o,e);var n=o.prototype;return n.setParams=function(e){this.funcComplete=e},n.start=function(){var e=this,t=i.getSafeAreaRect(),o=r.getVisibleSize(),n=this.node.getComponent(c).contentSize,a=o.height/2+n.height/2;this.node.position=s(0,a,1),p(this.node).by(.3,{position:s(0,-(n.height+t.y))}).delay(2).by(.3,{position:s(0,n.height+t.y)}).call((function(){e.node.destroy(),e.funcComplete&&e.funcComplete()})).start(),u.playSound(h.NewHighScore)},o}(a))||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/PopRes.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,i,n,o,l,a,u,p;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,a=e.SpriteFrame,u=e.Prefab,p=e.Component}],execute:function(){var c,b,f,g,s,P,m,I,y,U,w,z,v,R,S,h,d,C,D,G,F,H,M,_,x,B,T,E,L,N,O,j,k,A,J;o._RF.push({},"b00e1vr56RCfJvSrnv0d092","PopRes",void 0);var q=l.ccclass,K=l.property;e("PopRes",(c=q("PopRes"),b=K([a]),f=K([a]),g=K([a]),s=K(u),P=K(u),m=K(u),I=K(u),y=K(u),U=K(u),w=K(u),z=K(u),v=K(u),R=K(u),S=K(u),h=K(u),d=K(u),c((G=r((D=function(e){function r(){for(var r,t=arguments.length,o=new Array(t),l=0;l<t;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o))||this,i(r,"gemBgs",G,n(r)),i(r,"gemFgs",F,n(r)),i(r,"starIcons",H,n(r)),i(r,"PopResultUI",M,n(r)),i(r,"PopRetryDialogUI",_,n(r)),i(r,"PopConfirmDialogUI",x,n(r)),i(r,"PopStageIntroUI",B,n(r)),i(r,"PopGameOverUI",T,n(r)),i(r,"ParticleExposeGem",E,n(r)),i(r,"PopMagicStoreUI",L,n(r)),i(r,"PopMagicCollectUI",N,n(r)),i(r,"PopSettingUI",O,n(r)),i(r,"PopInterstitialUI",j,n(r)),i(r,"PopGameHelpUI",k,n(r)),i(r,"PopNewHighScoreUI",A,n(r)),i(r,"PopTargetCleared",J,n(r)),r}return t(r,e),r.prototype.start=function(){},r}(p)).prototype,"gemBgs",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=r(D.prototype,"gemFgs",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=r(D.prototype,"starIcons",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=r(D.prototype,"PopResultUI",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=r(D.prototype,"PopRetryDialogUI",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=r(D.prototype,"PopConfirmDialogUI",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=r(D.prototype,"PopStageIntroUI",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=r(D.prototype,"PopGameOverUI",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=r(D.prototype,"ParticleExposeGem",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=r(D.prototype,"PopMagicStoreUI",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=r(D.prototype,"PopMagicCollectUI",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=r(D.prototype,"PopSettingUI",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=r(D.prototype,"PopInterstitialUI",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=r(D.prototype,"PopGameHelpUI",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=r(D.prototype,"PopNewHighScoreUI",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=r(D.prototype,"PopTargetCleared",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=D))||C));o._RF.pop()}}}));

System.register("chunks:///_virtual/PopResultUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopCommon.ts","./PopData.ts","./Pop.ts","./AppUser.ts","./AppCoinInfo.ts","./App.ts","./AppAudioRes.ts"],(function(n){var e,t,o,i,l,a,r,s,u,c,p,d,f,b,h,g,P,C,m,y,v,B;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,o=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){l=n.cclegacy,a=n._decorator,r=n.Label,s=n.Node,u=n.v3,c=n.tween,p=n.bezier,d=n.UIOpacity,f=n.Component},function(n){b=n.PopStatus},function(n){h=n.gPopData},function(n){g=n.gPopGrid,P=n.gPopUI,C=n.gPopGame},function(n){m=n.gAppUser},function(n){y=n.AppCoinInfo},function(n){v=n.gAppAudioPlayer},function(n){B=n.AUD}],execute:function(){var w,R,A,I,U,z,V,S,D,F,x,G,_,k,L;l._RF.push({},"f4a1dUBTbRAkKYFk0Cggj2F","PopResultUI",void 0);var O=a.ccclass,j=a.property;n("PopResultUI",(w=O("PopResultUI"),R=j(r),A=j(r),I=j(s),U=j(s),z=j(s),V=j(s),w((F=e((D=function(n){function e(){for(var e,t=arguments.length,l=new Array(t),a=0;a<t;a++)l[a]=arguments[a];return e=n.call.apply(n,[this].concat(l))||this,o(e,"labelBonusValue",F,i(e)),o(e,"labelRemainingValue",x,i(e)),o(e,"bonusPanel",G,i(e)),o(e,"remainingPanel",_,i(e)),o(e,"allClearPanel",k,i(e)),o(e,"nodeBonusCoin",L,i(e)),e.bonus=2e3,e}t(e,n);var l=e.prototype;return l.start=function(){this.calc()},l.calc=function(){var n=this,e=g.getRemainingGems();if(this.setRemainingCount(e.length),this.allClearPanel.active=0==e.length,this.remainingPanel.active=e.length>0,this.allClearPanel.active){this.allClearPanel.scale=u(.001,.001,1),c(this.allClearPanel).to(.1,{scale:u(1,1,1)}).call((function(){})).start();var t=u(y.instance.labelCoinValue.node.worldPosition);this.nodeBonusCoin.active=!0;var o=this.nodeBonusCoin;this.nodeBonusCoin.worldPosition;c(this.nodeBonusCoin).set({scale:u(.001,.001,.001)}).to(.2,{scale:u(1,1,1)}).delay(.5).to(.5,{scale:u(.1,.1,1)},{onUpdate:function(n,e){var i=p(o.worldPosition.x,o.worldPosition.x+20,t.x+20,t.x,e),l=p(o.worldPosition.y,o.worldPosition.y+20,t.y+20,t.y,e);o.worldPosition=u(i,l,o.worldPosition.z)}}).call((function(){m.addCoin(1),v.playSound(B.AddGold),c(n.allClearPanel.getComponent(d)).to(1,{opacity:0}).start()})).hide().start()}var i=1;i+=g.eraseRemainingItems(i,(function(){n.subtractBonus()})),i+=1,i+=this.collectFinalBonus(i)},l.onComplete=function(){if(b.end==h.status)P.showRetryDialog(),this.node.active=!1;else{P.showInterstitial()}},l.setRemainingCount=function(n){this.labelRemainingValue.string=n.toString()},l.subtractBonus=function(){this.bonus=this.bonus>=200?this.bonus-200:0,this.updateBonus()},l.collectFinalBonus=function(n){var e=this;return this.scheduleOnce((function(){var n=e.allClearPanel.active?.3:0;e.allClearPanel.active;var t=u(C.labelCurScore.node.worldPosition);c(e.labelBonusValue.node).delay(n).to(.5,{worldPosition:t,scale:u(.5,.5,1)}).call((function(){C.addScore(e.bonus),e.bonus>0&&v.playSound(B.GainBonus),c(e.node.getChildByName("Panel").getComponent(d)).to(1,{opacity:0}).start(),e.scheduleOnce((function(){e.onComplete()}),1)})).hide().start()}),n),.5},l.updateBonus=function(){this.labelBonusValue.string=this.bonus.toString(),c(this.labelBonusValue.node).to(.1,{scale:u(1.2,1.2,1.2)}).to(.1,{scale:u(1,1,1)}).start()},e}(f)).prototype,"labelBonusValue",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(D.prototype,"labelRemainingValue",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(D.prototype,"bonusPanel",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(D.prototype,"remainingPanel",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(D.prototype,"allClearPanel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(D.prototype,"nodeBonusCoin",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=D))||S));l._RF.pop()}}}));

System.register("chunks:///_virtual/PopRetryDialogUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopData.ts","./PopCommon.ts","./App.ts","./Pop.ts","./AppUser.ts","./AppVideoAdButton.ts","./GConfig.ts","./i18n.ts"],(function(t){var o,n,e,i,r,a,s,u,c,l,p,f,g,h,d,b,P,y,A,v;return{setters:[function(t){o=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Label,u=t.macro,c=t.Component},function(t){l=t.gPopData},function(t){p=t.PopStatus},function(t){f=t.gAppHelper,g=t.gAppUI},function(t){h=t.gPopGame,d=t.gPopUI},function(t){b=t.gUserData,P=t.gAppUser},function(t){y=t.AppVideoAdButton},function(t){A=t.GConfig},function(t){v=t.i18n}],execute:function(){var D,m,w,R,U,C,I;r._RF.push({},"32051j1LdxFQ4Tmivh+2bIG","PopRetryDialogUI",void 0);var S=a.ccclass,E=a.property;t("PopRetryDialogUI",(D=S("PopRetryDialogUI"),m=E(s),w=E(y),D((C=o((U=function(t){function o(){for(var o,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return o=t.call.apply(t,[this].concat(r))||this,e(o,"labelStage",C,i(o)),e(o,"buttonVideoAd",I,i(o)),o}n(o,t);var r=o.prototype;return r.start=function(){var t=this;this.show(),this.schedule((function(){t.buttonVideoAd.updateButton()}),30,u.REPEAT_FOREVER,30)},r.show=function(){this.labelStage.string=""+(l.curStage+1),f.showPanel(this)},r.close=function(){f.closePanel(this,(function(){}))},r.onRetryClick=function(){g.antiDoubleClicks(),b.coin>=5?(P.addCoin(-5),l.status=p.retry,f.closePanel(this,(function(){h.reload()}))):(A.storeEnabled&&g.showStore(),g.showTips(v.t("noEnoughCoins")))},r.onGiveUpClick=function(){var t=this;l.status=p.failed,t.node.active=!1,l.curStage>0?d.showInterstitial(-1):d.showGameOver()},o}(c)).prototype,"labelStage",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=o(U.prototype,"buttonVideoAd",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=U))||R));r._RF.pop()}}}));

System.register("chunks:///_virtual/PopSettingUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./Pop.ts"],(function(o){var t,n,e,i,c,s,p,l;return{setters:[function(o){t=o.inheritsLoose},function(o){n=o.cclegacy,e=o._decorator,i=o.Component},function(o){c=o.gAppHelper,s=o.gAppUI},function(o){p=o.gPopGame,l=o.gPopUI}],execute:function(){var r;n._RF.push({},"2acc0JfI5BFVbYjjhRiKLis","PopSettingUI",void 0);var u=e.ccclass;e.property,o("PopSettingUI",u("PopSettingUI")(r=function(o){function n(){return o.apply(this,arguments)||this}t(n,o);var e=n.prototype;return e.start=function(){c.showPanel(this)},e.onBgClick=function(){this.close()},e.onCloseClick=function(){this.close()},e.close=function(){s.antiDoubleClicks(),c.closePanel(this)},e.onHomeClick=function(){p.goHome()},e.onHelpClick=function(){l.showGameHelp()},n}(i))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/PopStageBg.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopData.ts","./Pop.ts"],(function(t){var e,n,a,o,r,i,s,c,p,l,g,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,a=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,i=t._decorator,s=t.find,c=t.Sprite,p=t.Label,l=t.Component},function(t){g=t.gPopData},function(t){u=t.gPopRes}],execute:function(){var f,h,P;r._RF.push({},"abf58xpWn1KjbGDc2KykOo0","PopStageBg",void 0);var d=i.ccclass,y=i.property;t("PopStageBg",d("PopStageBg")((P=e((h=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e=t.call.apply(t,[this].concat(r))||this,a(e,"stageDelta",P,o(e)),e.stage=0,e}n(e,t);var r=e.prototype;return r.start=function(){this.stage=g.curStage+this.stageDelta,this.updatePlanet()},r.updatePlanet=function(){var t=s("Planet/Icon",this.node).getComponent(c),e=s("Planet/Label",this.node).getComponent(p);t.spriteFrame=u.starIcons[this.stage%u.starIcons.length],e.string=""+(this.stage+1)},e}(l)).prototype,"stageDelta",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),f=h))||f);r._RF.pop()}}}));

System.register("chunks:///_virtual/PopStageIntroUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopData.ts","./PopCommon.ts","./Pop.ts","./App.ts","./AppAudioRes.ts"],(function(e){var t,n,a,i,l,o,r,u,c,s,p,g,d,y,f,h,b,S,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){l=e.cclegacy,o=e._decorator,r=e.Node,u=e.Label,c=e.view,s=e.v3,p=e.tween,g=e.easing,d=e.Component,y=e.log},function(e){f=e.gPopData},function(e){h=e.PopStatus},function(e){b=e.gPopGame},function(e){S=e.gAppAudioPlayer},function(e){v=e.AUD}],execute:function(){var P,m,T,C,I,B,w,z,V,N,D,O,U;l._RF.push({},"5d4d0FY6z1KyIYZBXrnNpM7","PopStageIntroUI",void 0);var A=o.ccclass,R=o.property;e("PopStageIntroUI",(P=A("PopStageIntroUI"),m=R(r),T=R(r),C=R(r),I=R(u),B=R(u),P((V=t((z=function(e){function t(){for(var t,n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return t=e.call.apply(e,[this].concat(l))||this,a(t,"panelStage",V,i(t)),a(t,"panelTarget",N,i(t)),a(t,"panelContinue",D,i(t)),a(t,"labelStageValue",O,i(t)),a(t,"labelTargetValue",U,i(t)),t.readyCalled=!1,t.funcReady=null,t}n(t,e);var l=t.prototype;return l.setParams=function(e){this.funcReady=e},l.start=function(){this.labelStageValue.string=(f.curStage+1).toString(),this.labelTargetValue.string=f.targetScore.toString(),this.show()},l.onTouch=function(){},l.show=function(){var e=this,t=function(){e.readyCalled||(e.funcReady&&e.funcReady(),e.readyCalled=!0)};this.panelContinue.active=h.playing==f.status,this.panelTarget.active=!this.panelContinue.active;var n=c.getVisibleSize().width,a=(c.getVisibleSize().height,this.node.getChildByName("Panel"));a.getChildByName("Bg").scale=s(1,0,1);var i=s(n,0),l=s(0,0);s(-n,0);p(a).set({position:i}).call((function(){S.playSound(v.StageIntroIn),p(a.getChildByName("Bg")).delay(.5).to(.2,{scale:s(1,1,1)}).start()})).to(.5,{position:l},{easing:g.backOut}).delay(1).call((function(){e.blinkTarget()})).delay(1.5).delay(.5).call((function(){p(a.getChildByName("Bg")).to(.2,{scale:s(1,0,1)}).start(),S.playSound(v.StageIntroOut),S.curPlayingMusic!=v.GamePlayBg&&b.scheduleOnce((function(){S.pauseMusic()}),.3),b.scheduleOnce((function(){y("PopStageIntroUI, playMusic()"),S.playMusic(v.GamePlayBg)}),2),e.scheduleOnce((function(){e.node.destroy()}),.3)})).start();for(var o=this.panelTarget.active?[this.panelStage,this.panelTarget]:[this.panelStage,this.panelContinue],u=function(){var a=d,i=o[d].position.y;p(o[d]).set({position:s(n,i)}).delay(.5*d).call((function(){})).to(.5,{position:s(0,i)},{easing:"backOut"}).delay(.5).call((function(){1==a&&e.node.once(r.EventType.TOUCH_END,t,e)})).delay(1.5).to(.5,{position:s(-n,i)},{easing:"backIn"}).call((function(){0==a&&t()})).start()},d=0;d<o.length;d++)u();this.node.once(r.EventType.TOUCH_END,(function(){p(a.getChildByName("Bg")).to(.2,{scale:s(1,0,1)}).start()}),this)},l.blinkTarget=function(){[this.labelTargetValue.node,b.labelTargetValue.node].forEach((function(e){p(e).hide().delay(.2).show().delay(.2).union().repeat(2).start()}))},t}(d)).prototype,"panelStage",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(z.prototype,"panelTarget",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(z.prototype,"panelContinue",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(z.prototype,"labelStageValue",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(z.prototype,"labelTargetValue",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=z))||w));l._RF.pop()}}}));

System.register("chunks:///_virtual/PopStageStar.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Pop.ts","./PopData.ts"],(function(t){var e,r,a,o,n,i,s,c,p,l,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,a=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){n=t.cclegacy,i=t._decorator,s=t.Sprite,c=t.color,p=t.Component},function(t){l=t.gPopRes},function(t){u=t.gPopData}],execute:function(){var g,h,f;n._RF.push({},"25ee0xXR3xGvIzg6VlXhoey","PopStageStar",void 0);var F=i.ccclass,S=i.property,v=["#FFFFFF","#00FF00","#A000FF"];t("PopStageStar",F("PopStageStar")((f=e((h=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e=t.call.apply(t,[this].concat(n))||this,a(e,"stageDelta",f,o(e)),e.stage=0,e}r(e,t);var n=e.prototype;return n.start=function(){this.stage=u.curStage+this.stageDelta,this.updateStar()},n.updateStar=function(){var t=this.getComponent(s);t.spriteFrame=l.starIcons[this.stage%l.starIcons.length];var e=Math.floor(this.stage/l.starIcons.length),r=c(v[e%v.length]);t.color=r},e}(p)).prototype,"stageDelta",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=h))||g);n._RF.pop()}}}));

System.register("chunks:///_virtual/PopStarTest.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Pop.ts","./App.ts","./GFunction.ts","./GConfig.ts"],(function(t){var o,e,n,i,r,s,a,c,l,h,p,u,g,f,w,y,d,b,C;return{setters:[function(t){o=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.Node,c=t.instantiate,l=t.Label,h=t.log,p=t.randomRangeInt,u=t.Component},function(t){g=t.gPopGrid,f=t.gPopUI,w=t.gPopEffect},function(t){y=t.gAppUtils,d=t.gAppUI},function(t){b=t.setObjKeysAsValues},function(t){C=t.GConfig}],execute:function(){var I,P,v,T,S;r._RF.push({},"2abe12o77RBSbukLCLLQGlA","PopStarTest",void 0);var m=s.ccclass,G=s.property,k=function(t){return t.autoPlay="",t.showRetryDialog="",t.showGoodJobs="",t.showTargetClear="",t.showHighScore="",t.showTips="",t.showIntertitial="",t.showIntro="",t}(k||{});b(k);var R=!1;t("PopStarTest",(I=m("PopStarTest"),P=G(a),I((S=o((T=function(t){function o(){for(var o,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return o=t.call.apply(t,[this].concat(r))||this,n(o,"content",S,i(o)),o}e(o,t);var r=o.prototype;return r.start=function(){if(C.testing){for(var t=Object.getOwnPropertyNames(k),o=0;o<t.length;o++){var e=t[o],n=o<this.content.children.length?this.content.children[o]:c(this.content.children[0]);n.parent=this.content,n.getComponent(l).string=e,y.bindClick(n,this.onItemClick,this,e)}this.content.active=R}else this.node.destroy()},r.update=function(t){},r.onToggleClick=function(){R=!R,this.content.active=R},r.onItemClick=function(t){h("onItemClick("+t+")"),t==k.autoPlay?g.autoErase():t==k.showRetryDialog?f.showRetryDialog():t==k.showGoodJobs?w.playGoodJobEffect(p(7,40)):t==k.showTargetClear?w.playTargetClearEffect():t==k.showHighScore?w.playNewHighScoreEffect():t==k.showTips?d.showTips("Hello"):t==k.showIntertitial?f.showInterstitial():t==k.showIntro&&f.showStageIntro()},o}(u)).prototype,"content",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=T))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/PopUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./Pop.ts","./PopGameHelpUI.ts","./PopMagicCollectUI.ts","./PopSettingUI.ts","./PopConfirmDialogUI.ts","./PopResultUI.ts","./PopRetryDialogUI.ts","./PopStageIntroUI.ts","./PopGameOverUI.ts","./PopMagicStoreUI.ts","./PopInterstitialUI.ts","./AppCoinInfo.ts","./GConst.ts"],(function(t){var n,o,e,i,a,s,p,r,c,u,f,l,I,P,m,d,g,h,U,C,v,w,S,D,G;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,i=t.log,a=t.js,s=t.error,p=t.Component},function(t){r=t.gAppHelper,c=t.gAppDirector},function(t){u=t.gPopRes,f=t.gPop,l=t.gPopGrid,I=t.gPopGame},function(t){P=t.PopGameHelpUI},function(t){m=t.PopMagicCollectUI},function(t){d=t.PopSettingUI},function(t){g=t.PopConfirmDialogUI},function(t){h=t.PopResultUI},function(t){U=t.PopRetryDialogUI},function(t){C=t.PopStageIntroUI},function(t){v=t.PopGameOverUI},function(t){w=t.PopMagicStoreUI},function(t){S=t.PopInterstitialUI},function(t){D=t.AppCoinInfo},function(t){G=t.VIEW_HOME}],execute:function(){var R;o._RF.push({},"66c97hvWZtHjbLia8Zt2m0Z","PopUI",void 0);var y=e.ccclass;e.property,t("PopUI",y("PopUI")(R=function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var e=o.prototype;return e.instantiateComponent=function(t){i("AppUI.instantiateComponent()");var n=a.getClassName(t),o=u[n];if(o)return r.instantiateComponent(o,t);s("!prefab!!!"+a.getClassName(this)+":"+n)},e.showResult=function(){this.instantiateComponent(h).node.parent=f.node},e.showRetryDialog=function(){this.instantiateComponent(U).node.parent=f.node},e.showConfirmDialog=function(t,n){var o=this.instantiateComponent(g);o.setParams(t,n),o.node.parent=f.node},e.showStageIntro=function(t){var n=this;this.scheduleOnce((function(){var t=n.instantiateComponent(C);t.setParams((function(){l.node.active=!0})),t.node.parent=f.node}),.5)},e.showGameHelp=function(){this.instantiateComponent(P).node.parent=f.node},e.showGameOver=function(){var t=this.instantiateComponent(v);t.setParams((function(){c.loadView(G)})),t.node.parent=f.node},e.showMagicStoreUI=function(t,n,o){var e=this.instantiateComponent(w);e.setParams(t,n,o),e.node.parent=f.node},e.showInterstitial=function(t){I.hideDecorateNodes(),D.instance.node.active=!1;var n=this.instantiateComponent(S);t&&(n.levelDelta=t),n.node.parent=f.node},e.showMagicCollect=function(t,n,o,e){var i=this.instantiateComponent(m);i.setParams(t,n,o,e),i.node.parent=f.node},e.showSetting=function(){this.instantiateComponent(d).node.parent=f.node},o}(p))||R);o._RF.pop()}}}));

System.register("chunks:///_virtual/RotateForever.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,o,n,i,a,c,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,c=e.tween,l=e.Component}],execute:function(){var s,u,p;i._RF.push({},"c27b3N4TSNEDoRiM+2lMWPq","RotateForever",void 0);var f=a.ccclass,v=a.property;e("RotateForever",f("RotateForever")((p=t((u=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,o(t,"rotateAnglePerSecond",p,n(t)),t}r(t,e);var i=t.prototype;return i.start=function(){var e=this;this.scheduleOnce((function(){c(e.node).by(1,{angle:e.rotateAnglePerSecond}).repeatForever().start()}))},i.update=function(e){},t}(l)).prototype,"rotateAnglePerSecond",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),s=u))||s);i._RF.pop()}}}));

System.register("chunks:///_virtual/StringFormat.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"3389exqH/lN1qME6YDtEF+x","StringFormat",void 0);t("StringFormatFunction",new(function(){function t(){}var e=t.prototype;return e.deal=function(t,e){if(""===e)return t;var n=(e=e.toLowerCase().trim()).match(/^[a-z|A-Z]+/gi),i=e.match(/\d+$/gi),r="",o=0,u="";if(n&&(r=n[0]),i&&(o=parseInt(i[0])),"number"==typeof t)switch(r){case"int":u=this.int(t);break;case"fix":u=this.fix(t,o);break;case"kmbt":u=this.KMBT(t);break;case"per":u=this.per(t,o);break;case"sep":u=this.sep(t)}else{switch(r){case"limit":u=this.limit(t,o)}u=t}return u},e.sep=function(t){return Math.round(t).toString().replace(new RegExp("(\\d)(?=(\\d{3})+$)","ig"),"$1,")},e.time_m=function(t){},e.time_s=function(t){},e.time_ms=function(t){},e.timeStamp=function(t){return new Date(t).toString()},e.per=function(t,e){return Math.round(100*t).toFixed(e)},e.int=function(t){return Math.round(t)},e.fix=function(t,e){return t.toFixed(e)},e.limit=function(t,e){return t.substring(0,e)},e.KMBT=function(t,e){return this.compressUnit(t,[1e3,1e6,1e9,1e12],["","K","M","B","T"],2)},e.compressUnit=function(t,e,n,i){void 0===i&&(i=2);var r,o=e,u=n,c="";for(r=0;r<o.length;r++){if(t<o[r]){c=r>0?(t/o[r-1]).toFixed(i):t.toFixed(0);break}}return c+u[r]},t}()));e._RF.pop()}}}));

System.register("chunks:///_virtual/TapAndHold.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var n,t,e,i,h,c,s;return{setters:[function(o){n=o.inheritsLoose},function(o){t=o.cclegacy,e=o._decorator,i=o.v2,h=o.Node,c=o.sys,s=o.Component}],execute:function(){var d,u;t._RF.push({},"bb8efNpmZVGypnnP+75rWiT","TapAndHold",void 0);var a=e.ccclass;e.property,o("default",a("TapAndHold")(((u=function(o){function t(){for(var n,t=arguments.length,e=new Array(t),h=0;h<t;h++)e[h]=arguments[h];return(n=o.call.apply(o,[this].concat(e))||this).touchingIndex=-1,n.touchingPos=i(),n.touchingTime=0,n}n(t,o);var e=t.prototype;return e.start=function(){this.node.on(h.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(h.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(h.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(h.EventType.TOUCH_CANCEL,this.onTouchCancel,this)},e.checkTapAndHold=function(){(console.log("checkTapAndHold:touchIndex:"+this.touchingIndex),-1==this.touchingIndex)?this.unschedule(this.checkTapAndHold):c.now()-this.touchingTime>600&&(console.log("onTapAndHoldOnGem:touchIndex:"+this.touchingIndex),this.node.emit(t.EVT_TAP_AND_HOLD,this.node,this.touchingPos),this.exitCheckTapAndHold())},e.startCheckTapAndHold=function(){this.touchingIndex=1,this.touchingTime=c.now(),this.schedule(this.checkTapAndHold,.1)},e.exitCheckTapAndHold=function(){console.log("exitTapAndHold"),this.touchingIndex=-1,this.touchingPos=i()},e.onTouchStart=function(o){var n=o.getUILocation();this.touchingPos=n,this.startCheckTapAndHold()},e.onTouchMove=function(o){var n=o.getUILocation().subtract(this.touchingPos);(Math.abs(n.x)>20||Math.abs(n.y)>20)&&this.exitCheckTapAndHold()},e.onTouchEnd=function(o){-1==this.touchingIndex&&(o.propagationImmediateStopped=!0,console.log("onTouchEnd():e.stopPropagationImmediate();")),this.exitCheckTapAndHold()},e.onTouchCancel=function(o){this.exitCheckTapAndHold()},t}(s)).EVT_TAP_AND_HOLD="EVT_TAP_AND_HOLD",d=u))||d);t._RF.pop()}}}));

System.register("chunks:///_virtual/TestPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GConfig.ts","./App.ts"],(function(t){var e,n,o,i,r,s;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,i=t.Component},function(t){r=t.GConfig},function(t){s=t.gAppDirector}],execute:function(){var c;n._RF.push({},"0a9b8TwGpdA5KE9lR19yvPe","TestPanel",void 0);var a=o.ccclass;o.property,t("TestPanel",a("TestPanel")(c=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var o=n.prototype;return o.start=function(){r.testing||(this.node.active=!1)},o.onTestPlatformClick=function(t){s.loadView("PlatformPanelTestView")},n}(i))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/TestView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./GConst.ts"],(function(t){var e,n,o,i,s,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,i=t.Component},function(t){s=t.gAppDirector},function(t){c=t.VIEW_HOME}],execute:function(){var r;n._RF.push({},"5f683jaJdROsYov9G2/80Q5","TestView",void 0);var u=o.ccclass;o.property,t("TestView",u("TestView")(r=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var o=n.prototype;return o.start=function(){},o.onBtnClick=function(){console.log("TestView.onBtnClick()"),s.loadView(c)},n}(i))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/ViewModel.ts",["cc","./JsonOb.ts"],(function(t){var n,e,i;return{setters:[function(t){n=t.cclegacy,e=t.director},function(t){i=t.JsonOb}],execute:function(){n._RF.push({},"e6c35Yz+BpGIJU5OOuSNZ0y","ViewModel",void 0);var o="VC:";function r(t,n,e,i){void 0===i&&(i="");for(var o=n.split("."),r=0;r<o.length;r++){var a=o[r];if(a in t==!1){console.error("["+a+"] not find in "+i+"."+n);break}r==o.length-1?t[a]=e:t=t[a]}}function a(t,n,e,i){void 0===i&&(i="");for(var o=n.split("."),r=0;r<o.length;r++){var a=o[r];if(a in t==!1)return console.error("["+a+"] not find in "+i+"."+n),e;t=t[a]}return null==t&&(t=e),t}var s=function(){function t(t,n){this.$data=void 0,this._tag="",this.active=!0,this.emitToRootPath=!1,new i(t,this._callback.bind(this)),this.$data=t,this._tag=n}var n=t.prototype;return n._callback=function(t,n,i){if(1==this.active){var r=o+this._tag+"."+i.join(".");if(e.emit(r,t,n,[this._tag].concat(i)),this.emitToRootPath&&e.emit(o+this._tag,t,n,i),i.length>=2)for(var a=0;a<i.length-1;a++)i[a]}},n.setValue=function(t,n){r(this.$data,t,n,this._tag)},n.getValue=function(t,n){return a(this.$data,t,n,this._tag)},t}();t("VM",new(function(){function t(){this._mvs=[],this.EMIT_HEAD=o,this.setObjValue=r,this.getObjValue=a}var n=t.prototype;return n.add=function(t,n,e){void 0===n&&(n="global"),void 0===e&&(e=!1),console.log("VM.add() start,tag:",n,";data:",t);var i=new s(t,n),o=this._mvs.find((function(t){return t.tag===n}));n.includes(".")?console.error("cant write . in tag:",n):o?console.error("already set VM tag:"+n):(i.emitToRootPath=e,this._mvs.push({tag:n,vm:i}),console.log("VM.add() end;"))},n.remove=function(t){var n=this._mvs.findIndex((function(n){return n.tag===t}));n>=0&&this._mvs.splice(n,1)},n.get=function(t){var n=this._mvs.find((function(n){return n.tag===t}));if(null!=n)return n.vm;console.error("cant find VM from:",t)},n.addValue=function(t,n){var e=(t=t.trim()).split(".");e.length<2&&console.error("Cant find path:"+t);var i=this.get(e[0]);if(i){var o=e.slice(1).join(".");i.setValue(o,i.getValue(o)+n)}else console.error("Cant Set VM:"+e[0])},n.getValue=function(t,n){var e=(t=t.trim()).split(".");if(e.length<2)console.error("Get Value Cant find path:"+t);else{var i=this.get(e[0]);if(i)return i.getValue(e.slice(1).join("."),n);console.error("Cant Get VM:"+e[0])}},n.setValue=function(t,n){var e=(t=t.trim()).split(".");if(e.length<2)console.error("Set Value Cant find path:"+t);else{var i=this.get(e[0]);i?i.setValue(e.slice(1).join("."),n):console.error("Cant Set VM:"+e[0])}},n.bindPath=function(t,n,i,r){""!=(t=t.trim())?"*"!==t.split(".")[0]?e.on(o+t,n,i,r):console.error(t,", VMParent onLoad ,  VMParent "):console.error(i.node.name,"")},n.unbindPath=function(t,n,i){"*"!==(t=t.trim()).split(".")[0]?e.off(o+t,n,i):console.error(t,", VMParent onLoad ,  VMParent ")},n.inactive=function(){this._mvs.forEach((function(t){t.vm.active=!1}))},n.active=function(){this._mvs.forEach((function(t){t.vm.active=!0}))},t}()));n._RF.pop()}}}));

System.register("chunks:///_virtual/VMBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewModel.ts"],(function(t){var n,e,a,h,i;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator,h=t.Component},function(t){i=t.VM}],execute:function(){var o;e._RF.push({},"20cb9U+EBlFFaM7zMLMEEl6","VMBase",void 0);var r=a.ccclass;a.property,t("default",r(o=function(t){function e(){for(var n,e=arguments.length,a=new Array(e),h=0;h<e;h++)a[h]=arguments[h];return(n=t.call.apply(t,[this].concat(a))||this).watchPath="",n.watchPathArr=[],n.templateMode=!1,n.templateValueArr=[],n.VM=i,n}n(e,t);var a=e.prototype;return a.onLoad=function(){for(var t=this,n=this.watchPath.split("."),e=1;e<n.length;e++){if("*"==n[e]){var a=this.node.getParent().children.findIndex((function(n){return n===t.node}));a<=0&&(a=0),n[e]=a.toString();break}}this.watchPath=n.join(".");var h=this.watchPathArr;if(h.length>=1)for(var i=0;i<h.length;i++){for(var o=h[i].split("."),r=1;r<o.length;r++){if("*"==o[r]){var s=this.node.getParent().children.findIndex((function(n){return n===t.node}));s<=0&&(s=0),o[r]=s.toString();break}}this.watchPathArr[i]=o.join(".")}""==this.watchPath&&""==this.watchPathArr.join("")&&console.log(":",this.node.getParent().name+"."+this.node.name)},a.onEnable=function(){this.templateMode?this.setMultPathEvent(!0):""!=this.watchPath&&this.VM.bindPath(this.watchPath,this.onValueChanged,this),this.onValueInit()},a.onDisable=function(){this.templateMode?this.setMultPathEvent(!1):""!=this.watchPath&&this.VM.unbindPath(this.watchPath,this.onValueChanged,this)},a.setMultPathEvent=function(t){void 0===t&&(t=!0);for(var n=this.watchPathArr,e=0;e<n.length;e++){var a=n[e];t?this.VM.bindPath(a,this.onValueChanged,this):this.VM.unbindPath(a,this.onValueChanged,this)}},a.onValueInit=function(){},a.onValueChanged=function(t,n,e){},e}(h))||o);e._RF.pop()}}}));

System.register("chunks:///_virtual/VMLabel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./VMBase.ts","./StringFormat.ts"],(function(t){var e,r,a,i,n,l,o,c,s,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,a=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){n=t.cclegacy,l=t._decorator,o=t.CCString,c=t.Label},function(t){s=t.default},function(t){u=t.StringFormatFunction}],execute:function(){var h,p,f,m,b,g,d,V,L,v,y,w;n._RF.push({},"b6c61mwNepBdJLfuUvnLdcN","VMLabel",void 0);var M=l.ccclass,T=l.property,x=l.menu,A=l.executeInEditMode,F=l.help,P="cc.Label";t("default",(h=x("ModelViewer/VM-Label(VM)"),p=F("https://github.com/wsssheep/cocos_creator_mvvm_tools/blob/master/docs/VMLabel.md"),f=T({visible:function(){return!0}}),m=T({readonly:!0}),b=T({tooltip:",,\n {{0}},"}),g=T({type:[o]}),M(d=A(d=h(d=p((L=e((V=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return e=t.call.apply(t,[this].concat(n))||this,a(e,"watchPath",L,i(e)),a(e,"labelType",v,i(e)),a(e,"templateMode",y,i(e)),a(e,"watchPathArr",w,i(e)),e.templateValueArr=[],e.templateFormatArr=[],e.originText="",e}r(e,t);var n=e.prototype;return n.onRestore=function(){this.checkLabel()},n.onLoad=function(){t.prototype.onLoad.call(this),this.checkLabel(),this.templateMode&&(this.originText=this.getLabelValue(),this.parseTemplate())},n.start=function(){this.onValueInit()},n.parseTemplate=function(){var t=/\{\{(.+?)\}\}/,e=this.originText.match(/\{\{(.+?)\}\}/g);if(null!=e)for(var r=0;r<e.length;r++){var a=e[r].match(t)[1].split(":")[1]||"";this.templateFormatArr[r]=a}},n.getReplaceText=function(){if(!this.originText)return"";var t=/\{\{(.+?)\}\}/,e=this.originText.match(/\{\{(.+?)\}\}/g);if(null==e)return"";for(var r=this.originText,a=0;a<e.length;a++){var i,n=e[a],l=n.match(t),o=parseInt(l[1]||"0")||0,c=this.templateFormatArr[a];i=this.templateValueArr[o],r=r.replace(n,this.getValueFromFormat(i,c))}return r},n.getValueFromFormat=function(t,e){return u.deal(t,e)},n.onValueInit=function(){if(!1===this.templateMode)this.setLabelValue(this.VM.getValue(this.watchPath));else{for(var t=this.watchPathArr.length,e=0;e<t;e++)this.templateValueArr[e]=this.VM.getValue(this.watchPathArr[e],"?");this.setLabelValue(this.getReplaceText())}},n.onValueChanged=function(t,e,r){if(!1===this.templateMode)this.setLabelValue(t);else{var a=r.join("."),i=this.watchPathArr.findIndex((function(t){return t===a}));i>=0&&(this.templateValueArr[i]=t,this.setLabelValue(this.getReplaceText()))}},n.setLabelValue=function(t){this.getComponent(c).string=t+""},n.getLabelValue=function(){return this.getComponent(c).string},n.checkLabel=function(){for(var t=["cc.Label","cc.RichText","cc.EditBox"],e=0;e<t.length;e++){var r=t[e];if(this.node.getComponent(r))return this.labelType=r,!0}return console.error("label"),!1},e}(s)).prototype,"watchPath",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=e(V.prototype,"labelType",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return P}}),y=e(V.prototype,"templateMode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w=e(V.prototype,"watchPathArr",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=V))||d)||d)||d)||d));n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});